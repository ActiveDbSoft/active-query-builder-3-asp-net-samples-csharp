!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AQB=t():e.AQB=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=84)}([function(e,t,n){var i,o;!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";function s(e,t){var n=(t=t||K).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function a(e){var t=!!e&&"length"in e&&e.length,n=ae.type(e);return"function"!==n&&!ae.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function u(e,t,n){return ae.isFunction(t)?ae.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?ae.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ae.grep(e,function(e){return ee.call(t,e)>-1!==n}):ge.test(t)?ae.filter(t,e,n):(t=ae.filter(t,e),ae.grep(e,function(e){return ee.call(t,e)>-1!==n&&1===e.nodeType}))}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function d(e){return e}function h(e){throw e}function p(e,t,n,i){var o;try{e&&ae.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&ae.isFunction(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function f(){K.removeEventListener("DOMContentLoaded",f),n.removeEventListener("load",f),ae.ready()}function m(){this.expando=ae.expando+m.uid++}function g(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Fe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:De.test(e)?JSON.parse(e):e)}(n)}catch(e){}Te.set(e,t,n)}else n=void 0;return n}function b(e,t,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return ae.css(e,t,"")},l=a(),u=n&&n[3]||(ae.cssNumber[t]?"":"px"),c=(ae.cssNumber[t]||"px"!==u&&+l)&&qe.exec(ae.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{c/=r=r||".5",ae.style(e,t,c+u)}while(r!==(r=a()/l)&&1!==r&&--s)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=o)),o}function v(e,t){for(var n,i,o=[],r=0,s=e.length;r<s;r++)(i=e[r]).style&&(n=i.style.display,t?("none"===n&&(o[r]=Ee.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&Ae(i)&&(o[r]=function(e){var t,n=e.ownerDocument,i=e.nodeName,o=Le[i];return o||(t=n.body.appendChild(n.createElement(i)),o=ae.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Le[i]=o,o)}(i))):"none"!==n&&(o[r]="none",Ee.set(i,"display",n)));for(r=0;r<s;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}function y(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&l(e,t)?ae.merge([e],n):n}function _(e,t){for(var n=0,i=e.length;n<i;n++)Ee.set(e[n],"globalEval",!t||Ee.get(t[n],"globalEval"))}function C(e,t,n,i,o){for(var r,s,a,l,u,c,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===ae.type(r))ae.merge(h,r.nodeType?[r]:r);else if(Qe.test(r)){for(s=s||d.appendChild(t.createElement("div")),a=(Pe.exec(r)||["",""])[1].toLowerCase(),l=Me[a]||Me._default,s.innerHTML=l[1]+ae.htmlPrefilter(r)+l[2],c=l[0];c--;)s=s.lastChild;ae.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(r));for(d.textContent="",p=0;r=h[p++];)if(i&&ae.inArray(r,i)>-1)o&&o.push(r);else if(u=ae.contains(r.ownerDocument,r),s=y(d.appendChild(r),"script"),u&&_(s),n)for(c=0;r=s[c++];)je.test(r.type||"")&&n.push(r);return d}function x(){return!0}function w(){return!1}function k(){try{return K.activeElement}catch(e){}}function S(e,t,n,i,o,r){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)S(e,a,n,i,t[a],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=w;else if(!o)return e;return 1===r&&(s=o,(o=function(e){return ae().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=ae.guid++)),e.each(function(){ae.event.add(this,t,o,i,n)})}function E(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")?ae(">tbody",e)[0]||e:e}function T(e,t){var n,i,o,r,s,a,l,u;if(1===t.nodeType){if(Ee.hasData(e)&&(r=Ee.access(e),s=Ee.set(t,r),u=r.events)){delete s.handle,s.events={};for(o in u)for(n=0,i=u[o].length;n<i;n++)ae.event.add(t,o,u[o][n])}Te.hasData(e)&&(a=Te.access(e),l=ae.extend({},a),Te.set(t,l))}}function D(e,t,n,i){t=J.apply([],t);var o,r,a,l,u,c,d=0,h=e.length,p=h-1,f=t[0],m=ae.isFunction(f);if(m||h>1&&"string"==typeof f&&!se.checkClone&&Ge.test(f))return e.each(function(o){var r=e.eq(o);m&&(t[0]=f.call(this,o,r.html())),D(r,t,n,i)});if(h&&(o=C(t,e[0].ownerDocument,!1,e,i),r=o.firstChild,1===o.childNodes.length&&(o=r),r||i)){for(l=(a=ae.map(y(o,"script"),function(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e})).length;d<h;d++)u=o,d!==p&&(u=ae.clone(u,!0,!0),l&&ae.merge(a,y(u,"script"))),n.call(e[d],u,d);if(l)for(c=a[a.length-1].ownerDocument,ae.map(a,function(e){var t=$e.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}),d=0;d<l;d++)u=a[d],je.test(u.type||"")&&!Ee.access(u,"globalEval")&&ae.contains(c,u)&&(u.src?ae._evalUrl&&ae._evalUrl(u.src):s(u.textContent.replace(Ke,""),c))}return e}function F(e,t,n){for(var i,o=t?ae.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ae.cleanData(y(i)),i.parentNode&&(n&&ae.contains(i.ownerDocument,i)&&_(y(i,"script")),i.parentNode.removeChild(i));return e}function O(e,t,n){var i,o,r,s,a=e.style;return(n=n||Je(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||ae.contains(e.ownerDocument,e)||(s=ae.style(e,t)),!se.pixelMarginRight()&&Xe.test(s)&&Ye.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function q(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function I(e){var t=ae.cssProps[e];return t||(t=ae.cssProps[e]=function(e){if(e in ot)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=it.length;n--;)if((e=it[n]+t)in ot)return e}(e)||e),t}function A(e,t,n){var i=qe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function B(e,t,n,i,o){var r,s=0;for(r=n===(i?"border":"content")?4:"width"===t?1:0;r<4;r+=2)"margin"===n&&(s+=ae.css(e,n+Ie[r],!0,o)),i?("content"===n&&(s-=ae.css(e,"padding"+Ie[r],!0,o)),"margin"!==n&&(s-=ae.css(e,"border"+Ie[r]+"Width",!0,o))):(s+=ae.css(e,"padding"+Ie[r],!0,o),"padding"!==n&&(s+=ae.css(e,"border"+Ie[r]+"Width",!0,o)));return s}function L(e,t,n){var i,o=Je(e),r=O(e,t,o),s="border-box"===ae.css(e,"boxSizing",!1,o);return Xe.test(r)?r:(i=s&&(se.boxSizingReliable()||r===e.style[t]),"auto"===r&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)]),(r=parseFloat(r)||0)+B(e,t,n||(s?"border":"content"),i,o)+"px")}function N(e,t,n,i,o){return new N.prototype.init(e,t,n,i,o)}function P(){st&&(!1===K.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(P):n.setTimeout(P,ae.fx.interval),ae.fx.tick())}function j(){return n.setTimeout(function(){rt=void 0}),rt=ae.now()}function M(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=Ie[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Q(e,t,n){for(var i,o=(R.tweeners[t]||[]).concat(R.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function R(e,t,n){var i,o,r=0,s=R.prefilters.length,a=ae.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=rt||j(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),r=0,s=u.tweens.length;r<s;r++)u.tweens[r].run(i);return a.notifyWith(e,[u,i,n]),i<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:ae.extend({},t),opts:ae.extend(!0,{specialEasing:{},easing:ae.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ae.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,i,o,r,s;for(n in e)if(i=ae.camelCase(n),o=t[i],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(s=ae.cssHooks[i])&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}(c,u.opts.specialEasing);r<s;r++)if(i=R.prefilters[r].call(u,e,c,u.opts))return ae.isFunction(i.stop)&&(ae._queueHooks(u.elem,u.opts.queue).stop=ae.proxy(i.stop,i)),i;return ae.map(c,Q,u),ae.isFunction(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),ae.fx.timer(ae.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function H(e){return(e.match(Ce)||[]).join(" ")}function z(e){return e.getAttribute&&e.getAttribute("class")||""}function U(e,t,n,i){var o;if(Array.isArray(t))ae.each(t,function(t,o){n||vt.test(e)?i(e,o):U(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==ae.type(t))i(e,t);else for(o in t)U(e+"["+o+"]",t[o],n,i)}function W(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(Ce)||[];if(ae.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function V(e,t,n,i){function o(a){var l;return r[a]=!0,ae.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var r={},s=e===Ft;return o(t.dataTypes[0])||!r["*"]&&o("*")}function G(e,t){var n,i,o=ae.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&ae.extend(!0,e,i),e}var $=[],K=n.document,Y=Object.getPrototypeOf,X=$.slice,J=$.concat,Z=$.push,ee=$.indexOf,te={},ne=te.toString,ie=te.hasOwnProperty,oe=ie.toString,re=oe.call(Object),se={},ae=function(e,t){return new ae.fn.init(e,t)},le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ue=/^-ms-/,ce=/-([a-z])/g;ae.fn=ae.prototype={jquery:"3.2.1",constructor:ae,length:0,toArray:function(){return X.call(this)},get:function(e){return null==e?X.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ae.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ae.each(this,e)},map:function(e){return this.pushStack(ae.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:$.sort,splice:$.splice},ae.extend=ae.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ae.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(u&&i&&(ae.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,r=n&&Array.isArray(n)?n:[]):r=n&&ae.isPlainObject(n)?n:{},s[t]=ae.extend(u,r,i)):void 0!==i&&(s[t]=i));return s},ae.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ae.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ae.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ne.call(e))&&(!(t=Y(e))||"function"==typeof(n=ie.call(t,"constructor")&&t.constructor)&&oe.call(n)===re)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?te[ne.call(e)]||"object":typeof e},globalEval:function(e){s(e)},camelCase:function(e){return e.replace(ue,"ms-").replace(ce,function(e,t){return t.toUpperCase()})},each:function(e,t){var n,i=0;if(a(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(le,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?ae.merge(n,"string"==typeof e?[e]:e):Z.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ee.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,s=!n;o<r;o++)!t(e[o],o)!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,s=[];if(a(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&s.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&s.push(o);return J.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),ae.isFunction(e))return i=X.call(arguments,2),o=function(){return e.apply(t||this,i.concat(X.call(arguments)))},o.guid=e.guid=e.guid||ae.guid++,o},now:Date.now,support:se}),"function"==typeof Symbol&&(ae.fn[Symbol.iterator]=$[Symbol.iterator]),ae.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){te["[object "+t+"]"]=t.toLowerCase()});var de=function(e){function t(e,t,n,i){var o,r,s,a,l,c,h,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&((t?t.ownerDocument||t:P)!==F&&D(t),t=t||F,q)){if(11!==f&&(l=pe.exec(e)))if(o=l[1]){if(9===f){if(!(s=t.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(p&&(s=p.getElementById(o))&&L(t,s)&&s.id===o)return n.push(s),n}else{if(l[2])return $.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&v.getElementsByClassName&&t.getElementsByClassName)return $.apply(n,t.getElementsByClassName(o)),n}if(v.qsa&&!H[e+" "]&&(!I||!I.test(e))){if(1!==f)p=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,ve):t.setAttribute("id",a=N),r=(c=x(e)).length;r--;)c[r]="#"+a+" "+d(c[r]);h=c.join(","),p=fe.test(e)&&u(t.parentNode)||t}if(h)try{return $.apply(n,p.querySelectorAll(h)),n}catch(e){}finally{a===N&&t.removeAttribute("id")}}}return k(e.replace(ie,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>y.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[N]=!0,e}function o(e){var t=F.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=n.length;i--;)y.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&_e(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,o=t.next,r=o||i,s=n&&"parentNode"===r,a=M++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,l){var u,c,d,h=[j,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(d=t[N]||(t[N]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[r])&&u[0]===j&&u[1]===a)return h[2]=u[2];if(c[r]=h,h[2]=e(t,n,l))return!0}return!1}}function p(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function f(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),u&&t.push(a)));return s}function m(e,n,o,r,s,a){return r&&!r[N]&&(r=m(r)),s&&!s[N]&&(s=m(s,a)),i(function(i,a,l,u){var c,d,h,p=[],m=[],g=a.length,b=i||function(e,n,i){for(var o=0,r=n.length;o<r;o++)t(e,n[o],i);return i}(n||"*",l.nodeType?[l]:l,[]),v=!e||!i&&n?b:f(b,p,e,l,u),y=o?s||(i?e:g||r)?[]:a:v;if(o&&o(v,y,l,u),r)for(c=f(y,m),r(c,[],l,u),d=c.length;d--;)(h=c[d])&&(y[m[d]]=!(v[m[d]]=h));if(i){if(s||e){if(s){for(c=[],d=y.length;d--;)(h=y[d])&&c.push(v[d]=h);s(null,y=[],c,u)}for(d=y.length;d--;)(h=y[d])&&(c=s?Y(i,h):p[d])>-1&&(i[c]=!(a[c]=h))}}else y=f(y===a?y.splice(g,y.length):y),s?s(null,a,y,u):$.apply(a,y)})}function g(e){for(var t,n,i,o=e.length,r=y.relative[e[0].type],s=r||y.relative[" "],a=r?1:0,l=h(function(e){return e===t},s,!0),u=h(function(e){return Y(t,e)>-1},s,!0),c=[function(e,n,i){var o=!r&&(i||n!==S)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,o}];a<o;a++)if(n=y.relative[e[a].type])c=[h(p(c),n)];else{if((n=y.filter[e[a].type].apply(null,e[a].matches))[N]){for(i=++a;i<o&&!y.relative[e[i].type];i++);return m(a>1&&p(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ie,"$1"),n,a<i&&g(e.slice(a,i)),i<o&&g(e=e.slice(i)),i<o&&d(e))}c.push(n)}return p(c)}var b,v,y,_,C,x,w,k,S,E,T,D,F,O,q,I,A,B,L,N="sizzle"+1*new Date,P=e.document,j=0,M=0,Q=n(),R=n(),H=n(),z=function(e,t){return e===t&&(T=!0),0},U={}.hasOwnProperty,W=[],V=W.pop,G=W.push,$=W.push,K=W.slice,Y=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},X="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",J="[\\x20\\t\\r\\n\\f]",Z="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ee="\\["+J+"*("+Z+")(?:"+J+"*([*^$|!~]?=)"+J+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Z+"))|)"+J+"*\\]",te=":("+Z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ee+")*)|.*)\\)|)",ne=new RegExp(J+"+","g"),ie=new RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g"),oe=new RegExp("^"+J+"*,"+J+"*"),re=new RegExp("^"+J+"*([>+~]|"+J+")"+J+"*"),se=new RegExp("="+J+"*([^\\]'\"]*?)"+J+"*\\]","g"),ae=new RegExp(te),le=new RegExp("^"+Z+"$"),ue={ID:new RegExp("^#("+Z+")"),CLASS:new RegExp("^\\.("+Z+")"),TAG:new RegExp("^("+Z+"|[*])"),ATTR:new RegExp("^"+ee),PSEUDO:new RegExp("^"+te),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),bool:new RegExp("^(?:"+X+")$","i"),needsContext:new RegExp("^"+J+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)","i")},ce=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,pe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fe=/[+~]/,me=new RegExp("\\\\([\\da-f]{1,6}"+J+"?|("+J+")|.)","ig"),ge=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ve=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ye=function(){D()},_e=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{$.apply(W=K.call(P.childNodes),P.childNodes),W[P.childNodes.length].nodeType}catch(e){$={apply:W.length?function(e,t){G.apply(e,K.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}v=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:P;return i!==F&&9===i.nodeType&&i.documentElement?(F=i,O=F.documentElement,q=!C(F),P!==F&&(n=F.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ye,!1):n.attachEvent&&n.attachEvent("onunload",ye)),v.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=o(function(e){return e.appendChild(F.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=he.test(F.getElementsByClassName),v.getById=o(function(e){return O.appendChild(e).id=N,!F.getElementsByName||!F.getElementsByName(N).length}),v.getById?(y.filter.ID=function(e){var t=e.replace(me,ge);return function(e){return e.getAttribute("id")===t}},y.find.ID=function(e,t){if(void 0!==t.getElementById&&q){var n=t.getElementById(e);return n?[n]:[]}}):(y.filter.ID=function(e){var t=e.replace(me,ge);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},y.find.ID=function(e,t){if(void 0!==t.getElementById&&q){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),y.find.TAG=v.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):v.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},y.find.CLASS=v.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&q)return t.getElementsByClassName(e)},A=[],I=[],(v.qsa=he.test(F.querySelectorAll))&&(o(function(e){O.appendChild(e).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+J+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+J+"*(?:value|"+X+")"),e.querySelectorAll("[id~="+N+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+N+"+*").length||I.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=F.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+J+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(v.matchesSelector=he.test(B=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){v.disconnectedMatch=B.call(e,"*"),B.call(e,"[s!='']:x"),A.push("!=",te)}),I=I.length&&new RegExp(I.join("|")),A=A.length&&new RegExp(A.join("|")),t=he.test(O.compareDocumentPosition),L=t||he.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return T=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===F||e.ownerDocument===P&&L(P,e)?-1:t===F||t.ownerDocument===P&&L(P,t)?1:E?Y(E,e)-Y(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return T=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],l=[t];if(!o||!r)return e===F?-1:t===F?1:o?-1:r?1:E?Y(E,e)-Y(E,t):0;if(o===r)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===P?-1:l[i]===P?1:0},F):F},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==F&&D(e),n=n.replace(se,"='$1']"),v.matchesSelector&&q&&!H[n+" "]&&(!A||!A.test(n))&&(!I||!I.test(n)))try{var i=B.call(e,n);if(i||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,F,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==F&&D(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==F&&D(e);var n=y.attrHandle[t.toLowerCase()],i=n&&U.call(y.attrHandle,t.toLowerCase())?n(e,t,!q):void 0;return void 0!==i?i:v.attributes||!q?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(be,ve)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(T=!v.detectDuplicates,E=!v.sortStable&&e.slice(0),e.sort(z),T){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return E=null,e},_=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},(y=t.selectors={cacheLength:50,createPseudo:i,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ge),e[3]=(e[3]||e[4]||e[5]||"").replace(me,ge),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ae.test(n)&&(t=x(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,ge).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Q[e+" "];return t||(t=new RegExp("(^|"+J+")"+e+"("+J+"|$)"))&&Q(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(ne," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,b=a&&t.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===b:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(y=(p=(u=(c=(d=(h=g)[N]||(h[N]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===j&&u[1])&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===t){c[e]=[j,p,y];break}}else if(v&&(y=p=(u=(c=(d=(h=t)[N]||(h[N]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===j&&u[1]),!1===y)for(;(h=++p&&h&&h[m]||(y=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==b:1!==h.nodeType)||!++y||(v&&((c=(d=h[N]||(h[N]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[j,y]),h!==t)););return(y-=o)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,n){var o,r=y.pseudos[e]||y.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[N]?r(n):r.length>1?(o=[e,e,"",n],y.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=r(e,n),s=o.length;s--;)e[i=Y(e,o[s])]=!(t[i]=o[s])}):function(e){return r(e,0,o)}):r}},pseudos:{not:i(function(e){var t=[],n=[],o=w(e.replace(ie,"$1"));return o[N]?i(function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(me,ge),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return le.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,ge).toLowerCase(),function(t){var n;do{if(n=q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!y.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return ce.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=y.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})y.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return c.prototype=y.filters=y.pseudos,y.setFilters=new c,x=t.tokenize=function(e,n){var i,o,r,s,a,l,u,c=R[e+" "];if(c)return n?0:c.slice(0);for(a=e,l=[],u=y.preFilter;a;){i&&!(o=oe.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=re.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ie," ")}),a=a.slice(i.length));for(s in y.filter)!(o=ue[s].exec(a))||u[s]&&!(o=u[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):R(e,l).slice(0)},w=t.compile=function(e,n){var o,r=[],s=[],a=H[e+" "];if(!a){for(n||(n=x(e)),o=n.length;o--;)(a=g(n[o]))[N]?r.push(a):s.push(a);(a=H(e,function(e,n){var o=n.length>0,r=e.length>0,s=function(i,s,a,l,u){var c,d,h,p=0,m="0",g=i&&[],b=[],v=S,_=i||r&&y.find.TAG("*",u),C=j+=null==v?1:Math.random()||.1,x=_.length;for(u&&(S=s===F||s||u);m!==x&&null!=(c=_[m]);m++){if(r&&c){for(d=0,s||c.ownerDocument===F||(D(c),a=!q);h=e[d++];)if(h(c,s||F,a)){l.push(c);break}u&&(j=C)}o&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=m,o&&m!==p){for(d=0;h=n[d++];)h(g,b,s,a);if(i){if(p>0)for(;m--;)g[m]||b[m]||(b[m]=V.call(l));b=f(b)}$.apply(l,b),u&&!i&&b.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(j=C,S=v),g};return o?i(s):s}(s,r))).selector=e}return a},k=t.select=function(e,t,n,i){var o,r,s,a,l,c="function"==typeof e&&e,h=!i&&x(e=c.selector||e);if(n=n||[],1===h.length){if((r=h[0]=h[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&9===t.nodeType&&q&&y.relative[r[1].type]){if(!(t=(y.find.ID(s.matches[0].replace(me,ge),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=ue.needsContext.test(e)?0:r.length;o--&&(s=r[o],!y.relative[a=s.type]);)if((l=y.find[a])&&(i=l(s.matches[0].replace(me,ge),fe.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&d(r)))return $.apply(n,i),n;break}}return(c||w(e,h))(i,t,!q,n,!t||fe.test(e)&&u(t.parentNode)||t),n},v.sortStable=N.split("").sort(z).join("")===N,v.detectDuplicates=!!T,D(),v.sortDetached=o(function(e){return 1&e.compareDocumentPosition(F.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(X,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(n);ae.find=de,ae.expr=de.selectors,ae.expr[":"]=ae.expr.pseudos,ae.uniqueSort=ae.unique=de.uniqueSort,ae.text=de.getText,ae.isXMLDoc=de.isXML,ae.contains=de.contains,ae.escapeSelector=de.escape;var he=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ae(e).is(n))break;i.push(e)}return i},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},fe=ae.expr.match.needsContext,me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,ge=/^.[^:#\[\.,]*$/;ae.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ae.find.matchesSelector(i,e)?[i]:[]:ae.find.matches(e,ae.grep(t,function(e){return 1===e.nodeType}))},ae.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(ae(e).filter(function(){for(t=0;t<i;t++)if(ae.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)ae.find(e,o[t],n);return i>1?ae.uniqueSort(n):n},filter:function(e){return this.pushStack(u(this,e||[],!1))},not:function(e){return this.pushStack(u(this,e||[],!0))},is:function(e){return!!u(this,"string"==typeof e&&fe.test(e)?ae(e):e||[],!1).length}});var be,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ae.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||be,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ae?t[0]:t,ae.merge(this,ae.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),me.test(i[1])&&ae.isPlainObject(t))for(i in t)ae.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=K.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ae.isFunction(e)?void 0!==n.ready?n.ready(e):e(ae):ae.makeArray(e,this)}).prototype=ae.fn,be=ae(K);var ye=/^(?:parents|prev(?:Until|All))/,_e={children:!0,contents:!0,next:!0,prev:!0};ae.fn.extend({has:function(e){var t=ae(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ae.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],s="string"!=typeof e&&ae(e);if(!fe.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ae.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ae.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?ee.call(ae(e),this[0]):ee.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ae.uniqueSort(ae.merge(this.get(),ae(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ae.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return he(e,"parentNode")},parentsUntil:function(e,t,n){return he(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return he(e,"nextSibling")},prevAll:function(e){return he(e,"previousSibling")},nextUntil:function(e,t,n){return he(e,"nextSibling",n)},prevUntil:function(e,t,n){return he(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return l(e,"iframe")?e.contentDocument:(l(e,"template")&&(e=e.content||e),ae.merge([],e.childNodes))}},function(e,t){ae.fn[e]=function(n,i){var o=ae.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ae.filter(i,o)),this.length>1&&(_e[e]||ae.uniqueSort(o),ye.test(e)&&o.reverse()),this.pushStack(o)}});var Ce=/[^\x20\t\r\n\f]+/g;ae.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return ae.each(e.match(Ce)||[],function(e,n){t[n]=!0}),t}(e):ae.extend({},e);var t,n,i,o,r=[],s=[],a=-1,l=function(){for(o=o||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<r.length;)!1===r[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!t&&(a=r.length-1,s.push(n)),function t(n){ae.each(n,function(n,i){ae.isFunction(i)?e.unique&&u.has(i)||r.push(i):i&&i.length&&"string"!==ae.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return ae.each(arguments,function(e,t){for(var n;(n=ae.inArray(t,r,n))>-1;)r.splice(n,1),n<=a&&a--}),this},has:function(e){return e?ae.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=s=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ae.extend({Deferred:function(e){var t=[["notify","progress",ae.Callbacks("memory"),ae.Callbacks("memory"),2],["resolve","done",ae.Callbacks("once memory"),ae.Callbacks("once memory"),0,"resolved"],["reject","fail",ae.Callbacks("once memory"),ae.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return ae.Deferred(function(n){ae.each(t,function(t,i){var o=ae.isFunction(e[i[4]])&&e[i[4]];r[i[1]](function(){var e=o&&o.apply(this,arguments);e&&ae.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,i,o){function r(e,t,i,o){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(e<s)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,ae.isFunction(u)?o?u.call(n,r(s,t,d,o),r(s,t,h,o)):(s++,u.call(n,r(s,t,d,o),r(s,t,h,o),r(s,t,d,t.notifyWith))):(i!==d&&(a=void 0,l=[n]),(o||t.resolveWith)(a,l))}},c=o?u:function(){try{u()}catch(n){ae.Deferred.exceptionHook&&ae.Deferred.exceptionHook(n,c.stackTrace),e+1>=s&&(i!==h&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?c():(ae.Deferred.getStackHook&&(c.stackTrace=ae.Deferred.getStackHook()),n.setTimeout(c))}}var s=0;return ae.Deferred(function(n){t[0][3].add(r(0,n,ae.isFunction(o)?o:d,n.notifyWith)),t[1][3].add(r(0,n,ae.isFunction(e)?e:d)),t[2][3].add(r(0,n,ae.isFunction(i)?i:h))}).promise()},promise:function(e){return null!=e?ae.extend(e,o):o}},r={};return ae.each(t,function(e,n){var s=n[2],a=n[5];o[n[1]]=s.add,a&&s.add(function(){i=a},t[3-e][2].disable,t[0][2].lock),s.add(n[3].fire),r[n[0]]=function(){return r[n[0]+"With"](this===r?void 0:this,arguments),this},r[n[0]+"With"]=s.fireWith}),o.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=X.call(arguments),r=ae.Deferred(),s=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?X.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(p(e,r.done(s(n)).resolve,r.reject,!t),"pending"===r.state()||ae.isFunction(o[n]&&o[n].then)))return r.then();for(;n--;)p(o[n],s(n),r.reject);return r.promise()}});var xe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ae.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&xe.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ae.readyException=function(e){n.setTimeout(function(){throw e})};var we=ae.Deferred();ae.fn.ready=function(e){return we.then(e).catch(function(e){ae.readyException(e)}),this},ae.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ae.readyWait:ae.isReady)||(ae.isReady=!0,!0!==e&&--ae.readyWait>0||we.resolveWith(K,[ae]))}}),ae.ready.then=we.then,"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?n.setTimeout(ae.ready):(K.addEventListener("DOMContentLoaded",f),n.addEventListener("load",f));var ke=function(e,t,n,i,o,r,s){var a=0,l=e.length,u=null==n;if("object"===ae.type(n)){o=!0;for(a in n)ke(e,t,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,ae.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(ae(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:u?t.call(e):l?t(e[0],n):r},Se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[ae.camelCase(t)]=n;else for(i in t)o[ae.camelCase(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ae.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ae.camelCase):(t=ae.camelCase(t))in i?[t]:t.match(Ce)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||ae.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ae.isEmptyObject(t)}};var Ee=new m,Te=new m,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;ae.extend({hasData:function(e){return Te.hasData(e)||Ee.hasData(e)},data:function(e,t,n){return Te.access(e,t,n)},removeData:function(e,t){Te.remove(e,t)},_data:function(e,t,n){return Ee.access(e,t,n)},_removeData:function(e,t){Ee.remove(e,t)}}),ae.fn.extend({data:function(e,t){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=Te.get(r),1===r.nodeType&&!Ee.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=ae.camelCase(i.slice(5)),g(r,i,o[i]));Ee.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Te.set(this,e)}):ke(this,function(t){var n;if(r&&void 0===t){if(void 0!==(n=Te.get(r,e)))return n;if(void 0!==(n=g(r,e)))return n}else this.each(function(){Te.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Te.remove(this,e)})}}),ae.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Ee.get(e,t),n&&(!i||Array.isArray(n)?i=Ee.access(e,t,ae.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ae.queue(e,t),i=n.length,o=n.shift(),r=ae._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){ae.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ee.get(e,n)||Ee.access(e,n,{empty:ae.Callbacks("once memory").add(function(){Ee.remove(e,[t+"queue",n])})})}}),ae.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ae.queue(this[0],e):void 0===t?this:this.each(function(){var n=ae.queue(this,e,t);ae._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ae.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ae.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ae.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Ee.get(r[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],Ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae.contains(e.ownerDocument,e)&&"none"===ae.css(e,"display")},Be=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return o},Le={};ae.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ae(this).show():ae(this).hide()})}});var Ne=/^(?:checkbox|radio)$/i,Pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,je=/^$|\/(?:java|ecma)script/i,Me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td;var Qe=/<|&#?\w+;/;!function(){var e=K.createDocumentFragment().appendChild(K.createElement("div")),t=K.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),se.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Re=K.documentElement,He=/^key/,ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ue=/^([^.]*)(?:\.(.+)|)/;ae.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,u,c,d,h,p,f,m,g=Ee.get(e);if(g)for(n.handler&&(n=(r=n).handler,o=r.selector),o&&ae.find.matchesSelector(Re,o),n.guid||(n.guid=ae.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==ae&&ae.event.triggered!==t.type?ae.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(Ce)||[""]).length;u--;)p=m=(a=Ue.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=ae.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=ae.event.special[p]||{},c=ae.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ae.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),ae.event.global[p]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,u,c,d,h,p,f,m,g=Ee.hasData(e)&&Ee.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(Ce)||[""]).length;u--;)if(a=Ue.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ae.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)c=h[r],!o&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(r,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||ae.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)ae.event.remove(e,p+t[u],n,i,!0);ae.isEmptyObject(l)&&Ee.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,s,a=ae.event.fix(e),l=new Array(arguments.length),u=(Ee.get(this,"events")||{})[a.type]||[],c=ae.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=ae.event.handlers.call(this,a,u),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(i=((ae.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[o=(i=t[n]).selector+" "]&&(s[o]=i.needsContext?ae(o,this).index(u)>-1:ae.find(o,this,null,[u]).length),s[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(ae.Event.prototype,e,{enumerable:!0,configurable:!0,get:ae.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ae.expando]?e:new ae.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(e){return l(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ae.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ae.Event=function(e,t){if(!(this instanceof ae.Event))return new ae.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ae.extend(this,t),this.timeStamp=e&&e.timeStamp||ae.now(),this[ae.expando]=!0},ae.Event.prototype={constructor:ae.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ae.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&He.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ze.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ae.event.addProp),ae.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ae.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,o=e.handleObj;return i&&(i===this||ae.contains(this,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ae.fn.extend({on:function(e,t,n,i){return S(this,e,t,n,i)},one:function(e,t,n,i){return S(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ae(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=w),this.each(function(){ae.event.remove(this,e,n,t)})}});var We=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ve=/<script|<style|<link/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^true\/(.*)/,Ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ae.extend({htmlPrefilter:function(e){return e.replace(We,"<$1></$2>")},clone:function(e,t,n){var i,o,r,s,a=e.cloneNode(!0),l=ae.contains(e.ownerDocument,e);if(!(se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ae.isXMLDoc(e)))for(s=y(a),i=0,o=(r=y(e)).length;i<o;i++)!function(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ne.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}(r[i],s[i]);if(t)if(n)for(r=r||y(e),s=s||y(a),i=0,o=r.length;i<o;i++)T(r[i],s[i]);else T(e,a);return(s=y(a,"script")).length>0&&_(s,!l&&y(e,"script")),a},cleanData:function(e){for(var t,n,i,o=ae.event.special,r=0;void 0!==(n=e[r]);r++)if(Se(n)){if(t=n[Ee.expando]){if(t.events)for(i in t.events)o[i]?ae.event.remove(n,i):ae.removeEvent(n,i,t.handle);n[Ee.expando]=void 0}n[Te.expando]&&(n[Te.expando]=void 0)}}}),ae.fn.extend({detach:function(e){return F(this,e,!0)},remove:function(e){return F(this,e)},text:function(e){return ke(this,function(e){return void 0===e?ae.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){E(this,e).appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ae.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ae.clone(this,e,t)})},html:function(e){return ke(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ve.test(e)&&!Me[(Pe.exec(e)||["",""])[1].toLowerCase()]){e=ae.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(ae.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;ae.inArray(this,e)<0&&(ae.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ae.fn[e]=function(e){for(var n,i=[],o=ae(e),r=o.length-1,s=0;s<=r;s++)n=s===r?this:this.clone(!0),ae(o[s])[t](n),Z.apply(i,n.get());return this.pushStack(i)}});var Ye=/^margin/,Xe=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Re.appendChild(s);var e=n.getComputedStyle(a);t="1%"!==e.top,r="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",o="4px"===e.marginRight,Re.removeChild(s),a=null}}var t,i,o,r,s=K.createElement("div"),a=K.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ae.extend(se,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),r}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},it=["Webkit","Moz","ms"],ot=K.createElement("div").style;ae.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=O(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=ae.camelCase(t),l=et.test(t),u=e.style;if(l||(t=I(a)),s=ae.cssHooks[t]||ae.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:u[t];"string"==(r=typeof n)&&(o=qe.exec(n))&&o[1]&&(n=b(e,t,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(ae.cssNumber[a]?"":"px")),se.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var o,r,s,a=ae.camelCase(t);return et.test(t)||(t=I(a)),(s=ae.cssHooks[t]||ae.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=O(e,t,i)),"normal"===o&&t in nt&&(o=nt[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),ae.each(["height","width"],function(e,t){ae.cssHooks[t]={get:function(e,n,i){if(n)return!Ze.test(ae.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?L(e,t,i):Be(e,tt,function(){return L(e,t,i)})},set:function(e,n,i){var o,r=i&&Je(e),s=i&&B(e,t,i,"border-box"===ae.css(e,"boxSizing",!1,r),r);return s&&(o=qe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ae.css(e,t)),A(0,n,s)}}}),ae.cssHooks.marginLeft=q(se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(O(e,"marginLeft"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ae.each({margin:"",padding:"",border:"Width"},function(e,t){ae.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+Ie[i]+t]=r[i]||r[i-2]||r[0];return o}},Ye.test(e)||(ae.cssHooks[e+t].set=A)}),ae.fn.extend({css:function(e,t){return ke(this,function(e,t,n){var i,o,r={},s=0;if(Array.isArray(t)){for(i=Je(e),o=t.length;s<o;s++)r[t[s]]=ae.css(e,t[s],!1,i);return r}return void 0!==n?ae.style(e,t,n):ae.css(e,t)},e,t,arguments.length>1)}}),ae.Tween=N,(N.prototype={constructor:N,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||ae.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ae.cssNumber[n]?"":"px")},cur:function(){var e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this)},run:function(e){var t,n=N.propHooks[this.prop];return this.options.duration?this.pos=t=ae.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}}).init.prototype=N.prototype,(N.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ae.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ae.fx.step[e.prop]?ae.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ae.cssProps[e.prop]]&&!ae.cssHooks[e.prop]?e.elem[e.prop]=e.now:ae.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=N.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ae.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ae.fx=N.prototype.init,ae.fx.step={};var rt,st,at=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;ae.Animation=ae.extend(R,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return b(n.elem,e,qe.exec(t),n),n}]},tweener:function(e,t){ae.isFunction(e)?(t=e,e=["*"]):e=e.match(Ce);for(var n,i=0,o=e.length;i<o;i++)n=e[i],R.tweeners[n]=R.tweeners[n]||[],R.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,s,a,l,u,c,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&Ae(e),g=Ee.get(e,"fxshow");n.queue||(null==(s=ae._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,ae.queue(e,"fx").length||s.empty.fire()})}));for(i in t)if(o=t[i],at.test(o)){if(delete t[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||ae.style(e,i)}if((l=!ae.isEmptyObject(t))||!ae.isEmptyObject(p)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=Ee.get(e,"display")),"none"===(c=ae.css(e,"display"))&&(u?c=u:(v([e],!0),u=e.style.display||u,c=ae.css(e,"display"),v([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ae.css(e,"float")&&(l||(h.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(g?"hidden"in g&&(m=g.hidden):g=Ee.access(e,"fxshow",{display:u}),r&&(g.hidden=!m),m&&v([e],!0),h.done(function(){m||v([e]),Ee.remove(e,"fxshow");for(i in p)ae.style(e,i,p[i])})),l=Q(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}}],prefilter:function(e,t){t?R.prefilters.unshift(e):R.prefilters.push(e)}}),ae.speed=function(e,t,n){var i=e&&"object"==typeof e?ae.extend({},e):{complete:n||!n&&t||ae.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ae.isFunction(t)&&t};return ae.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in ae.fx.speeds?i.duration=ae.fx.speeds[i.duration]:i.duration=ae.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ae.isFunction(i.old)&&i.old.call(this),i.queue&&ae.dequeue(this,i.queue)},i},ae.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ae.isEmptyObject(e),r=ae.speed(t,n,i),s=function(){var t=R(this,ae.extend({},e),r);(o||Ee.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=ae.timers,s=Ee.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&lt.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||ae.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Ee.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ae.timers,s=i?i.length:0;for(n.finish=!0,ae.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ae.each(["toggle","show","hide"],function(e,t){var n=ae.fn[t];ae.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,i,o)}}),ae.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ae.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ae.timers=[],ae.fx.tick=function(){var e,t=0,n=ae.timers;for(rt=ae.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ae.fx.stop(),rt=void 0},ae.fx.timer=function(e){ae.timers.push(e),ae.fx.start()},ae.fx.interval=13,ae.fx.start=function(){st||(st=!0,P())},ae.fx.stop=function(){st=null},ae.fx.speeds={slow:600,fast:200,_default:400},ae.fn.delay=function(e,t){return e=ae.fx?ae.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var o=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(o)}})},function(){var e=K.createElement("input"),t=K.createElement("select").appendChild(K.createElement("option"));e.type="checkbox",se.checkOn=""!==e.value,se.optSelected=t.selected,(e=K.createElement("input")).value="t",e.type="radio",se.radioValue="t"===e.value}();var ut,ct=ae.expr.attrHandle;ae.fn.extend({attr:function(e,t){return ke(this,ae.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ae.removeAttr(this,e)})}}),ae.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?ae.prop(e,t,n):(1===r&&ae.isXMLDoc(e)||(o=ae.attrHooks[t.toLowerCase()]||(ae.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void ae.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=ae.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&l(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(Ce);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),ut={set:function(e,t,n){return!1===t?ae.removeAttr(e,n):e.setAttribute(n,n),n}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ct[t]||ae.find.attr;ct[t]=function(e,t,i){var o,r,s=t.toLowerCase();return i||(r=ct[s],ct[s]=o,o=null!=n(e,t,i)?s:null,ct[s]=r),o}});var dt=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;ae.fn.extend({prop:function(e,t){return ke(this,ae.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ae.propFix[e]||e]})}}),ae.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ae.isXMLDoc(e)||(t=ae.propFix[t]||t,o=ae.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ae.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(ae.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this}),ae.fn.extend({addClass:function(e){var t,n,i,o,r,s,a,l=0;if(ae.isFunction(e))return this.each(function(t){ae(this).addClass(e.call(this,t,z(this)))});if("string"==typeof e&&e)for(t=e.match(Ce)||[];n=this[l++];)if(o=z(n),i=1===n.nodeType&&" "+H(o)+" "){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(a=H(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,r,s,a,l=0;if(ae.isFunction(e))return this.each(function(t){ae(this).removeClass(e.call(this,t,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ce)||[];n=this[l++];)if(o=z(n),i=1===n.nodeType&&" "+H(o)+" "){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(a=H(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ae.isFunction(e)?this.each(function(n){ae(this).toggleClass(e.call(this,n,z(this),t),t)}):this.each(function(){var t,i,o,r;if("string"===n)for(i=0,o=ae(this),r=e.match(Ce)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=z(this))&&Ee.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ee.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+H(z(n))+" ").indexOf(t)>-1)return!0;return!1}});var pt=/\r/g;ae.fn.extend({val:function(e){var t,n,i,o=this[0];if(arguments.length)return i=ae.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,ae(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=ae.map(o,function(e){return null==e?"":e+""})),(t=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=ae.valHooks[o.type]||ae.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(pt,""):null==n?"":n}}),ae.extend({valHooks:{option:{get:function(e){var t=ae.find.attr(e,"value");return null!=t?t:H(ae.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],u=s?r+1:o.length;for(i=r<0?u:s?r:0;i<u;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!l(n.parentNode,"optgroup"))){if(t=ae(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=ae.makeArray(t),s=o.length;s--;)((i=o[s]).selected=ae.inArray(ae.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ae.inArray(ae(e).val(),t)>-1}},se.checkOn||(ae.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ft=/^(?:focusinfocus|focusoutblur)$/;ae.extend(ae.event,{trigger:function(e,t,i,o){var r,s,a,l,u,c,d,h=[i||K],p=ie.call(e,"type")?e.type:e,f=ie.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||K,3!==i.nodeType&&8!==i.nodeType&&!ft.test(p+ae.event.triggered)&&(p.indexOf(".")>-1&&(p=(f=p.split(".")).shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[ae.expando]?e:new ae.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:ae.makeArray(t,[e]),d=ae.event.special[p]||{},o||!d.trigger||!1!==d.trigger.apply(i,t))){if(!o&&!d.noBubble&&!ae.isWindow(i)){for(l=d.delegateType||p,ft.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||K)&&h.push(a.defaultView||a.parentWindow||n)}for(r=0;(s=h[r++])&&!e.isPropagationStopped();)e.type=r>1?l:d.bindType||p,(c=(Ee.get(s,"events")||{})[e.type]&&Ee.get(s,"handle"))&&c.apply(s,t),(c=u&&s[u])&&c.apply&&Se(s)&&(e.result=c.apply(s,t),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!Se(i)||u&&ae.isFunction(i[p])&&!ae.isWindow(i)&&((a=i[u])&&(i[u]=null),ae.event.triggered=p,i[p](),ae.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(e,t,n){var i=ae.extend(new ae.Event,n,{type:e,isSimulated:!0});ae.event.trigger(i,null,t)}}),ae.fn.extend({trigger:function(e,t){return this.each(function(){ae.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ae.event.trigger(e,t,n,!0)}}),ae.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ae.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ae.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),se.focusin="onfocusin"in n,se.focusin||ae.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ae.event.simulate(t,e.target,ae.event.fix(e))};ae.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=Ee.access(i,t);o||i.addEventListener(e,n,!0),Ee.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Ee.access(i,t)-1;o?Ee.access(i,t,o):(i.removeEventListener(e,n,!0),Ee.remove(i,t))}}});var mt=n.location,gt=ae.now(),bt=/\?/;ae.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ae.error("Invalid XML: "+e),t};var vt=/\[\]$/,yt=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;ae.param=function(e,t){var n,i=[],o=function(e,t){var n=ae.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!ae.isPlainObject(e))ae.each(e,function(){o(this.name,this.value)});else for(n in e)U(n,e[n],t,o);return i.join("&")},ae.fn.extend({serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ae.prop(this,"elements");return e?ae.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ae(this).is(":disabled")&&Ct.test(this.nodeName)&&!_t.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var n=ae(this).val();return null==n?null:Array.isArray(n)?ae.map(n,function(e){return{name:t.name,value:e.replace(yt,"\r\n")}}):{name:t.name,value:n.replace(yt,"\r\n")}}).get()}});var xt=/%20/g,wt=/#.*$/,kt=/([?&])_=[^&]*/,St=/^(.*?):[ \t]*([^\r\n]*)$/gm,Et=/^(?:GET|HEAD)$/,Tt=/^\/\//,Dt={},Ft={},Ot="*/".concat("*"),qt=K.createElement("a");qt.href=mt.href,ae.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ae.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,ae.ajaxSettings),t):G(ae.ajaxSettings,e)},ajaxPrefilter:W(Dt),ajaxTransport:W(Ft),ajax:function(e,t){function i(e,t,i,a){var u,h,p,_,C,x=t;c||(c=!0,l&&n.clearTimeout(l),o=void 0,s=a||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(_=function(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,w,i)),_=function(e,t,n,i){var o,r,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,_,w,u),u?(f.ifModified&&((C=w.getResponseHeader("Last-Modified"))&&(ae.lastModified[r]=C),(C=w.getResponseHeader("etag"))&&(ae.etag[r]=C)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=_.state,h=_.data,u=!(p=_.error))):(p=x,!e&&x||(x="error",e<0&&(e=0))),w.status=e,w.statusText=(t||x)+"",u?b.resolveWith(m,[h,x,w]):b.rejectWith(m,[w,x,p]),w.statusCode(y),y=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?h:p]),v.fireWith(m,[w,x]),d&&(g.trigger("ajaxComplete",[w,f]),--ae.active||ae.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,r,s,a,l,u,c,d,h,p,f=ae.ajaxSetup({},t),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?ae(m):ae.event,b=ae.Deferred(),v=ae.Callbacks("once memory"),y=f.statusCode||{},_={},C={},x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=St.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)w.always(e[w.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return o&&o.abort(t),i(0,t),this}};if(b.promise(w),f.url=((e||f.url||mt.href)+"").replace(Tt,mt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Ce)||[""],null==f.crossDomain){u=K.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=qt.protocol+"//"+qt.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ae.param(f.data,f.traditional)),V(Dt,f,t,w),c)return w;(d=ae.event&&f.global)&&0==ae.active++&&ae.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Et.test(f.type),r=f.url.replace(wt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(xt,"+")):(p=f.url.slice(r.length),f.data&&(r+=(bt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(kt,"$1"),p=(bt.test(r)?"&":"?")+"_="+gt+++p),f.url=r+p),f.ifModified&&(ae.lastModified[r]&&w.setRequestHeader("If-Modified-Since",ae.lastModified[r]),ae.etag[r]&&w.setRequestHeader("If-None-Match",ae.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ot+"; q=0.01":""):f.accepts["*"]);for(h in f.headers)w.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(m,w,f)||c))return w.abort();if(x="abort",v.add(f.complete),w.done(f.success),w.fail(f.error),o=V(Ft,f,t,w)){if(w.readyState=1,d&&g.trigger("ajaxSend",[w,f]),c)return w;f.async&&f.timeout>0&&(l=n.setTimeout(function(){w.abort("timeout")},f.timeout));try{c=!1,o.send(_,i)}catch(e){if(c)throw e;i(-1,e)}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return ae.get(e,t,n,"json")},getScript:function(e,t){return ae.get(e,void 0,t,"script")}}),ae.each(["get","post"],function(e,t){ae[t]=function(e,n,i,o){return ae.isFunction(n)&&(o=o||i,i=n,n=void 0),ae.ajax(ae.extend({url:e,type:t,dataType:o,data:n,success:i},ae.isPlainObject(e)&&e))}}),ae._evalUrl=function(e){return ae.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ae.fn.extend({wrapAll:function(e){var t;return this[0]&&(ae.isFunction(e)&&(e=e.call(this[0])),t=ae(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ae.isFunction(e)?this.each(function(t){ae(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ae(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ae.isFunction(e);return this.each(function(n){ae(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ae(this).replaceWith(this.childNodes)}),this}}),ae.expr.pseudos.hidden=function(e){return!ae.expr.pseudos.visible(e)},ae.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ae.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var It={0:200,1223:204},At=ae.ajaxSettings.xhr();se.cors=!!At&&"withCredentials"in At,se.ajax=At=!!At,ae.ajaxTransport(function(e){var t,i;if(se.cors||At&&!e.crossDomain)return{send:function(o,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(It[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ae.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ae.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ae.globalEval(e),e}}}),ae.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ae.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=ae("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Bt=[],Lt=/(=)\?(?=&|$)|\?\?/;ae.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||ae.expando+"_"+gt++;return this[e]=!0,e}}),ae.ajaxPrefilter("json jsonp",function(e,t,i){var o,r,s,a=!1!==e.jsonp&&(Lt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ae.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Lt,"$1"+o):!1!==e.jsonp&&(e.url+=(bt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ae.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=n[o],n[o]=function(){s=arguments},i.always(function(){void 0===r?ae(n).removeProp(o):n[o]=r,e[o]&&(e.jsonpCallback=t.jsonpCallback,Bt.push(o)),s&&ae.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),se.createHTMLDocument=function(){var e=K.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ae.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,r;return t||(se.createHTMLDocument?((i=(t=K.implementation.createHTMLDocument("")).createElement("base")).href=K.location.href,t.head.appendChild(i)):t=K),o=me.exec(e),r=!n&&[],o?[t.createElement(o[1])]:(o=C([e],t,r),r&&r.length&&ae(r).remove(),ae.merge([],o.childNodes))},ae.fn.load=function(e,t,n){var i,o,r,s=this,a=e.indexOf(" ");return a>-1&&(i=H(e.slice(a)),e=e.slice(0,a)),ae.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ae.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?ae("<div>").append(ae.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},ae.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ae.fn[t]=function(e){return this.on(t,e)}}),ae.expr.pseudos.animated=function(e){return ae.grep(ae.timers,function(t){return e===t.elem}).length},ae.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,u=ae.css(e,"position"),c=ae(e),d={};"static"===u&&(e.style.position="relative"),a=c.offset(),r=ae.css(e,"top"),l=ae.css(e,"left"),("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1?(s=(i=c.position()).top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ae.isFunction(t)&&(t=t.call(e,n,ae.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):c.css(d)}},ae.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ae.offset.setOffset(this,e,t)});var t,n,i,o,r=this[0];if(r)return r.getClientRects().length?(i=r.getBoundingClientRect(),t=r.ownerDocument,n=t.documentElement,o=t.defaultView,{top:i.top+o.pageYOffset-n.clientTop,left:i.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ae.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),l(e[0],"html")||(i=e.offset()),i={top:i.top+ae.css(e[0],"borderTopWidth",!0),left:i.left+ae.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-ae.css(n,"marginTop",!0),left:t.left-i.left-ae.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ae.css(e,"position");)e=e.offsetParent;return e||Re})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ae.fn[e]=function(i){return ke(this,function(e,i,o){var r;if(ae.isWindow(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o)return r?r[t]:e[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o},e,i,arguments.length)}}),ae.each(["top","left"],function(e,t){ae.cssHooks[t]=q(se.pixelPosition,function(e,n){if(n)return n=O(e,t),Xe.test(n)?ae(e).position()[t]+"px":n})}),ae.each({Height:"height",Width:"width"},function(e,t){ae.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ae.fn[i]=function(o,r){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===r?"margin":"border");return ke(this,function(t,n,o){var r;return ae.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?ae.css(t,n,a):ae.style(t,n,o,a)},t,s?o:void 0,s)}})}),ae.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ae.holdReady=function(e){e?ae.readyWait++:ae.ready(!0)},ae.isArray=Array.isArray,ae.parseJSON=JSON.parse,ae.nodeName=l,void 0!==(o=function(){return ae}.apply(t,i=[]))&&(e.exports=o);var Nt=n.jQuery,Pt=n.$;return ae.noConflict=function(e){return n.$===ae&&(n.$=Pt),e&&n.jQuery===ae&&(n.jQuery=Nt),ae},r||(n.jQuery=n.$=ae),ae})},function(e,t,n){function i(e){return!e.nodeName||-1!==l.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function o(e){return l.isFunction(e)||l.isPlainObject(e)?e:{top:e,left:e}}function r(e,t,n){var i=document.querySelectorAll(e),o=i.length;if(n){for(var r=[],a=0;a<o;a++)s(i[a],t)&&r.push(i[a]);return r}for(var l=0;l<o;l++)if(s(i[l],t))return i[l]}function s(e,t){return e.getAttribute("SessionID")===t}Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=t.getTempId=t.scrollPreventer=t.getEditorControl=t.getControl=t.strcmp=t.removeEmptyArray=t.mergeObj=t.nbsp=t.escapeHTML=t.Utils=t.isEmpty=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=(function(e){e&&e.__esModule}(n(6)),n(0));n(22),n(48),n(49),n(51),n(58);var u={getUID:function(){var e=0;return function(){return++e}}(),getUTabIndex:function(){var e=l("[tabindex]").toArray().reduce(function(e,t){var n=t.getAttribute("tabindex");return e>n?e:n},0);return function(){return++e}}(),asyncArrayTask:function(e,t,n,i){function o(){null!=i&&(0===s?i():s--)}for(var r=e.length,s=0,a=0;a<r;a+=t)!function(i){var r=e.slice(i,i+t);setTimeout(function(){n(r,i),o()},4),s++}(a);o()},toString:function(e){return null==e?"":e.toString()},canvasDroppableClass:"qb-ui-canvas-droppable",get canvasDroppableSelector(){return"."+this.canvasDroppableClass},gridDroppableClass:"qb-ui-grid-droppable",get gridDroppableSelector(){return"."+this.gridDroppableClass},globalTempLink:null,globalFieldDragHelper:null};u.Copy=function(e,t){var n,i;for(n in e)"function"==typeof e[n]?t[n]=e[n]:(i=e[n],t[n]=i);return t},u.CopyInner=function(e,t){var n,i;for(n in e)void 0!==t[n]&&("function"==typeof e[n]?t[n]=e[n]:(i=e[n],t[n]=i));return t},u.AriaLabel=function(e,t){e.length&&!c(t)&&e.attr("aria-label",t.replace(/&nbsp;/g," ").replace(/&amp;/g,"&"))},u.getRec=function(e,t){var n=e.getBoundingClientRect(),i={left:Math.floor(n.left),right:Math.floor(n.right),top:Math.floor(n.top),bottom:Math.floor(n.bottom)};return n.width?i.width=n.width:i.width=n.right-n.left,n.height?i.height=n.height:i.height=n.bottom-n.top,t&&(i=u.relativeRec(i,t)),i},u.relativeRec=function(e,t){return{left:e.left-t.left,top:e.top-t.top,right:e.right-t.left,bottom:e.bottom-t.top,height:e.height,width:e.width}},u.getCoords=function(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}},u.updateContextMenuItems=function(e){if(null==e||0==e.length)return null;for(var t={},n=0;n<e.length;n++){var i=e[n];null!=i.Name&&"-"==i.Name.substr(0,1)?t[i.Key+n]=i.Name:t[i.Key]={name:i.Name,icon:i.Key+(i.Checked?" checked":""),items:this.updateContextMenuItems(i.Items),key:i.Key}}return t},l.fn.valEx=function(e){var t=this.attr("type");if(t=c(t)?"":t.toLowerCase(),void 0===e)return"checkbox"==t?this[0].checked:"radio"==t?this[0].checked?this.attr("value"):null:this.val();if("checkbox"==t)return 1!=e||this.attr("checked")||this.attr("checked","checked"),1!=e&&this.attr("checked")&&this.removeAttr("checked"),1!=e||this.prop("checked")||this.prop("checked",!0),void(1!=e&&this.prop("checked")&&this.prop("checked",!1));if("radio"!=t){var n="";if(c(this[0])||c(this[0].tagName)||(n=this[0].tagName),"select"!=n.toLowerCase())null==e&&(e=""),this.val(e);else{e=c(e)?"":e.toString();var i=this.get(0),o=i.options;l.each(o,function(t,n){n.value===e&&(i.selectedIndex=t)})}}else{this.attr("value")==e?(this.attr("checked","true"),this[0].checked=!0):this.removeAttr("checked")}};var c=function(e){return null==e||""===e};Array.prototype.sortBy=function(e,t,n){return this.sort(function(e,t,n){return function(i,o){return!c(e)&&i[e]<o[e]?-1:!c(e)&&i[e]>o[e]?1:!c(t)&&i[t]<o[t]?-1:!c(t)&&i[t]>o[t]?1:!c(n)&&i[n]<o[n]?-1:!c(n)&&i[n]>o[n]?1:0}}(e,t,n))};u.isEqual=function(e,t){return!(!c(e)||!c(t))||e==t},Date.prototype.format=function(e){for(var t="",n=Date.replaceChars,i=0;i<e.length;i++){var o=e.charAt(i);n[o]?t+=n[o].call(this):t+=o}return t},Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&11!=this.getDate()?"st":this.getDate()%10==2&&12!=this.getDate()?"nd":this.getDate()%10==3&&13!=this.getDate()?"rd":"th"},w:function(){return this.getDay()},z:function(){return"Not Yet Supported"},W:function(){return"Not Yet Supported"},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){return"Not Yet Supported"},L:function(){return this.getFullYear()%4==0&&this.getFullYear()%100!=0||this.getFullYear()%400==0?"1":"0"},o:function(){return"Not Supported"},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return"Not Yet Supported"},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},e:function(){return"Not Yet Supported"},I:function(){return"Not Supported"},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":"+(Math.abs(this.getTimezoneOffset()%60)<10?"0":"")+Math.abs(this.getTimezoneOffset()%60)},T:function(){var e=this.getMonth();this.setMonth(0);var t=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");return this.setMonth(e),t},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return this.format("Y-m-d")+"T"+this.format("H:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}},Array.prototype.remove=function(e,t){return"object"==(void 0===e?"undefined":a(e))&&(e=this.indexOf(e)),this.splice(e,!t||1+t-e+(!(t<0^e>=0)&&(t<0||-1)*this.length)),this.length};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("object"!==(void 0===o?"undefined":a(o))&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var r,s,l=[];for(r in o)e.call(o,r)&&l.push(r);if(t)for(s=0;s<i;s++)e.call(o,n[s])&&l.push(n[s]);return l}}());var h=l.scrollTo=function(e,t,n){return l(window).scrollTo(e,t,n)};if(h.defaults={axis:"xy",duration:0,limit:!0},l.fn.setCursorPosition=function(e){return this.each(function(t,n){if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}else n.setSelectionRange&&"checkbox"!==n.type&&n.setSelectionRange(e,e);n.scrollLeft&&(n.scrollLeft=0)}),this},l.fn.scrollTo=function(e,t,n){"object"===(void 0===t?"undefined":a(t))&&(n=t,t=0),"function"==typeof n&&(n={onAfter:n}),"max"===e&&(e=9e9),n=l.extend({},h.defaults,n),t=t||n.duration;var r=n.queue&&n.axis.length>1;return r&&(t/=2),n.offset=o(n.offset),n.over=o(n.over),this.each(function(){function s(e){var i=l.extend({},n,{queue:!0,duration:t,complete:e&&function(){e.call(d,f,n)}});p.animate(m,i)}if(null!==e){var u,c=i(this),d=c?this.contentWindow||window:this,p=l(d),f=e,m={};switch(void 0===f?"undefined":a(f)){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=o(f);break}if(!(f=c?l(f):l(f,d)).length)return;case"object":(f.is||f.style)&&(u=(f=l(f)).offset())}var g=l.isFunction(n.offset)&&n.offset(d,f)||n.offset;l.each(n.axis.split(""),function(e,t){var i="x"===t?"Left":"Top",o=i.toLowerCase(),a="scroll"+i,l=p[a](),b=h.max(d,t);if(u)m[a]=u[o]+(c?0:l-p.offset()[o]),n.margin&&(m[a]-=parseInt(f.css("margin"+i),10)||0,m[a]-=parseInt(f.css("border"+i+"Width"),10)||0),m[a]+=g[o]||0,n.over[o]&&(m[a]+=f["x"===t?"width":"height"]()*n.over[o]);else{var v=f[o];m[a]=v.slice&&"%"===v.slice(-1)?parseFloat(v)/100*b:v}n.limit&&/^\d+$/.test(m[a])&&(m[a]=m[a]<=0?0:Math.min(m[a],b)),!e&&n.axis.length>1&&(l===m[a]?m={}:r&&(s(n.onAfterFirst),m={}))}),s(n.onAfter)}})},h.max=function(e,t){var n="x"===t?"Width":"Height",o="scroll"+n;if(!i(e))return e[o]-l(e)[n.toLowerCase()]();var r="client"+n,s=e.ownerDocument||e.document,a=s.documentElement,u=s.body;return Math.max(a[o],u[o])-Math.min(a[r],u[r])},Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=this.length;if("function"!=typeof e)throw new TypeError;if(0==t&&1==arguments.length)throw new TypeError;var n=0;if(arguments.length>=2)var i=arguments[1];else for(;;){if(n in this){i=this[n++];break}if(++n>=t)throw new TypeError}for(;n<t;n++)n in this&&(i=e.call(null,i,this[n],n,this));return i}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.contains=function(e){for(var t in this)if(this[t]===e)return!0;return!1},l.fn.longClickContextMenu=function(){throw new Error("Not implemented")},l.fn.hasAttr=function(e){return void 0!==this.attr(e)},l.fn.uiHoverable=function(){return this.mouseenter(function(){l(this).addClass("ui-state-hover")}),this.mouseleave(function(){l(this).removeClass("ui-state-hover")}),this},function(e){e.extend({debounce:function(e,t,n,i){var o;return function(){var r=arguments;n=n||this,i&&!o&&e.apply(n,r),clearTimeout(o),o=setTimeout(function(){!i&&e.apply(n,r),o=null},t)}},throttle:function(e,t,n){var i,o,r;return function(){o=arguments,r=!0,n=n||this,i||function s(){r?(e.apply(n,o),r=!1,i=setTimeout(s,t)):i=null}()}}})}(l),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var r=t[o];if(e.call(i,r,o,t))return r;o++}}}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(void 0!==o&&null!==o)for(var r=Object.keys(Object(o)),s=0,a=r.length;s<a;s++){var l=r[s],u=Object.getOwnPropertyDescriptor(o,l);void 0!==u&&u.enumerable&&(n[l]=o[l])}}return n}}),l.fn.jQButton=l.fn.button,l.fn.button&&l.fn.button.noConflict){var p=l.fn.button.noConflict();l.fn.jQButton=l.fn.button,l.fn.button=p}var f=function(){var e=0;return function(){return e++}}(),m=!!window.HTMLElement.prototype.ontouchstart;t.isEmpty=c,t.Utils=u,t.escapeHTML=function(e){return c(e)?e:(e+"").replace(/[&<>"'\/]/g,function(e){return d[e]})},t.nbsp=function(e){return e?e.replace(/ /g,"&nbsp;"):""},t.mergeObj=function(e,t){c(e)&&(e={}),c(t)&&(t={});var n={};return l.extend(n,e,t),n},t.removeEmptyArray=function(e,t){var n=e[t];null!=n&&n.length>0||delete e[t]},t.strcmp=function(e,t){return!(!c(e)||!c(t))||!c(e)&&!c(t)&&e.toLowerCase()===t.toLowerCase()},t.getControl=r,t.getEditorControl=function(e,t,n){for(var i=r(e,t,!0),o=i.length,s=0;s<o;s++)if(i[s].getAttribute("type")===n)return i[s]},t.scrollPreventer=function(e){e.wheelDeltaY<0&&this.getBoundingClientRect().height+this.scrollTop>=this.scrollHeight&&e.preventDefault()},t.getTempId=f,t.isMobile=m},function(e,t,n){var i,o,r;!function(s){o=[n(0)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};n.CanvasDto=function(){this.DataSources=[],this.Links=null,this.Layout={DataSources:[]}},n.GridDto=function(){this.Rows=[]},n.GridRowDto=function(){this.Aggregate=null,this.Alias=null,this.ConditionType=null,this.Criteria=[],this.Expression=null,this.Grouping=!1,this.Guid=null,this.TempId=null,this.IsDeleted=!1,this.IsNew=!1,this.Select=!1,this.SortOrder=null,this.SortType=null,this.Index=0,this.ExpressionSubQueries=null,this.ConditionSubQueries=null},n.DataSourceDto=function(){this.Alias=null,this.AliasNotQuoted=null,this.Caption=null,this.NameInQuery=null,this.DataSourceType=0,this.Fields=[],this.UserFields=null,this.Guid=null,this.Name=null,this.Object=null,this.ObjectReadOnly=!0,this.Description=null,this.NameNotQuoted="",this.System=!1,this.Database=null,this.Schema=null,this.IsDeleted=!1,this.IsTrashed=!1,this.IsNew=!1,this.IsCTE=!1,this.TempId=null,this.QueryGuid=null,this.CteGuid=null,this.DataSourceOptions={IsUpdating:!1,MaxHeight:160,DefaultWidth:250,SelectedFieldsCountInCaption:!1,HideAsteriskItem:!1,SortType:0,KeyFieldsFirst:!1,Font:null,BackgroundColor:null,FocusedBackgroundColor:null,ShowCollapseExpandButton:!1,CollapseExpandButtonAtTop:!1,ShowLinkedObjectsButton:!1,ShowDescriptionTooltips:!1,DescriptionTooltipsDelay:0,IsDisposing:!1,MaxToolTipWidth:0,MarkColumnOptions:{IsUpdating:!1,Visible:!0,DrawOrder:0,Margin:0,Width:0,Prefix:"",Postfix:"",PrimaryKeyIcon:null},NameColumnOptions:{IsUpdating:!1,Visible:!0,DrawOrder:0,Margin:0,Width:0,Prefix:"",Postfix:"",FontStyle:0,Color:null,PrimaryKeyFontStyle:0,PrimaryKeyColor:null},TypeColumnOptions:{IsUpdating:!1,Visible:!0,DrawOrder:0,Margin:0,Width:0,Prefix:"",Postfix:"",FontStyle:0,Color:null,Case:0},DescriptionColumnOptions:{IsUpdating:!1,Visible:!1,DrawOrder:0,Margin:0,Width:0,Prefix:"",Postfix:"",FontStyle:0,Color:null},LinkColor:null,LinkStyle:0,DisplayKeyCardinality:!1},this.LinkedObjects=[],this.Link=null,this.X=null,this.Y=null,this.NameFull=null,this.ProcParam=null,this.EnableUserFields=!1,this.LinkManipulations=0},n.LinkObjectDto=function(){this.Direction=0,this.Caption=null,this.Name=null,this.LeftFields=[],this.RightFields=[],this.Disabled=!1,this.DataSourceGuid=null},n.DataSourceLinkDto=function(){this.IsDeleted=null,this.IsNew=null,this.Left=null,this.LinkExpression=null,this.Right=null},n.DataSourceLinkPartDto=function(){this.Cardinality=0,this.Type=0,this.FieldName=null},n.MetaDataDto=function(){this.Objects=null},n.MetadataFieldDto=function(){this.AltName=null,this.Expression=null,this.FieldTypeName=null,this.Guid=null,this.IsSelected=!1,this.LongDescription=null,this.NameStr=null,this.NameFull=null,this.NameStrNotQuoted=null,this.Nullable=!1,this.Precision=0,this.PrimaryKey=!1,this.NotPrimaryKey=!1,this.ReadOnly=!1,this.IsUserField=!1,this.Scale=0,this.ShortDescription=null,this.Size=0,this.SizeStr=null},n.DataSourceLayoutDto=function(){this.Caption=null,this.X=0,this.Y=0,this.Width=0,this.Height=0,this.DefaultHeight=0,this.FieldCount=null},n.TreeViewDto=function(){this.Action="",this.Filter="",this.IsFiltered=!1,this.Type=0,this.TypeStr=null,this.Index=0,this.Caption=null,this.NameFull=null,this.Path=null,this.Items=null,this.Description=null,this.Name=null,this.HasChild=!1,this.IsLoaded=!1,this.IsMetadataObject=!1,this.QualifiedName=null,this.Level=0,this.FullQualifiedName=null,this.IsExpandable=!1},n.MetadataStructureItemDto=function(){this.Type=0,this.TypeStr=null,this.Index=0,this.Caption=null,this.NameFull=null,this.Path=null,this.Items=null,this.Description=null,this.Name=null,this.HasChild=!1,this.IsLoaded=!1,this.IsMetadataObject=!1,this.QualifiedName=null,this.Level=0,this.FullQualifiedName=null,this.IsExpandable=!1},n.ContextMenu=function(){this.Action=null,this.Data=null,this.ClientData=null,this.Canvas=null,this.CanvasLink=null,this.Add=null,this.CTE=null,this.TableCTE=null,this.UnionsAdd=null,this.Table=null,this.Grid=null},n.ContextMenuDto=function(){this.Items=[]},n.UnionSubQueryActionDto=function(){this.Guid=null,this.Caption=null,this.Key=null,this.Data=null},n.UnionNavBar=function(){this.Items=[]},n.ContextMenuItemDto=function(){this.Checked=!1,this.Items=[],this.Key=null,this.Name=null,this.Data=null,this.Guid=null,this.Action=null},n.QueryStructureDto=function(){this.Guid=null,this.UnionSubQuery=null,this.SubQuery=null,this.Active=!1,this.Selected=!1,this.Visible=!0,this.Caption=null,this.Class=null,this.SQL=null,this.Expanded=!1,this.CTE=[],this.ContextItems=[],this.Items=[]},n.CriteriaBuilderDto=function(){this.SessionID=null,this.Columns=[],this.JunctionType=0,this.Groups=[],this.Conditions=[]},n.CriteriaBuilderItemDto=function(){this.Items=[],this.Column=null,this.Operator=0,this.Value1=null,this.Value2=null,this.Type=0,this.Condition=null},n.CriteriaBuilderGroupDto=function(){this.JunctionType=0,this.Groups=[],this.Conditions=[]},n.OutputColumnDto=function(){this.Name=null,this.FieldType=0,this.Kind=1,this.ValueKind=1},n.QueryParamDto=function(){this.Symbol=null,this.Name=null,this.FullName="",this.DataType="String",this.DataTypeDB=0,this.CompareOperator=null,this.ComparedField=null,this.ComparedObject=null,this.Value=null},n.SqlErrorEventArgs=function(){this.SQL=null,this.Error=null,this.ErrorToken=null,this.ErrorTokenPos={pos:0,col:0,line:0}},n.DataSourceOptions=function(){this.IsUpdating=!1,this.MaxHeight=160,this.DefaultWidth=250,this.SelectedFieldsCountInCaption=!1,this.HideAsteriskItem=!1,this.SortType=0,this.KeyFieldsFirst=!1,this.Font=null,this.BackgroundColor=null,this.FocusedBackgroundColor=null,this.ShowCollapseExpandButton=!1,this.CollapseExpandButtonAtTop=!1,this.ShowLinkedObjectsButton=!1,this.ShowDescriptionTooltips=!1,this.DescriptionTooltipsDelay=0,this.IsDisposing=!1,this.MaxToolTipWidth=0,this.MarkColumnOptions={IsUpdating:!1,Visible:!0,DrawOrder:0,Margin:0,Width:0,Prefix:"",Postfix:"",PrimaryKeyIcon:null},this.NameColumnOptions={IsUpdating:!1,Visible:!0,DrawOrder:0,Margin:0,Width:0,Prefix:"",Postfix:"",FontStyle:0,Color:null,PrimaryKeyFontStyle:0,PrimaryKeyColor:null},this.TypeColumnOptions={IsUpdating:!1,Visible:!0,DrawOrder:0,Margin:0,Width:0,Prefix:"",Postfix:"",FontStyle:0,Color:null,Case:0},this.DescriptionColumnOptions={IsUpdating:!1,Visible:!1,DrawOrder:0,Margin:0,Width:0,Prefix:"",Postfix:"",FontStyle:0,Color:null},this.LinkColor=null,this.LinkStyle=0,this.DisplayKeyCardinality=!1},n.Localizer={Strings:{Criteria:{Language:"en",Output:"Visible",Expression:"Expression",Aggregate:"Aggregate",Alias:"Column Name",SortType:"Sort Type",SortOrder:"Sort Order",Grouping:"Grouping",CriteriaType:"Criteria for",CriteriaItem:"Criteria",CriteriaOr:"Or..."},Language:"en",Remove:"Remove",RemoveBrackets:"Remove brackets",EncloseWithBrackets:"Enclose with brackets",CopyToNewUnionSubQuery:"Copy union subquery",NewUnionSubQuery:"New union sub-query",MoveBackward:"Move backward",MoveForward:"Move forward",MoveUp:"Move up",MoveDown:"Move down",RemoveItem:"Delete item",InsertEmptyItem:"Insert empty item",Fields:"Fields",Properties:"Properties",Delete:"Delete",DeleteCTE:"Delete CTE",SelectAll:"Select All",Select:"Select...",All:"satisfy all conditions",Tables:"Tables",Views:"Views",Procedures:"Procedures",Synonyms:"Synonyms",CheckAll:"Check All",UncheckAll:"Uncheck All",AddUserField:"Add user field",EditUserField:"Edit user field",RemoveUserField:"Remove user field",SelectAllRowsFrom:"Select all rows from {0}",SqlChanged:"Query is changed, need to be updated",Updating:"Update",Loading:"Loading...",Refresh:"Refresh",RefreshSQL:"SQL query text is changed. Click to update the visual representation.",Reconnect:"Reconnect",SessionRestored:"Your work session on the server has been expired. The previous SQL query text has been restored. Please wait...",SessionRestoreError:"Your session had expired. Unexpected error has occurred while trying to restore it. Please, reload the web page to restart.",DataSource:"Data source",Field:"Field",Close:"Close",AddSubQuery:"Add derived table",AddCTE:"Add Common Table Expression",AddNewCTE:"Add New Common Table Expression",UnionSubMenu:"Union",InsertSubQuery:"Insert sub-query",ColumnNameAlreadyUsed:"The column with same name already exists in the current sub-query.",ConditionTypeWhere:"For values",ConditionTypeHaving:"For groups",GotoSubquery:"Edit sub-query",EditExpression:"Edit expression",EditCondition:"Edit condition",Root:"Root",Server:"Server",Database:"Database",Schema:"Schema",Package:"Package",Namespaces:"Namespaces",Table:"Table",View:"View",Procedure:"Procedure",Synonym:"Synonym",Objects:"Objects",Aggregate:"Aggregate",Parameter:"Parameter",ForeignKey:"Foreign Key",UserQuery:"User Query",MainQuery:"Main",Subqueries:"Subqueries",Unions:"Unions",ProcParamsFormTitle:"Procedure Parameters",ProcParamsFormLabel:"Edit parameters for selected procedure:",Ok:"Ok",Cancel:"Cancel",NewFolder:"New Folder",NewUserQuery:"New Query",AddConditionForColumn:"Add condition for column",AddGeneralCondition:"Add logical SQL expression",AddGroupOfConditions:"Add group of conditions"}};var i={};i.DataSourceType={Table:0,View:1,StoredProc:2,Function:3,SubQuery:4,Other:5},i.LinkCardinality={Unknown:0,One:1,Many:2},i.LinkSideType={Inner:0,Outer:1},i.ItemSortType={None:0,Asc:1,Desc:2},i.AffectedColumns={None:0,ExpressionColumn:1,ConditionColumns:2,AllColumns:3},i.LinkManipulations={Allow:0,Deny:1,AllowForeignKeysOnly:2,LinkCompatibleTypesOnly:3},i.DbType={AnsiString:0,Binary:1,Byte:2,Boolean:3,Currency:4,Date:5,DateTime:6,Decimal:7,Double:8,Guid:9,Int16:10,Int32:11,Int64:12,Object:13,SByte:14,Single:15,String:16,Time:17,UInt16:18,UInt32:19,UInt64:20,VarNumeric:21,AnsiStringFixedLength:22,StringFixedLength:23,Xml:25,DateTime2:26,DateTimeOffset:27},i.ConditionOperator={StartsWith:0,Contains:1,EndsWith:2,IsEqualTo:3,DoesNotStartWith:4,DoesNotContain:5,DoesNotEndWith:6,IsEmpty:7,IsNotEmpty:8,IsInList:9,IsNotInList:10,IsNotEqualTo:11,IsNull:12,IsNotNull:13,IsBetween:14,IsNotBetween:15,IsLessThan:16,IsLessThanOrEqualTo:17,IsGreaterThan:18,IsGreaterThanOrEqualTo:19,IsBefore:20,IsBeforeOrEqualTo:21,IsAfter:22,IsAfterOrEqualTo:23},i.KindOfField={Unknown:0,Text:1,Numeric:2,Date:3,Boolean:4},i.KindOfType={Unknown:0,String:1,NumericFrac:2,NumericInt:3,Date:4,Time:5,DateTime:6,Boolean:7},i.JunctionItemType={All:0,NotAll:1,Any:2,None:3},i.MetadataType={Root:1,Server:2,Database:4,Schema:8,Package:16,Namespaces:30,Table:32,View:64,Procedure:128,Synonym:256,Objects:480,Aggregate:512,Parameter:1024,Field:2048,ForeignKey:4096,ObjectMetadata:7168,UserQuery:8192,UserField:16384,All:32766},i.FieldListSortType={None:0,Name:1,Description:2},i.LinkStyle={MSAccess:0,MSSQL:1,Simple:2},t.Dto=n,t.Enum=i},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,a,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],r(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),s=(u=n.slice()).length,l=0;l<s;l++)u[l].apply(this,a);return!0},n.prototype.addListener=function(e,t){var s;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(s=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={queryBuilderClass:"QueryBuilderControl",treeViewClass:"qb-ui-tree-view",gridClass:"ui-qb-grid",canvasClass:"qb-ui-canvas",editorClass:"qb-ui-editor",navbarClass:"qb-ui-canvas-navbar",statusBarClass:"qb-ui-editor-statusbar",userQueriesClass:"qb-ui-user-queries",pkButtonClass:"links--pk",focusClass:"ui-visual-focus",get queryBuilderSelector(){return this._getSelector(this.queryBuilderClass)},get treeViewSelector(){return this._getSelector(this.treeViewClass)},get gridSelector(){return this._getSelector(this.gridClass)},get canvasSelector(){return this._getSelector(this.canvasClass)},get editorSelector(){return this._getSelector(this.editorClass)},get navbarSelector(){return this._getSelector(this.navbarClass)},get statusBarSelector(){return this._getSelector(this.statusBarClass)},get userQueriesSelector(){return this._getSelector(this.userQueriesClass)},get pkButtonSelector(){return this._getSelector(this.pkButtonClass)},_getSelector:function(e){return"."+e}};t.default=Object.freeze(n)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));n(20)(i.default),t.default=function(){function e(e,t){if(null==e.app)throw new Error("App is undefined");var n=function(e,t,n){return'[sessionid="'+e.SessionID+'"]'+(n?"":" ")+t}(e.app,e.selector,e.mergeSelector),o=e.build,r=e.callback,s=e.items,a=e.parent,l=e.position;return i.default.contextMenu("destroy",n),i.default.contextMenu({selector:n,zIndex:6e3,appendTo:a,reposition:!1,items:s,build:o,callback:r,trigger:t,position:l})}function t(e){return(0,i.default)(e).contextMenu("element")}return{left:function(t){return e(t,"left")},right:function(t){return e(t,"right")},show:function(e){var n=(0,i.default)(e);return n.contextMenu(),t(n)},showForElement:function(e,n,o){var r=(0,i.default)(e);return r.contextMenu({x:n,y:o}),t(r)}}}()},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{(i=e._data(o,"events"))&&i.remove&&e(o).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var o,r,s,a={},l=t.split(".")[0],u=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][u.toLowerCase()]=function(t){return!!e.data(t,u)},e[l]=e[l]||{},o=e[l][t],r=e[l][t]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},e.extend(r,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){e.isFunction(i)?a[t]=function(){return function(){var e,o=this._super,r=this._superApply;return this._super=function(){return n.prototype[t].apply(this,arguments)},this._superApply=function(e){return n.prototype[t].apply(this,e)},e=i.apply(this,arguments),this._super=o,this._superApply=r,e}}():a[t]=i}),r.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},a,{constructor:r,namespace:l,widgetName:t,widgetFullName:u}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete o._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var i,o,r=n.call(arguments,1),s=0,a=r.length;s<a;s++)for(i in r[s])o=r[s][i],r[s].hasOwnProperty(i)&&void 0!==o&&(e.isPlainObject(o)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],o):e.widget.extend({},o):t[i]=o);return t},e.widget.bridge=function(t,i){var o=i.prototype.widgetFullName||t;e.fn[t]=function(r){var s="string"==typeof r,a=n.call(arguments,1),l=this;return s?this.length||"instance"!==r?this.each(function(){var n,i=e.data(this,o);return"instance"===r?(l=i,!1):i?e.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,a))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):l=void 0:(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each(function(){var t=e.data(this,o);t?(t.option(r||{}),t._init&&t._init()):e.data(this,o,new i(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,o,r,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(o=s[t]=e.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,o;for(n in t)o=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&o&&o.length&&(i=e(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,r){var s,a;for(a=0;a<n.length;a++)s=o.classesElementLookup[n[a]]||e(),s=e(t.add?e.unique(s.get().concat(t.element.get())):s.not(t.element).get()),o.classesElementLookup[n[a]]=s,i.push(n[a]),r&&t.classes[n[a]]&&i.push(t.classes[n[a]])}var i=[],o=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,o){-1!==e.inArray(t.target,o)&&(n.classesElementLookup[i]=e(o.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof e||null===e,r={extra:o?t:n,keys:o?e:t,element:o?this.element:e,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(t,n,i){var o,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,function(i,s){function a(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?o.on(u,c,a):n.on(u,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var o,r,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(e.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?!0===o||"number"==typeof o?n:o.effect||n:t;"number"==typeof(o=o||{})&&(o={duration:o}),s=!e.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),s&&e.effects&&e.effects.effect[a]?i[t](o):a!==t&&i[a]?i[a](o.duration,o.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}}),e.widget})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,i,o,l){i.repeat=u;var c=JSON.stringify(i,function(e,t){if(null!==t)return t});return t({type:"POST",url:s+"/actions/"+e,data:c,callback:o,errorcallback:function(e){"function"==typeof l&&l(e),function(e,i){var o=i,s=void 0;"string"!=typeof o&&(s=i.repeat,o=i.sessionID||i.SessionID);if(410===e.status)return h(o,function(e){t({url:e||a,type:"GET",callback:function(e){var t=function(e){var t=e.match(/SessionID="([\w]+)/)[1],i=window.AQB.Web.QueryBuilderContainer.get(t);if(i)return i._disableSessionKeeper||i.startPing(),i;n()}(e);if(!t)return;if(t.SQL){var i={SessionID:t.SessionID,SQL:t.SQL,Reconnect:!0};setSql(i,r)}else r()},errorcallback:n})});d(o,{message:e.responseText,level:s?"warning":"error"})}(e,i)}.bind(this)})}function t(e){var t=new XMLHttpRequest;t.open(e.type,e.url,!0),t.onload=function(){this.status>=200&&this.status<400?"function"==typeof e.callback&&e.callback(JSON.parse(this.response)):"function"==typeof e.errorcallback&&e.errorcallback(this)},t.onerror=function(){console.error(this)};new Date;t.send(e.data)}function n(){window.alert(this._app.Localizer.Strings.SessionRestoreError)}function i(t){return o(function(n,i){e(t,n,function(e){return function(t){c(t,e)}}(i))})}function o(e){return function(){l={func:e,args:arguments},e.apply(null,arguments)}}function r(){void 0!==l&&(u=!0,l.func.apply(null,l.args),u=!1,l=void 0)}var s=void 0,a=void 0,l=void 0,u=!1,c=void 0,d=void 0,h=void 0;return{addUserQuery:o(function(t,n,i,o,r){e("addUserQuery",{name:t.Name,sessionID:n,x:i[0],y:i[1],width:o,height:r},c)}),saveUserQuery:o(function(t,n,i){e("saveUserQuery",t,n,i)}),createUserQuery:o(function(t,n,i){e("createUserQuery",t,n,i)}),createQueryFolder:o(function(t,n,i){e("createQueryFolder",t,n,i)}),moveQueryFolder:o(function(t,n,i){e("moveQueryFolder",t,n,i)}),moveUserQuery:o(function(t,n,i){e("moveUserQuery",t,n,i)}),renameQueryFolder:o(function(t,n,i){e("renameQueryFolder",t,n,i)}),renameUserQuery:o(function(t,n,i){e("renameUserQuery",t,n,i)}),deleteUserQuery:o(function(t,n,i){e("deleteUserQuery",t,n,i)}),deleteQueryFolder:o(function(t,n,i){e("deleteQueryFolder",t,n,i)}),validateExpression:o(function(t,n,i){if("function"!=typeof i)throw new Error("callback is not a function");e("validateExpression",{sessionID:n,expression:t.expression,condition:t.condition},function(){i(!0)},function(e){i(!1,e.responseText)})}),sendPropertiesForm:o(function(t,n){e("editPropertiesForm",t,c,n)}),getPropertiesForms:i("getPropertiesForms"),dispose:i("dispose"),undo:o(function(t){e("undo",t,function(e){e&&c(e)})}),sync:i("sync"),update:i("update"),fullUpdate:i("fullUpdate"),setSql:i("setSql"),getTreeNode:i("getTreeNode"),toggleGrouping:i("toggleGrouping"),changeActiveUnionSubQuery:i("changeActiveUnionSubQuery"),changeActiveUnionSubQueryByIndex:i("changeActiveUnionSubQueryByIndex"),changeActiveSubQueryByPath:i("changeActiveSubQueryByPath"),setUnionSubQueryFromDataSource:i("setUnionSubQueryFromDataSource"),switchToQueryRoot:i("switchToQueryRoot"),addUnionSubQuery:i("addUnionSubQuery"),addDerivedTable:i("addDerivedTable"),addNewNamedSubQuery:i("addNewNamedSubQuery"),addNamedSubQuery:i("addNamedSubQuery"),addNamedSubQueryByPath:i("addNamedSubQueryByPath"),removeActiveUnionSubQuery:i("removeActiveUnionSubQuery"),removeUnionSubQuery:i("removeUnionSubQuery"),removeUnionSubQueryByIndex:i("removeUnionSubQueryByIndex"),copyUnionSubQuery:i("copyUnionSubQuery"),copyUnionSubQueryByIndex:i("copyUnionSubQueryByIndex"),encloseWithBrackets:i("encloseWithBrackets"),encloseWithBracketsByIndex:i("encloseWithBracketsByIndex"),moveOutOfBrackets:i("moveOutOfBrackets"),moveOutOfBracketsByIndex:i("moveOutOfBracketsByIndex"),moveUnionSubQueryToEnd:i("moveUnionSubQueryToEnd"),moveUnionSubQueryBeforeSubQuery:i("moveUnionSubQueryBeforeSubQuery"),changeUnionSubQueryOperator:i("changeUnionSubQueryOperator"),changeUnionSubQueryOperatorByIndex:i("changeUnionSubQueryOperatorByIndex"),addDataSource:i("addDataSource"),removeDataSource:i("removeDataSource"),removeCte:i("removeCte"),moveDataSource:i("moveDataSource"),wrapToDerivedTable:i("wrapToDerivedTable"),addGridRow:i("addGridRow"),removeGridRow:i("removeGridRow"),checkDataSourceField:i("checkDataSourceField"),checkAllFields:i("checkAllFields"),ping:function(e){t({type:"GET",url:s+"/ping/test",callback:e})},setHandlerPath:function(e){s=e},setInitPath:function(e){a=e},setSuccessCallback:function(e){"function"==typeof e&&(c=e)},setErrorCallback:function(e){"function"==typeof e&&(d=e)},setSessionExpiredCallback:function(e){"function"==typeof e&&(h=e)},loadStrings:function(e,n){t({type:"GET",url:s+"/resources/strings/"+e,callback:n,errorcallback:function(e){alert(e.responseText)}})}}}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={plus:'<svg class="svg--plus" width="16" height="16" viewBox="0 0 16 16"><path d="M2.556 1C1.692 1 1 1.7 1 2.556v10.888C1 14.3 1.692 15 2.556 15h10.888C14.3 15 15 14.3 15 13.444V2.556C15 1.7 14.3 1 13.444 1H2.556z"/><path d="M12 9H9v3H7V9H4V7h3V4h2v3h3v2z"/></svg>',settingsWorkTool:'<svg class="svg--work-tool" width="16" height="16" viewBox="0 0 16 16"><g fill="none" fill-rule="evenodd"><path d="M-110-441h240V759h-240z"/><path d="M12.296 8.588c.024-.192.042-.384.042-.588 0-.204-.018-.396-.042-.588l1.266-.99c.114-.09.144-.252.072-.384l-1.2-2.076c-.072-.132-.234-.18-.366-.132l-1.494.6c-.312-.24-.648-.438-1.014-.588l-.228-1.59C9.314 2.108 9.188 2 9.038 2h-2.4c-.15 0-.276.108-.294.252l-.228 1.59c-.366.15-.702.354-1.014.588l-1.494-.6c-.138-.054-.294 0-.366.132l-1.2 2.076c-.078.132-.042.294.072.384l1.266.99c-.024.192-.042.39-.042.588 0 .198.018.396.042.588l-1.266.99c-.114.09-.144.252-.072.384l1.2 2.076c.072.132.234.18.366.132l1.494-.6c.312.24.648.438 1.014.588l.228 1.59c.018.144.144.252.294.252h2.4c.15 0 .276-.108.294-.252l.228-1.59c.366-.15.702-.354 1.014-.588l1.494.6c.138.054.294 0 .366-.132l1.2-2.076c.072-.132.042-.294-.072-.384l-1.266-.99zM7.838 10.1c-1.158 0-2.1-.942-2.1-2.1 0-1.158.942-2.1 2.1-2.1 1.158 0 2.1.942 2.1 2.1 0 1.158-.942 2.1-2.1 2.1z" fill="#FFF"/></g></svg>',delete16:'<svg class="svg--delete" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><rect x="7.45" y="0.843" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 9.0859 18.8636)" fill="#FFFFFF" width="2" height="13.415"/><rect x="7.45" y="0.842" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -2.8633 8.186)" fill="#FFFFFF" width="2" height="13.414"/></g></svg>',pencilSmall:'<svg class="svg-pencil" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><path fill="#FFFFFF" d="M2,3.692v7.615C2,12.238,2.762,13,3.692,13h7.615C12.238,13,13,12.238,13,11.308V10.25L12,11l-0.692,0.308H3.692L4,4l2-1l0.584-1H3.692C2.762,2,2,2.761,2,3.692z"/><polygon fill="#FFFFFF" points="10,10 10,1 14.621,5.378"/><path fill="#FFFFFF" d="M10.379,4C10.379,4,6,4,6,9c0,0,0.152-1.627,2.379-2c0.305-0.051,1.639,0,2,0V4z"/></g></svg>',toolbar:'<svg class="svg--toolbar" width="16" height="16" viewBox="0 0 36 30"><polygon points="14 30 22 25 22 17 36 0 18 0 0 0 14 17 " fill="#fff"/></svg>',link16:'<svg class="svg--link" width="16" height="16" viewBox="0 0 16 16"><g fill="none" fill-rule="evenodd"><path d="M-110-405h240V795h-240z"/><path d="M10.3 7.26c-.15-.335-.36-.65-.635-.925s-.59-.484-.925-.634l-.416.417-.288.288-.3.3c-.056.055-.103.115-.144.178.397.026.77.187 1.054.47.292.293.444.67.47 1.053.014.213-.012.426-.08.63-.077.228-.2.442-.376.625l-.014.018-.34.34-.472.472-.44.44-1.147 1.147c-.31.31-.723.48-1.162.48-.44 0-.852-.17-1.162-.48-.31-.31-.48-.723-.48-1.162 0-.44.17-.85.48-1.162l1.15-1.15c-.067-.203-.114-.41-.143-.622-.02-.156-.036-.313-.036-.472-.002-.29.034-.58.1-.865l-2.09 2.09c-1.205 1.206-1.205 3.16 0 4.364.602.602 1.39.903 2.18.903.79 0 1.58-.3 2.182-.903l2.088-2.09.31-.31c.18-.177.328-.374.453-.58.197-.323.33-.673.398-1.034.034-.186.053-.374.053-.563 0-.23-.028-.46-.08-.686-.043-.195-.106-.387-.19-.573zm2.797-4.357C12.494 2.3 11.705 2 10.917 2c-.79 0-1.58.3-2.183.904L6.646 4.992l-.31.31c-.18.18-.327.375-.453.58-.197.324-.33.674-.398 1.036-.035.186-.053.374-.053.562 0 .23.028.46.08.686.043.196.106.388.19.574.15.335.358.65.633.925s.59.485.926.634l.416-.416.29-.288.298-.3c.056-.055.103-.116.144-.18-.397-.025-.77-.185-1.054-.47-.293-.293-.445-.67-.47-1.054-.014-.212.013-.424.08-.628.076-.227.198-.442.376-.624l.014-.018.34-.34.472-.472.44-.44 1.147-1.147c.31-.31.723-.48 1.163-.48.44 0 .85.17 1.16.48.642.64.642 1.683.002 2.324l-1.15 1.15c.066.203.113.41.142.622.02.156.036.314.036.472.003.29-.033.58-.1.865l2.09-2.09c1.205-1.206 1.205-3.16 0-4.364z" fill="#FFF"/></g></svg>',tabDerrived:'<svg class="svg--tab-derived" width="14px" height="14px" viewBox="0 0 16 16"><defs/><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect id="CONTEXT_MENU_table_row_delete" x="-110" y="-679" width="240" height="1200"/><path d="M1,3.00585866 C1,1.89805351 1.89706013,1 3.00585866,1 L12.9941413,1 C14.1019465,1 15,1.89706013 15,3.00585866 L15,12.9941413 C15,14.1019465 14.1029399,15 12.9941413,15 L3.00585866,15 C1.89805351,15 1,14.1029399 1,12.9941413 L1,3.00585866 Z M6.84570313,10.1767578 C6.85026044,9.55696305 6.94026605,9.09668119 7.11572266,8.79589844 C7.29117926,8.49511568 7.62727616,8.13281462 8.12402344,7.70898438 C8.37923305,7.45833208 8.5820305,7.18147938 8.73242188,6.87841797 C8.88281325,6.57535656 8.95800781,6.22786654 8.95800781,5.8359375 C8.95800781,5.41666457 8.87255945,5.08398561 8.70166016,4.83789062 C8.53076086,4.59179564 8.28808751,4.46875 7.97363281,4.46875 C7.73209515,4.46875 7.52246183,4.57470597 7.34472656,4.78662109 C7.1669913,4.99853622 7.07584638,5.30045377 7.07128906,5.69238281 L5.18457031,5.69238281 L5.17089844,5.65136719 C5.15722649,4.75357624 5.41015365,4.07112864 5.9296875,3.60400391 C6.44922135,3.13687917 7.13052964,2.90332031 7.97363281,2.90332031 C8.8850957,2.90332031 9.60172265,3.16650127 10.1235352,3.69287109 C10.6453477,4.21924091 10.90625,4.93131062 10.90625,5.82910156 C10.90625,6.39876587 10.7604181,6.9262671 10.46875,7.41162109 C10.1770819,7.89697508 9.81250219,8.3037093 9.375,8.63183594 C9.14257696,8.8414724 8.98649128,9.05680228 8.90673828,9.27783203 C8.82698528,9.49886178 8.78710938,9.79850071 8.78710938,10.1767578 L6.84570313,10.1767578 Z M8.7734375,13 L6.85253906,13 L6.85253906,11.3115234 L8.7734375,11.3115234 L8.7734375,13 Z" id="Rectangle-515" /></g></svg>',tabCte:'<svg class="svg--tab-cte" width="14" height="14" viewBox="0 0 16 16"><rect x="1" y="1" width="14" height="14" rx="2"/><path d="M2 6.5h1v4H2v-4zM3 10h2v1H3v-1zm0-4h2v1H3V6zm4 1h1v4H7V7zM6 6h3v1H6V6zm4 0h1v5h-1V6zm1 0h2v1h-2V6zm0 2h2v1h-2V8zm0 2h2v1h-2v-1z" /></svg>',tabSubQuery:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><path fill="#FFFFFF" d="M13.143,1H3.857C2.832,1,2,1.832,2,2.857v9.285C2,13.168,2.832,14,3.857,14h9.285 C14.168,14,15,13.168,15,12.143V2.857C15,1.832,14.168,1,13.143,1z M7,11H5V6H4V5h1V4c0,0,0-2,2-2c1,0,2,0,2,0v1H8L7,4v1h2v1H7V11z M12.531,12H11l-0.5-1.294l-0.879,1.231L7,12l2.773-2.472L8,8l0,0l0.188-1H10l0.656,1.144L11.742,7H14l-2.629,2.6L13,11l0,0L12.531,12z"/></svg>',root:'<svg width="14" height="12" viewBox="0 0 14 12"><path fill="#039BE5" fill-rule="evenodd" d="M5.6 12V7.765h2.8V12h3.5V6.353H14L7 0 0 6.353h2.1V12h3.5z"/></svg>',subQueryTree:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><path fill="#FFFFFF" d="M7,2c0,0.55-0.45,1-1,1H1C0.45,3,0,2.55,0,2V1c0-0.55,0.45-1,1-1h5c0.55,0,1,0.45,1,1V2z"/><path fill="#FFFFFF" d="M16,7c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1V6c0-0.55,0.45-1,1-1h4c0.55,0,1,0.45,1,1V7z"/><path fill="#FFFFFF" d="M16,11c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1v-1c0-0.55,0.45-1,1-1h4c0.55,0,1,0.45,1,1V11z"/><path fill="#FFFFFF" d="M16,15c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1v-1c0-0.55,0.45-1,1-1h4c0.55,0,1,0.45,1,1V15z"/><polygon fill="#FFFFFF" points="4,14 3,14 3,4 4,3"/><polygon fill="#FFFFFF" points="10,7 4,7 5,6 9,6 \t"/><polygon fill="#FFFFFF" points="10,11 4,11 5,10 9,10"/><polygon fill="#FFFFFF" points="10,15 4,15 3,14 9,14"/></g></svg>',hidePanel:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><path fill="#FFFFFF" d="M13,1h-3v2h3v9H4V9H2v3c0,1.1,0.9,2,2,2h9c1.1,0,2-0.9,2-2V3C15,1.9,14.1,1,13,1z"/><polygon fill="#FFFFFF" points="2,1 4,1 4,6 3,7 2,6"/><polygon fill="#FFFFFF" points="7,1 2,1 2,3 7,3 8,2"/><g><rect x="3" y="2" fill="#FFFFFF" width="1" height="1"/><rect x="4" y="3" fill="#FFFFFF" width="1" height="1"/><rect x="5" y="4" fill="#FFFFFF" width="1" height="1"/><rect x="6" y="5" fill="#FFFFFF" width="1" height="1"/><rect x="7" y="6" fill="#FFFFFF" width="1" height="1"/><rect x="8" y="7" fill="#FFFFFF" width="1" height="1"/></g><g><rect x="3" y="3" fill="#FFFFFF" width="1" height="1"/><rect x="4" y="4" fill="#FFFFFF" width="1" height="1"/><rect x="5" y="5" fill="#FFFFFF" width="1" height="1"/><rect x="6" y="6" fill="#FFFFFF" width="1" height="1"/><rect x="7" y="7" fill="#FFFFFF" width="1" height="1"/><rect x="8" y="8" fill="#FFFFFF" width="1" height="1"/></g><g><rect x="4" y="2" fill="#FFFFFF" width="1" height="1"/><rect x="5" y="3" fill="#FFFFFF" width="1" height="1"/><rect x="6" y="4" fill="#FFFFFF" width="1" height="1"/><rect x="7" y="5" fill="#FFFFFF" width="1" height="1"/><rect x="8" y="6" fill="#FFFFFF" width="1" height="1"/><polygon fill="#FFFFFF" points="10,8 9,9 9,7 10,7"/></g></g></svg>',showPanel:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><path fill="#FFFFFF" d="M2,3v3h2V3h9v9h-3v2h3c1.1,0,2-0.9,2-2V3c0-1.1-0.9-2-2-2H4C2.9,1,2,1.9,2,3z"/><polygon fill="#FFFFFF" points="2,14 2,12 7,12 8,13 7,14"/><polygon fill="#FFFFFF" points="2,9 2,14 4,14 4,9 3,8"/><g><rect x="3" y="12" fill="#FFFFFF" width="1" height="1"/><rect x="4" y="11" fill="#FFFFFF" width="1" height="1"/><rect x="5" y="10" fill="#FFFFFF" width="1" height="1"/><rect x="6" y="9" fill="#FFFFFF" width="1" height="1"/><rect x="7" y="8" fill="#FFFFFF" width="1" height="1"/><rect x="8" y="7" fill="#FFFFFF" width="1" height="1"/></g><g><rect x="4" y="12" fill="#FFFFFF" width="1" height="1"/><rect x="5" y="11" fill="#FFFFFF" width="1" height="1"/><rect x="6" y="10" fill="#FFFFFF" width="1" height="1"/><rect x="7" y="9" fill="#FFFFFF" width="1" height="1"/><rect x="8" y="8" fill="#FFFFFF" width="1" height="1"/><rect x="9" y="7" fill="#FFFFFF" width="1" height="1"/></g><g><rect x="3" y="11" fill="#FFFFFF" width="1" height="1"/><rect x="4" y="10" fill="#FFFFFF" width="1" height="1"/><rect x="5" y="9" fill="#FFFFFF" width="1" height="1"/><rect x="6" y="8" fill="#FFFFFF" width="1" height="1"/><rect x="7" y="7" fill="#FFFFFF" width="1" height="1"/><polygon fill="#FFFFFF" points="9,6 10,7 8,7 8,6"/></g></g></svg>',arrow:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><polygon fill="#FFFFFF" points="5,3 5,12 12,7.5 "/></svg>',sandwich:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><rect x="3" y="3" fill="#FFFFFF" width="11" height="2"/><rect x="3" y="7" fill="#FFFFFF" width="11" height="2"/><rect x="3" y="11" fill="#FFFFFF" width="11" height="2"/></g></g></svg>',union:'<svg width="16px" height="16px" viewBox="0 0 16 16"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="-110" y="-1094" width="240" height="1200"></rect><g transform="translate(0.000000, 3.000000)" class="union-path" stroke="#FFFFFF" fill-opacity="0.699999988" fill="#FFFFFF"><path d="M6.5,5 C6.5,6.33 7.08,7.52 8,8.34 C7.21,9.07 6.15,9.5 5,9.5 C2.51,9.5 0.5,7.48 0.5,5 C0.5,2.51 2.51,0.5 5,0.5 C6.15,0.5 7.21,0.93 8,1.66 C7.08,2.47 6.5,3.67 6.5,5 L6.5,5 Z"></path><path d="M15.5,5 C15.5,7.48 13.49,9.5 11,9.5 C9.85,9.5 8.79,9.07 8,8.34 C8.92,7.52 9.5,6.33 9.5,5 C9.5,3.67 8.92,2.47 8,1.66 C8.79,0.93 9.85,0.5 11,0.5 C13.49,0.5 15.5,2.51 15.5,5 L15.5,5 Z"></path><path d="M9.5,5 C9.5,6.33 8.92,7.52 8,8.34 C7.08,7.52 6.5,6.33 6.5,5 C6.5,3.67 7.08,2.47 8,1.66 C8.92,2.47 9.5,3.67 9.5,5 L9.5,5 Z"></path></g></svg>',unionAll:'<svg width="16px" height="16px" viewBox="0 0 16 16"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="-110" y="-1094" width="240" height="1200"></rect><g transform="translate(0.000000, 3.000000)" class="union-path" stroke="#FFFFFF" fill-opacity="0.699999988" fill="#FFFFFF"><path d="M6.5,5 C6.5,6.33 7.08,7.52 8,8.34 C7.21,9.07 6.15,9.5 5,9.5 C2.51,9.5 0.5,7.48 0.5,5 C0.5,2.51 2.51,0.5 5,0.5 C6.15,0.5 7.21,0.93 8,1.66 C7.08,2.47 6.5,3.67 6.5,5 L6.5,5 Z"></path><path d="M15.5,5 C15.5,7.48 13.49,9.5 11,9.5 C9.85,9.5 8.79,9.07 8,8.34 C8.92,7.52 9.5,6.33 9.5,5 C9.5,3.67 8.92,2.47 8,1.66 C8.79,0.93 9.85,0.5 11,0.5 C13.49,0.5 15.5,2.51 15.5,5 L15.5,5 Z"></path><path d="M9.5,5 C9.5,6.33 8.92,7.52 8,8.34 C7.08,7.52 6.5,6.33 6.5,5 C6.5,3.67 7.08,2.47 8,1.66 C8.92,2.47 9.5,3.67 9.5,5 L9.5,5 Z"></path></g><g id="cross" transform="translate(0.000000, 9.000000)"><path d="M5,5 L5,7 L2,7 L2,5 L0,5 L0,2 L2,2 L2,0 L5,0 L5,2 L7,2 L7,5 L5,5 Z" fill="#039BE5"></path><path d="M6,4 L6,4 L6,3 L4,3 L4,1 L3,1 L3,3 L1,3 L1,4 L3,4 L3,6 L4,6 L4,4 L6,4 Z" id="Path" fill="#FFFFFF"></path></g></g></svg>',except:'<svg width="16px" height="16px" viewBox="0 0 16 16"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="-110" y="-912" width="240" height="1200"></rect><g transform="translate(0.000000, 3.000000)" class="union-path" stroke="#FFFFFF"><path d="M6.5,5 C6.5,6.33 7.08,7.52 8,8.34 C7.21,9.07 6.15,9.5 5,9.5 C2.51,9.5 0.5,7.48 0.5,5 C0.5,2.51 2.51,0.5 5,0.5 C6.15,0.5 7.21,0.93 8,1.66 C7.08,2.47 6.5,3.67 6.5,5 L6.5,5 Z"></path><path d="M15.5,5 C15.5,7.48 13.49,9.5 11,9.5 C9.85,9.5 8.79,9.07 8,8.34 C8.92,7.52 9.5,6.33 9.5,5 C9.5,3.67 8.92,2.47 8,1.66 C8.79,0.93 9.85,0.5 11,0.5 C13.49,0.5 15.5,2.51 15.5,5 L15.5,5 Z" fill-opacity="0.699999988" fill="#FFFFFF"></path><path d="M9.5,5 C9.5,6.33 8.92,7.52 8,8.34 C7.08,7.52 6.5,6.33 6.5,5 C6.5,3.67 7.08,2.47 8,1.66 C8.92,2.47 9.5,3.67 9.5,5 L9.5,5 Z" fill-opacity="0.699999988" fill="#FFFFFF"></path></g></g></svg>',intersect:'<svg width="16px" height="16px" viewBox="0 0 16 16"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="-110" y="-1024" width="240" height="1200"></rect><g transform="translate(0.000000, 3.000000)" class="union-path" stroke="#FFFFFF"><path d="M6.5,5 C6.5,6.33 7.08,7.52 8,8.34 C7.21,9.07 6.15,9.5 5,9.5 C2.51,9.5 0.5,7.48 0.5,5 C0.5,2.51 2.51,0.5 5,0.5 C6.15,0.5 7.21,0.93 8,1.66 C7.08,2.47 6.5,3.67 6.5,5 L6.5,5 Z"></path><path d="M15.5,5 C15.5,7.48 13.49,9.5 11,9.5 C9.85,9.5 8.79,9.07 8,8.34 C8.92,7.52 9.5,6.33 9.5,5 C9.5,3.67 8.92,2.47 8,1.66 C8.79,0.93 9.85,0.5 11,0.5 C13.49,0.5 15.5,2.51 15.5,5 L15.5,5 Z"></path><path d="M9.5,5 C9.5,6.33 8.92,7.52 8,8.34 C7.08,7.52 6.5,6.33 6.5,5 C6.5,3.67 7.08,2.47 8,1.66 C8.92,2.47 9.5,3.67 9.5,5 L9.5,5 Z" fill-opacity="0.699999988" fill="#FFFFFF"></path></g><g id="cross" transform="translate(0.000000, 9.000000)"><path d="M5,5 L5,7 L2,7 L2,5 L0,5 L0,2 L2,2 L2,0 L5,0 L5,2 L7,2 L7,5 L5,5 Z" fill="#039BE5"></path><path d="M6,4 L6,4 L6,3 L4,3 L4,1 L3,1 L3,3 L1,3 L1,4 L3,4 L3,6 L4,6 L4,4 L6,4 Z" fill="#FFFFFF"></path></g></g></svg>',addUnion:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><path fill="#7D7D7D" d="M11.006,10l0.064-0.065C10.887,9.969,10.701,10,10.508,10C9.832,10,9.205,9.77,8.67,9.387C9.494,8.495,10.009,7.312,10.009,6c0-1.312-0.515-2.495-1.338-3.387C9.205,2.231,9.832,2,10.508,2c1.924,0,3.49,1.794,3.49,4c0,1.2-0.473,2.266-1.206,3h1.288c0.568-0.837,0.918-1.869,0.918-3c0-2.762-2.01-5-4.49-5c-0.972,0-1.865,0.352-2.6,0.936C7.091,1.352,6.099,1,5.019,1C2.263,1,0.03,3.238,0.03,6c0,2.761,2.233,5,4.989,5c1.08,0,2.072-0.352,2.889-0.936C8.643,10.648,9.536,11,10.508,11c0.171,0,0.332-0.035,0.498-0.057V10z M5.019,10c-2.2,0-3.989-1.794-3.989-4c0-2.206,1.79-4,3.989-4c0.654,0,1.263,0.174,1.808,0.454C5.993,3.313,5.472,4.479,5.472,5.773c0,1.444,0.645,2.733,1.656,3.608C6.515,9.768,5.795,10,5.019,10z"/></g><rect x="12.004" y="10" fill="#7D7D7D" width="1.996" height="6"/><rect x="10.009" y="12" fill="#7D7D7D" width="5.987" height="2"/></g></svg>',linkIndicatorEmpty:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><path fill="#FBFAFF" d="M8,14.5c-3.584,0-6.5-2.902-6.5-6.469c0-3.567,2.916-6.469,6.5-6.469s6.5,2.902,6.5,6.469 C14.5,11.598,11.584,14.5,8,14.5z"/><path fill="#1B0887" d="M8,2.063c3.309,0,6,2.678,6,5.969S11.309,14,8,14s-6-2.678-6-5.969S4.691,2.063,8,2.063 M8,1.063c-3.866,0-7,3.12-7,6.969S4.134,15,8,15s7-3.119,7-6.969C15,4.183,11.866,1.063,8,1.063L8,1.063z"/></g></g></svg>',linkIndicatorLeft:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><path fill="#FBFAFF" d="M8,14.5c-3.584,0-6.5-2.902-6.5-6.469c0-3.567,2.916-6.469,6.5-6.469s6.5,2.902,6.5,6.469C14.5,11.598,11.584,14.5,8,14.5z"/><path fill="#1B0887" d="M8,2.063c3.309,0,6,2.678,6,5.969S11.309,14,8,14s-6-2.678-6-5.969S4.691,2.063,8,2.063 M8,1.063c-3.866,0-7,3.12-7,6.969C1,11.88,4.134,15,8,15s7-3.12,7-6.969C15,4.182,11.866,1.063,8,1.063L8,1.063z"/></g><g><path fill="#1B0887" d="M8,8.031c0,0,0-4.066,0-6.969c-3.866,0-7,3.12-7,6.969C1,11.88,4.134,15,8,15C8,13.258,8,8.031,8,8.031z"/></g></g></svg>',linkIndicatorRight:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><path fill="#FBFAFF" d="M8,14.5c-3.584,0-6.5-2.902-6.5-6.469c0-3.567,2.916-6.469,6.5-6.469s6.5,2.902,6.5,6.469C14.5,11.598,11.584,14.5,8,14.5z"/><path fill="#1B0887" d="M8,2.063c3.309,0,6,2.678,6,5.969S11.309,14,8,14s-6-2.678-6-5.969S4.691,2.063,8,2.063 M8,1.063c-3.866,0-7,3.12-7,6.969S4.134,15,8,15s7-3.119,7-6.969C15,4.183,11.866,1.063,8,1.063L8,1.063z"/></g><g><path fill="#1B0887" d="M8,8.031c0,0,0,4.065,0,6.969c3.866,0,7-3.119,7-6.969c0-3.849-3.134-6.969-7-6.969C8,2.805,8,8.031,8,8.031z"/></g></g></svg>',linkIndicatorFull:'<svg width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><circle fill="#1B0887" cx="8" cy="8" r="7"/></g></svg>'}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=-1,t=[];return{addElement:function(e){},removeElement:function(n){for(var i=0;i<t.length;i++)if(t[i]===n){t.splice(i,1),e=-1;break}}}}()},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),r=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(r).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=d[i.id];if(o){o.refs++;for(s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(u(i.parts[s],t))}else{for(var r=[],s=0;s<i.parts.length;s++)r.push(u(i.parts[s],t));d[i.id]={id:i.id,refs:1,parts:r}}}}function o(e,t){for(var n=[],i={},o=0;o<e.length;o++){var r=e[o],s=t.base?r[0]+t.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function r(e,t){var n=p(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=g[g.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=p(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function s(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function a(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),r(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,i,o,u;if(t.transform&&e.css){if(!(u=t.transform(e.css)))return function(){};e.css=u}if(t.singleton){var d=m++;n=f||(f=a(t)),i=c.bind(null,n,d,!1),o=c.bind(null,n,d,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),r(e,t),t}(t),i=function(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=b(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){s(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}function c(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}var d={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),p=function(e){var t={};return function(e){if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),f=null,m=0,g=[],b=n(19);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=h()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=o(e,t);return i(n,t),function(e){for(var r=[],s=0;s<n.length;s++){var a=n[s];(l=d[a.id]).refs--,r.push(l)}if(e){i(o(e,t),t)}for(s=0;s<r.length;s++){var l=r[s];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete d[l.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(){this.UnionSubQueryActions=[],this.Message="",this.SQL=null,this.Canvas={DataSources:[],Links:[],Layout:{DataSources:[]}},this.Grid={Rows:[]},this.Data=null,this.ContextMenu={},this.QueryParams=[],this.SyntaxProviderData=null,this.NavBar=null,this.TreeView=null,this.flush=function(){this.Message="",this.Metadata={},this.SQL=null,this.Canvas={DataSources:[],Links:[],Layout:{DataSources:[]}},this.Grid={Rows:[]},this.UnionSubQueryActions=[],this.Data=null,this.SubQueries=[],this.ContextMenu={}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ExchangeObject=t.Core=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(0)),l=n(1),u=i(n(8)),c=n(4),d=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.ExchangeObject=new o,e.Events={DataSending:"DataSending",DataReceived:"DataReceived",SyncFinished:"SyncFinished",UserDataReceived:"UserDataReceived",SQLReceived:"SQLReceived",UserQueriesReceived:"UserQueriesReceived",SQLChanged:"SQLChanged",SQLError:"SQLError",QueryStructureChanged:"QueryStructureChanged",SQLEErrorReceived:"SQLEErrorReceived",ContextMenuReceived:"ContextMenuReceived",AfterCustomEditCell:"AfterCustomEditCell"},u.default.setSuccessCallback(function(e,t){this.emit(d.Events.DataReceived,e),this._importData(e),this.emit(d.Events.SyncFinished,e),"function"==typeof t&&t(e)}.bind(e)),u.default.setErrorCallback(function(e,t){var n=window.AQB.Web.QueryBuilderContainer.get(e);n.hideOverlay(),n.TreeViewComponent&&n.TreeViewComponent.stopLoadingIndication(),n.StatusBarComponent&&("warning"===t.level?n.StatusBarComponent.messageWarning(t.message):n.StatusBarComponent.messageError(t.message))}),u.default.setSessionExpiredCallback(function(e,t){window.AQB.Web.QueryBuilderContainer.get(e)._reinit(t)}),e._checkTrigger=function(e,t,n,i){(0,l.isEmpty)(n)||e.emit(t,n,i)},e._checkTriggers=function(e){null!=e&&(this._checkTrigger(this,this.Events.QueryStructureChanged,e.QueryStructure),this._checkTrigger(this,this.Events.ContextMenuReceived,e.ContextMenu),this._checkTrigger(this,this.Events.UserDataReceived,e.Data),this._checkTrigger(this,this.Events.SQLEErrorReceived,e.SQLEditorError),this._checkTrigger(this,this.Events.UserQueriesReceived,e.UserQueries),this._checkTrigger(this,this.Events.SQLError))},e._importData=function(e){this._checkTriggers(e)},e.addDataSource=function(e){e.IsNew=!0,this.ExchangeObject.Canvas.DataSources.push(e)},e.removeDataSource=function(e){e.IsDeleted=!0,this.ExchangeObject.Canvas.DataSources.push(e)},e.trashDataSource=function(e){e.IsTrashed=!0,this.ExchangeObject.Canvas.DataSources.push(e)},e.updateDataSource=function(e){this.ExchangeObject.Canvas.DataSources.push(e)},e.addLink=function(e){e.IsNew=!0,this.ExchangeObject.Canvas.Links.push(e)},e.removeLink=function(e){e.IsDeleted=!0,this.ExchangeObject.Canvas.Links.push(e)},e.updateLink=function(e){this.ExchangeObject.Canvas.Links.push(e)},e.updateSQL=function(e){this.ExchangeObject.SQL=e},e.addGridRow=function(e){this._updateNewRow(e),this.ExchangeObject.Grid.Rows.push(e)},e.addGridRows=function(e){for(var t=0;t<e.length;t++)this._updateNewRow(e[t]);this.ExchangeObject.Grid.Rows=this.ExchangeObject.Grid.Rows.concat(e)},e._updateNewRow=function(e){e.IsNew=!0,this._updateRow(e)},e._updateRow=function(e){void 0===e.ChangedCellIndex&&(e.Grouping&&(e.ChangedCellIndex=7),e.Aggregate&&(e.ChangedCellIndex=6))},e.updateGridRows=function(e){for(var t=0;t<e.length;t++)this._updateRow(e[t]);this.ExchangeObject.Grid.Rows=this.ExchangeObject.Grid.Rows.concat(e)},e.updateGridRow=function(e){this._updateRow(e),this.ExchangeObject.Grid.Rows.push(e)},e.removeGridRows=function(e){for(var t=0;t<e.length;t++)e[t].IsDeleted=!0;this.ExchangeObject.Grid.Rows=this.ExchangeObject.Grid.Rows.concat(e)},e.removeGridRow=function(e){e.IsDeleted=!0,this.ExchangeObject.Grid.Rows.push(e)},e.setUserData=function(e){this.ExchangeObject.Data=e},e._createDebouncedFunctions(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),s(t,[{key:"sendDataToServer",value:function(){for(var e=window.AQB.Web.QueryBuilder,t=0;t<arguments.length;t++){var n=arguments[t],i=void 0===n?"undefined":r(n);if("undefined"!==i)if("function"===i)var o=n;else n.hasOwnProperty("SessionID")&&(e=n)}e._pingCount=0,this.ExchangeObject.Url=window.location.href,this.ExchangeObject.SessionID=e.SessionID,e.CanvasComponent&&(this.ExchangeObject.Canvas.Layout.DataSources=e.CanvasComponent.getLayout()),(0,l.removeEmptyArray)(this.ExchangeObject.Canvas,"DataSources"),(0,l.removeEmptyArray)(this.ExchangeObject.Canvas,"Links"),(0,l.removeEmptyArray)(this.ExchangeObject.Grid,"Rows"),this.emit(this.Events.DataSending,this.ExchangeObject),u.default.sync(this.ExchangeObject,o),this.ExchangeObject.flush()}},{key:"_createDebouncedFunctions",value:function(){this._sendDataToServerDelayed=a.default.debounce(this.sendDataToServer,800,this)}}]),t}());t.Core=d,t.ExchangeObject=o},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(43),n(2),n(7)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(o&&!r&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){this._app=t,this.LinkExpression="",this.IsDeleted=!1,this.IsNew=1==e.IsNew,this.Left=new a.default(t),this.Right=new a.default(t),this.id=r.Utils.getUID(),this.thin=1.5,this.thinBg=15,this.dto(e),this._createGraph()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),s=n(3),a=i(n(62)),l=i(n(63));o.prototype._createGraph=function(){var e=this;if(null==this.graphics){var t={leftType:this.Left.Type,rightType:this.Right.Type,thin:this.thin,thinBg:this.thinBg,style:this.style,displayKeyCardinality:this.displayKeyCardinality,leftCardinality:this.Left.Cardinality,rightCardinality:this.Right.Cardinality,onClick:function(t){return e._onLineClick(t)},centerOnClick:function(t){return e._onCenterClick(t)}};this.graphics=new l.default(this._app,t),this.graphics.line.link=this,this.graphics.line._bg.link=this}},o.prototype.draw=function(e){this._app.CanvasComponent.isVisible()&&this.graphics.update(this.Left,this.Right,e)},o.prototype._menuCallback=function(e){var t=!1;switch(e){case"all-from":this.Left.Type=this._app.MetaData.JoinType.toggle(this.Left.Type),t=!0;break;case"all-to":this.Right.Type=this._app.MetaData.JoinType.toggle(this.Right.Type),t=!0;break;case"delete":this.IsDeleted=!0,t=!0}t&&this._app.CanvasComponent.emit(o.Events.CanvasLinkOnChanged,this),this._app.CanvasComponent.redraw()},o.prototype.setLeftType=function(e){this.Left.Type=e,this._app.CanvasComponent.emit(o.Events.CanvasLinkOnChanged,this)},o.prototype.setRightType=function(e){this.Right.Type=e,this._app.CanvasComponent.emit(o.Events.CanvasLinkOnChanged,this)},o.prototype._getDto=function(){var e=new s.Dto.DataSourceLinkDto;return e.Left=this.Left.dto(),e.Right=this.Right.dto(),e.IsDeleted=this.IsDeleted,e.IsNew=this.IsNew,e.LinkExpression=this.LinkExpression,e},o.prototype._setDto=function(e){this.Left.dto(e.Left),this.Right.dto(e.Right),this.IsDeleted=e.IsDeleted,this.IsNew=e.IsNew,this.LinkExpression=e.LinkExpression},o.prototype.dto=function(e){if(void 0===e)return this._getDto();this._setDto(e)},o.prototype.UpdateObjects=function(){this.Left.UpdateObjects(),this.Right.UpdateObjects()},o.prototype.remove=function(){this.IsDeleted=!0,this._app.CanvasComponent.emit(o.Events.CanvasLinkOnChanged,this),this.dispose()},o.prototype.dispose=function(){this.graphics.dispose()},o.Events={CanvasLinkOnChanged:"CanvasLinkOnChanged",CanvasLinkOnClick:"CanvasLinkOnClick"}},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(1),a=n(13),l=i(n(66)),u=i(n(67)),c=i(n(69)),d=n(3),h=(n(15),i(n(6))),p=i(n(5)),f=n(0),m=n(4),g={metaDataObject:null,fields:[],options:{autoOpen:!0,qbtableClass:"",draggable:!0,hide:null,height:"auto",width:"auto",minHeight:5,minWidth:90,maxHeight:!1,maxWidth:!1,visible:!0,isHelper:!1,position:{my:"left top",at:"left+15 top+15",of:p.default.canvasSelector,collision:"none",using:function(e){var t=f(this).css(e).offset().top;t<0&&f(this).css("top",e.top-t)}},resizable:!0,show:null,stack:!0,title:"",zIndex:1e3,defaultHeight:160,defaultWidth:250},setDataSwitch:{dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"},subElement:null,fieldsContainer:null,uiQBTableClasses:"qb-ui-table ui-widget ui-widget-content ui-corner-all ",inFocus:!1,_menuCallback:function(e,t){if(null!=this.metaDataObject&&this.metaDataObject.IsNew)return!1;switch(e){case"check":return this.checkAllField(!0);case"uncheck":return this.checkAllField(!1);case"delete":return this.close();case"deleteCTE":return this.trash();case"addUserField":return this._onAddUserField();case"editUserField":return this._onEditUserField(t);case"removeUserField":return this._onRemoveUserField(t);case"hide":case"show":return this._onUncheckClick();case"sort":case"revertSort":return this._onSortClick();case"filter":case"hideFilter":return this._onFilterClick()}},_create:function(e){var t=this;this._app=this._app||this.options.app,this.metaDataObject=t.options.object;var n=this.metaDataObject;null==this.metaDataObject||(0,s.isEmpty)(this.metaDataObject.TempId)?this.TempId=(0,s.getTempId)():this.TempId=this.metaDataObject.TempId,n.TempId=this.TempId,t.element.data("metaDataObject",n),t.element.data("me",this),this._setZindex(),t.element.addClass(this.uiQBTableClasses+t.options.qbtableClass).css({position:"absolute",zIndex:t.options.zIndex}).attr("tabindex",0),this._app._useDefaultTheme&&t.element.addClass("qb-widget-content"),e||(this._addEvents(),this._isOpen=!1),t.options.coordinates&&(t.options.position.at="left+"+t.options.coordinates[0]+" top+"+t.options.coordinates[1],t.position.offset=t.options.position.offset,t._position(t.options.coordinates),t.options.coordinates=null),null==this.titleBar&&this._createTitleBar();var i=this._generateTitle();this.titleBar.setText(i,this.metaDataObject.Caption),s.Utils.AriaLabel(t.element,this._app.Localizer.Strings.DataSource+" "+i),n.Fields&&0!=n.Fields.length&&void 0===this.toolbar&&(this.toolbar=new c.default,this.toolbar.onFilterChanged=function(e){this.fieldsContainer.setFilter(e.toLowerCase())}.bind(this),this.titleBar.element.after(this.toolbar.element)),this._updateFieldsContainer(n),this._adjustSize(),this._enableLinkManipulations(),this.open(),this.element.data("object",n)},_addEvents:function(){var e=this;e.element.focus(function(t){e.inFocus=!1}).keydown(function(t){switch(t.keyCode){case 13:if(e.inFocus)return;e.inFocus=!0,t.preventDefault();break;case 9:if(!e.inFocus)return;var n=e.element.find(":focus");n.length||(n=e.element);if(null.length)return null.focus(),t.preventDefault(),!1;e.inFocus=!1}}).mousedown(function(t){e.moveToTop(!1,t)}).click(this.select.bind(this)),this._addInteractListeners()},_enableLinkManipulations:function(){var e=this;setTimeout(function(){var t=e.fieldsContainer.getFieldsElems(!1);0!=t.length&&e.options.object.LinkManipulations!==d.Enum.LinkManipulations.Deny&&f(t).draggable({distance:10,scroll:!1,helper:function(t){var n=f(t.target).closest(".qb-ui-table-field").clone(),i=f('<table class="qb-ui-table ui-widget ui-widget-content" cellpadding="0" cellspacing="0"></table>').append(n);return s.Utils.globalFieldDragHelper=i,e._app._useDefaultTheme&&i.addClass("qb-widget-content"),i},appendTo:e._app.CanvasComponent.objectsContainer,opacity:.8,start:function(t,n){e._app.droppableClear();var i=f(n.helper),o=f(this);n.helper.width(f(this).width()),s.Utils.globalTempLink&&(e._app.links.disposeLink(s.Utils.globalTempLink),delete s.Utils.globalTempLink),s.Utils.globalTempLink=e._app.links.createLink({Left:{field:{element:o},table:e},Right:{field:{element:i}}},e._app)},stop:function(t,n){e._app.links.disposeLink(s.Utils.globalTempLink),delete s.Utils.globalTempLink,e._app.CanvasComponent.redraw(),s.Utils.globalFieldDragHelper=null},drag:function(t,n){e._app.CanvasComponent.redrawT()}}).droppable({accept:".qb-ui-table-field",hoverClass:"qb-ui-table-field-highlight",tolerance:"intersect",out:function(t,n){e._app.droppableOut(this)},over:function(t,n){e.metaDataObject.IsNew?f(n.helper).addClass("cursorWait"):f(n.helper).removeClass("cursorWait"),e._app.droppableOver(this)},drop:function(t,n){if(e.metaDataObject.IsNew)return!1;if(!e._visibleY(t.target,e._app.CanvasComponent.element.get(0)))return!1;var i=e._app.droppableGetTopElement()||[];if(!i.length||i[0]==this){e._app.droppableClear();var o=f(n.draggable),r=f(this),s="";o.data("object")&&o.data("object").NameStr&&(s=o.data("object").NameStr);var a="";r.data("object")&&r.data("object").NameStr&&(a=r.data("object").NameStr);var l=e._app.links.createLink({IsNew:!0,Left:{DataSourceIndex:o.data("table").mdo.Index,FieldName:s},Right:{DataSourceIndex:r.data("table").mdo.Index,FieldName:a}});e._app.CanvasComponent.redraw();var u=l.dto();e.element.trigger(b.Events.TableObjectOnLinkCreate,u)}}})},500)},_setZindex:function(){var e=Number(this.element.css("z-index"))||0;e>0&&(this.options.zIndex=e)},_createTitleBar:function(){this.titleBar=new l.default(this),(0,s.isEmpty)(this.metaDataObject)||(this.metaDataObject.IsSubQuery||this.metaDataObject.IsCTE?this.titleBar.createSubQueryButton(this.openSubQuery.bind(this)):this.openSubQuery=void 0),this.titleBar.createCloseButton(function(e){return this.close(e),!1}.bind(this)),this.titleBar.createSandwichButton(this.showMenu.bind(this)),this.titleBar.onDblclick=this._collapseTable.bind(this),this.element.append(this.titleBar.element)},openSubQuery:function(){return this.element.trigger(b.Events.TableObjectOnSubqueryClick,this),!1},_updateFieldsContainer:function(e){this._createFieldsContainer(),this.subElement=this.fieldsContainer.element,this.options.isHelper&&this.metaDataObject.IsNew?this.fieldsContainer.generateLoadingFields():e&&e.Fields&&(this._needToGenerateFields(e.Fields)?this.fieldsContainer.generateFields():this._check(e.Fields)),this.metaDataObject.IsNew?this.fieldsContainer.element.addClass("cursorWait"):this.fieldsContainer.element.removeClass("cursorWait")},_needToGenerateFields:function(e){var t=this.fieldsContainer.getFields(!0);if(null==t)return!0;var n=e.length;if(n!==t.length)return!0;for(var i=0;i<n;i++)if(e[i].NameFull!==t[i].object.NameFull)return!0;return!1},_check:function(e){for(var t=this.fieldsContainer.getFields(!0),n=e.length,i=0;i<n;i++)e[i].NameFull===t[i].object.NameFull&&e[i].IsSelected!==t[i].checked&&t[i].check(e[i].IsSelected)},_createFieldsContainer:function(){if(null==this.fieldsContainer)this.fieldsContainer=new u.default(this),this.fieldsContainer.onFieldCheck=this._onFieldCheck.bind(this),this.fieldsContainer.onFieldDblClick=this._onFieldDblClick.bind(this),this.fieldsContainer.onEditUserField=this._onEditUserField.bind(this),this.fieldsContainer.onRemoveUserField=this._onRemoveUserField.bind(this),this.fieldsContainer.onLinkedObjectSelected=this._onLinkedObjectSelected.bind(this),this.element.append(this.fieldsContainer.element);else{var e=this.fieldsContainer.needToShowUnchecked,t=void 0!==this.fieldsContainer.sortedFields,n=this.fieldsContainer.filterText;setTimeout(function(){void 0!==n&&this.fieldsContainer.setFilter(n),1==e&&this.fieldsContainer.showUnchecked(),0==e&&this.fieldsContainer.hideUnchecked(),t&&this.fieldsContainer.sortByName()}.bind(this),4)}},_collapseTable:function(){this.element.data("collapsed")?(this.collapsed=!1,this.option("height",this.lastHeight)):(this.collapsed=!0,this.lastHeight=this.option("height"),this.option("height",this.titleBar.element.outerHeight())),this.element.data("collapsed",this.collapsed),this._app.CanvasComponent.redraw()},_adjustSize:function(){if(this.options.isHelper)return this.element.height("auto"),this.element.width(this.options.defaultWidth),void this.subElement.width("auto");var e=this.fieldsContainer.element[0],t=this.element[0],n=this.titleBar.element[0],i=e.offsetHeight,o=t.offsetHeight,r=e.clientWidth,a=n.offsetWidth;if(0!=i||0!=r){var l=Math.max(a,r);(0,s.isEmpty)(this.options.defaultWidth)||"auto"==this.options.defaultWidth||(l=this.options.defaultWidth);var u=Math.min(o,this.options.defaultHeight);l>40&&(this.options.width=l),u>0&&(this.options.height=u),this._size()}},_generateTitle:function(){return(0,s.isEmpty)(this.metaDataObject.Caption)?"":this.metaDataObject.Caption.replace(/ /g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},getBBox:function(){return{x:this.element.offset().left,y:this.element.offset().top,width:this.element.width(),height:this.element.height()}},reCreate:function(e){(0,s.isEmpty)(s.Utils.globalFieldDragHelper)||s.Utils.globalFieldDragHelper.trigger("mouseup"),this.options=f.extend(this.options,e);var t=this.subElement.scrollTop();this.options.isHelper=!1,this._create(!0),this._size(),this.subElement.scrollTop(t)},remove:function(){this.element.trigger(b.Events.TableObjectOnDestroy),this.fieldsContainer.dispose(),this.element.remove()},close:function(e){!1!==this._trigger("beforeclose",e)&&(this.element.trigger(b.Events.TableObjectOnClose),this._trigger("close",e),this._isOpen=!1)},_addInteractListeners:function(){f.fn.draggable&&this._makeDraggable(),f.fn.resizable&&this._makeResizable()},trash:function(e,t){t||this.element.trigger(b.Events.TableObjectOnTrash),this.close(e,!0)},isOpen:function(){return this._isOpen},moveToTop:function(e,t){var n=Number(this.element.css("z-index"));n=Math.max(this.options.zIndex,n),e&&f.ui.qbtable.maxZ++,n<100&&n>f.ui.qbtable.maxZ?f.ui.qbtable.maxZ=n:n<f.ui.qbtable.maxZ&&(f.ui.qbtable.maxZ++,n=f.ui.qbtable.maxZ),f.ui.qbtable.maxZ>100&&(f.ui.qbtable.maxZ=100);var i={scrollTop:this.element.attr("scrollTop"),scrollLeft:this.element.attr("scrollLeft")};this.element.css("z-index",n).attr(i),this._trigger("focus",t)},_onFieldCheck:function(e,t){this.element.trigger(b.Events.TableObjectOnCheckField,{table:this.dto(),field:e,checked:t})},_onFieldDblClick:function(e){this.element.trigger(b.Events.TableObjectOnDblClickField,{table:this.dto(),field:e})},_onAddUserField:function(){function e(){var n=t.metaDataObject.Fields.filter(function(e){return e.IsUserField}),i=n[n.length-1];t._app.CanvasComponent.propertiesFormsContainer.loadByUserField(i),a.Core.removeListener(a.Core.Events.SyncFinished,e)}var t=this;a.Core.on(a.Core.Events.SyncFinished,e),this.element.trigger(b.Events.TableObjectOnAddUserField,this.dto())},_onEditUserField:function(e){this.element.trigger(b.Events.TableObjectOnEditUserField,{datasource:this.dto(),field:e})},_onRemoveUserField:function(e){this.element.trigger(b.Events.TableObjectOnRemoveUserField,{table:this.dto(),field:e})},_onLinkedObjectSelected:function(e,t){var n={link:t,dataSource:this.fieldsContainer.dataSource};this.element.trigger(b.Events.TableObjectOnLinkedObjectSelected,n),e&&e.stopPropagation()},checkAllField:function(e){this.element.trigger(b.Events.TableObjectOnCheckAllFields,{table:this.dto(),checked:e})},checkFieldInternal:function(e,t,n){for(var i=this.fieldsContainer.fields,o=0;o<i.length;o++){var r=i[o];if(r.object.NameStr==e||r.object.NameFull==e){r.checked!=t&&n&&this._onFieldCheck(r,t);break}}},checkField:function(e,t){this.checkFieldInternal(e,t,!0)},_onUncheckClick:function(){this.fieldsContainer.needToShowUnchecked?this.fieldsContainer.hideUnchecked():this.fieldsContainer.showUnchecked()},_onSortClick:function(){this.fieldsContainer.sortByName()},_onFilterClick:function(){this.toggleToolbar()},toggleToolbar:function(){this.toolbar.element.is(":visible")?this.hideToolbar():this.showToolbar()},showToolbar:function(){this.toolbar&&(this.toolbar.show(),this._app.CanvasComponent.redraw(),this.toolbar.filter.focus())},hideToolbar:function(){this.toolbar&&(this.toolbar.hide(),this._app.CanvasComponent.redraw(),this._app.CanvasComponent.focus())},open:function(){if(!this._isOpen){var e=this.options;this._size(),this._position(e.position),this.moveToTop(!0),this._trigger("open"),this._isOpen=!0}},showMenu:function(){var e=s.Utils.getCoords(this.titleBar.element.get(0)),t=h.default.showForElement(this.element,e.left+15,e.top+15),n=parseInt(t.css("left")),i=t.width();t.css("left",n-i)},select:function(){this.element.focus(),this._app.CanvasComponent.selectDataSource(this)},_makeDraggable:function(){function e(e){return{position:e.position,offset:e.offset}}var t,n=this,i=f(document);n.element.draggable({addClasses:!1,fastDrag:!1,handle:".qb-ui-table-titlebar",scroll:!0,containment:"parent",start:function(i,o){var r=f(this);t="auto"===n.options.height?"auto":r.height(),r.height(r.height()).addClass("ui-dialog-dragging"),null!=f.ui.ddmanager.current&&null!=f.ui.ddmanager.current.containment&&f.ui.ddmanager.current.containment.length>3&&(f.ui.ddmanager.current.containment[2]=1e5,f.ui.ddmanager.current.containment[3]=1e5),n._trigger("dragStart",i,e(o))},drag:function(t,i){n._app.CanvasComponent.redrawT(),n._trigger("drag",t,e(i))},stop:function(o,r){n._app.CanvasComponent.resize(),n._app.CanvasComponent.redraw(),n.options.position.at="left+"+(r.position.left-i.scrollLeft())+" top+"+(r.position.top-i.scrollTop()),f(this).removeClass("ui-dialog-dragging").height(t),n._trigger("dragStop",o,e(r)),n.element.trigger(b.Events.TableObjectOnMoved)}})},_makeResizable:function(e){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}e=e||this.options.resizable;var n=this,i=n.options,o=n.element.css("position"),r="string"==typeof e?e:"se";n.element.resizable({cancel:".ui-dialog-content",containment:"document",minWidth:i.minWidth,handles:r,start:function(e,i){f(this).addClass("ui-dialog-resizing"),n._trigger("resizeStart",e,t(i))},resize:function(e,i){n._trigger("resize",e,t(i)),n._app.CanvasComponent.resizeT(),n._app.CanvasComponent.redrawT()},stop:function(e,o){var r=n.element.offset(),s=r.left-n.document.scrollLeft(),a=r.top-n.document.scrollTop();i.height=n.element.height(),i.width=n.element.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},f(this).removeClass("ui-dialog-resizing"),n._trigger("resizeStop",e,t(o)),n.element.trigger(b.Events.TableObjectOnResized)}}).css("position",o).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options,t=this.minContentHeight;if("auto"===e.height)isNaN(e.minHeight)||(t=Math.max(t,e.minHeight));else{var n=0;isNaN(e.minHeight)||(n=e.minHeight),isNaN(e.height)||(t=Math.min(n,e.height)),t=Math.max(t,n)}return t},position:function(e){this._position(e)},_position:function(e){if(this.options.visible){var t=[],n=[0,0],i=!1;e?(("string"==typeof e||"object"===(void 0===e?"undefined":r(e))&&"0"in e)&&(1===(t=e.split?e.split(" "):[e[0],e[1]]).length&&(t[1]=t[0]),f.each(["left","top"],function(e,o){+t[e]===t[e]&&(n[e]=t[e],t[e]=o,i=!0)}),e={my:"left top",of:this._app.CanvasComponent.element.get(0),at:"left+"+n[0]+" top+"+n[1],collision:"none"}),e=f.extend({},this.options.position,e)):e=this.options.position;var o=0,s=0;try{i?(o=n[0],s=n[1]):(o=1*e.at.match(/left([+-]*\d+)/)[1],s=1*e.at.match(/top([+-]*\d+)/)[1])}catch(e){}this.options.position=e,this.options.visible&&(null==this.options.position.of||f(this.options.position.of).length>0)&&(this.element.show(),e.of=this._app.CanvasComponent.element.get(0),e.collision="none",this.element.css({top:s,left:o}))}},_setOption:function(e,t){var n=this,i=n.element,o=i.is(":data(ui-resizable)"),r=!1;switch(e){case"beforeclose":e="beforeClose";break;case"buttons":n._createButtons(t),r=!0;break;case"closeText":n.uiDialogTitlebarCloseText.text(""+t);break;case"dialogClass":i.removeClass(n.options.dialogClass).addClass(uiDialogClasses+t);break;case"disabled":t?i.addClass("ui-dialog-disabled"):i.removeClass("ui-dialog-disabled");break;case"draggable":t?n._makeDraggable():i.draggable("destroy");break;case"height":r=!0;break;case"maxHeight":o&&i.resizable("option","maxHeight",t),r=!0;break;case"maxWidth":o&&i.resizable("option","maxWidth",t),r=!0;break;case"minHeight":o&&i.resizable("option","minHeight",t),r=!0;break;case"minWidth":o&&i.resizable("option","minWidth",t),r=!0;break;case"position":n._position(t);break;case"resizable":o&&!t&&i.resizable("destroy"),o&&"string"==typeof t&&i.resizable("option","handles",t),o||!1===t||n._makeResizable(t);break;case"title":f(".ui-dialog-title",n.uiDialogTitlebar).html(""+(t||"&#160;"));break;case"width":r=!0}f.Widget.prototype._setOption.apply(n,arguments),r&&n._size()},_size:function(){if(this.options.isHelper)return this.element.width(this.options.defaultWidth);"auto"===this.options.height&&(this.options.height=this.options.defaultHeight),"auto"===this.options.width&&(this.options.width=this.options.defaultWidth),this.element.css({height:this.options.height,width:this.options.width});var e=this.subElement.scrollTop();this.subElement.scrollTop(e)},_getDto:function(){var e=(0,s.mergeObj)({},this.metaDataObject);return e.Fields=[],f.each(this.fields,function(){"*"==this.object.NameStr?e.AllFieldsSelected=this.checked:e.Fields.push(this.object)}),e},_setDto:function(e){this.metaDataObject=e},dto:function(e){if(void 0===e)return this._getDto();this._setDto(e)},_visibleY:function(e,t){var n,i=e.getBoundingClientRect().top,e=e.parentNode;do{if(n=e.getBoundingClientRect(),i<=n.bottom==!1)return!1;if(e==t)return!0;e=e.parentNode}while(e!=document.body);return i<=document.documentElement.clientHeight}};!function(e){e.widget("ui.qbtable",g),e.extend(e.ui.qbtable,{version:"1.8.2",getter:"position",uuid:0,maxZ:0})}(f);var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.element=f("<div></div>"),n._domElem=n.element[0],n.mdo=e.object,n.element.qbtable(e),n._instance=n.element.qbtable("instance"),n.fieldsContainer.dataSource=n,n._instance.openSubQuery||(n.openSubQuery=void 0),n._initEvents(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),o(t,[{key:"_initEvents",value:function(){function e(e){arguments[0]=e.type,n.emit.apply(n,arguments)}var n=this,i=t.Events;this.element.on(i.TableObjectOnClose,e),this.element.on(i.TableObjectOnTrash,e),this.element.on(i.TableObjectOnMoved,e),this.element.on(i.TableObjectOnResized,e),this.element.on(i.TableObjectOnCheckField,e),this.element.on(i.TableObjectOnCheckAllFields,e),this.element.on(i.TableObjectOnDblClickField,e),this.element.on(i.TableObjectOnLinkedObjectSelected,e),this.element.on(i.TableObjectOnSubqueryClick,e),this.element.on(i.TableObjectOnCTEClick,e),this.element.on(i.TableObjectOnLinkCreate,e),this.element.on(i.TableObjectOnAddUserField,e),this.element.on(i.TableObjectOnEditUserField,e),this.element.on(i.TableObjectOnRemoveUserField,e),this.element.on(i.TableObjectOnDestroy,e)}},{key:"reCreate",value:function(e){this.mdo=e.object,this.element.qbtable("reCreate",e)}},{key:"update",value:function(e){this.element.qbtable("update",e)}},{key:"setPosition",value:function(e){this.element.qbtable("position",e)}},{key:"setWidth",value:function(e){this.element.qbtable("option","width",e)}},{key:"getWidth",value:function(){return this.element.width()}},{key:"setHeight",value:function(e){this.element.qbtable("option","height",e)}},{key:"getHeight",value:function(){return this.element.height()}},{key:"checkFieldInternal",value:function(e,t,n){this.element.qbtable("checkFieldInternal",e,t,n)}},{key:"close",value:function(){this.element.qbtable("close")}},{key:"dispose",value:function(){var e=this;this.hide(),this.disposed=!0,setTimeout(function(){return e.element.qbtable("remove")},4)}},{key:"hide",value:function(){this._domElem.style.display="none"}},{key:"getOption",value:function(e){return this.element.qbtable("option",e)}},{key:"getData",value:function(e){return this.element.data(e)}},{key:"openSubQuery",value:function(){this._instance.openSubQuery()}},{key:"blink",value:function(){this._instance.titleBar.blink()}},{key:"getFieldByName",value:function(e){for(var t=this.fieldsContainer.fields,n=t.length,i=0;i<n;i++)if(t[i].object.NameStr==e)return t[i]}},{key:"titleBar",get:function(){return this._instance.titleBar}},{key:"fieldsContainer",get:function(){return this._instance.fieldsContainer}}]),t}();t.default=b,b.setDefaultWidth=function(e){f.ui.qbtable.prototype.options.defaultWidth=e},b.getDefaultWidth=function(){return f.ui.qbtable.prototype.options.defaultWidth},b.setDefaultHeight=function(e){f.ui.qbtable.prototype.options.defaultHeight=e},b.setInitialZindex=function(e){f.ui.qbtable.prototype.options.zIndex=e},b.getDefaultHeight=function(){return f.ui.qbtable.prototype.options.defaultHeight},b.Events={TableObjectOnCheckField:"TableObjectOnCheckField",TableObjectOnCheckAllFields:"TableObjectOnCheckAllFields",TableObjectOnDblClickField:"TableObjectOnDblClickField",TableObjectOnClose:"TableObjectOnClose",TableObjectOnTrash:"TableObjectOnTrash",TableObjectOnDestroy:"TableObjectOnDestroy",TableObjectOnMoved:"TableObjectOnMoved",TableObjectOnResized:"TableObjectOnResized",TableObjectOnUpdated:"TableObjectOnUpdated",TableObjectOnLinkCreate:"TableObjectOnLinkCreate",TableObjectOnLinkDelete:"TableObjectOnLinkDelete",TableObjectOnLinkedObjectSelected:"TableObjectOnLinkedObjectSelected",TableObjectOnSubqueryClick:"TableObjectOnSubqueryClick",TableObjectOnCTEClick:"TableObjectOnCTEClick",TableObjectOnAddUserField:"TableObjectOnAddUserField",TableObjectOnEditUserField:"TableObjectOnEditUserField",TableObjectOnRemoveUserField:"TableObjectOnRemoveuserField",TableObjectOnClick:"TableObjectOnClick"}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=Object.create(null);return{add:function(t){var n=t.SessionID;if(void 0!==e[n])throw new Error("SessionID is already exists");e[n]=t},get:function(t){return e[t]},first:function(){for(var t in e)return e[t]},foreach:function(t){if("function"==typeof t)for(var n in e)t(e[n])},remove:function(t){delete e[t]}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=[],t=!1;return{onApplicationReady:function(n){t?n():e.push(n)},onApplicationReadyTrigger:function(n){t=!0;for(var i=0;i<e.length;i++)e[i](n)}}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var r;return r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},function(e,t){e.exports=function(e,t){function n(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function i(o,r,s){return s||(s=0),r.each(function(){var r,a,l=e(this),u=this,c=this.nodeName.toLowerCase();switch("label"==c&&l.find("input, textarea, select").length&&(r=l.html(),c=(u=(l=l.children().first()).get(0)).nodeName.toLowerCase()),c){case"menu":a={name:l.attr("label"),items:{}},s=i(a.items,l.children(),s);break;case"a":case"button":a={name:l.html(),disabled:!!l.attr("disabled"),callback:function(){l.click()}};break;case"menuitem":case"command":switch(l.attr("type")){case t:case"command":case"menuitem":a={name:l.attr("label"),disabled:!!l.attr("disabled"),callback:function(){l.click()}};break;case"checkbox":a={type:"checkbox",disabled:!!l.attr("disabled"),name:l.attr("label"),selected:!!l.attr("checked")};break;case"radio":a={type:"radio",disabled:!!l.attr("disabled"),name:l.attr("label"),radio:l.attr("radiogroup"),value:l.attr("id"),selected:!!l.attr("checked")};break;default:a=t}break;case"hr":a="-------";break;case"input":switch(l.attr("type")){case"text":a={type:"text",name:r||n(u),disabled:!!l.attr("disabled"),value:l.val()};break;case"checkbox":a={type:"checkbox",name:r||n(u),disabled:!!l.attr("disabled"),selected:!!l.attr("checked")};break;case"radio":a={type:"radio",name:r||n(u),disabled:!!l.attr("disabled"),radio:!!l.attr("name"),value:l.val(),selected:!!l.attr("checked")};break;default:a=t}break;case"select":a={type:"select",name:r||n(u),disabled:!!l.attr("disabled"),selected:l.val(),options:{}},l.children().each(function(){a.options[this.value]=e(this).html()});break;case"textarea":a={type:"textarea",name:r||n(u),disabled:!!l.attr("disabled"),value:l.val()};break;case"label":break;default:a={type:"html",html:l.clone(!0)}}a&&(o["key"+ ++s]=a)}),s}var o=t;if(e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,!e.ui||!e.ui.widget){var r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}r(t)}}var s=null,a=!1,l=e(window),u=0,c={},d={},h={},p={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!1,determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top",at:"left bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var i;if(t||n){i="maintain"===t&&"maintain"===n?e.$menu.position():{top:n,left:t};var o=l.scrollTop()+l.height(),r=l.scrollLeft()+l.width(),s=e.$menu.height(),a=e.$menu.width();i.top+s>o&&(i.top-=s),i.top<0&&(i.top=0),i.left+a>r&&(i.left-=a),e.$menu.css(i)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:0,left:this.outerWidth()};t.css(n)}},zIndex:6101,animation:{duration:0,show:"slideDown",hide:"slideUp"},events:{show:e.noop,hide:e.noop},callback:null,items:{}},f={timer:null,pageX:null,pageY:null},m={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(n){var i=e(this);if("right"==n.data.trigger&&(n.preventDefault(),n.stopImmediatePropagation()),!("right"!=n.data.trigger&&n.originalEvent||i.hasClass("context-menu-active")||i.hasClass("context-menu-disabled"))){if(s=i,n.data.build){var o=n.data.build(s,n);if(!1===o)return;if(o.callback!==t&&null!=o.callback&&(n.data.callback=o.callback),n.data=e.extend(!0,{},o,p,n.data||{}),!n.data.items||e.isEmptyObject(n.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");n.data.$trigger=s,g.create(n.data)}g.show.call(i,n.data,n.pageX,n.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var n=e(this);s&&s.length&&!s.is(n)&&s.data("contextMenu").$menu.trigger("contextmenu:hide"),2==t.button&&(s=n.data("contextMenuActive",!0))},mouseup:function(t){var n=e(this);n.data("contextMenuActive")&&s&&s.length&&s.is(n)&&!n.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),s=n,n.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),n.removeData("contextMenuActive")},mouseenter:function(t){var n=e(this),i=e(t.relatedTarget),o=e(document);i.is(".context-menu-list")||i.closest(".context-menu-list").length||s&&s.length||(f.pageX=t.pageX,f.pageY=t.pageY,f.data=t.data,o.on("mousemove.contextMenuShow",m.mousemove),f.timer=setTimeout(function(){f.timer=null,o.off("mousemove.contextMenuShow"),s=n,n.trigger(e.Event("contextmenu",{data:f.data,pageX:f.pageX,pageY:f.pageY}))},t.data.delay))},mousemove:function(e){f.pageX=e.pageX,f.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(!n.is(".context-menu-list")&&!n.closest(".context-menu-list").length){try{clearTimeout(f.timer)}catch(t){}f.timer=null}},layerClick:function(t){var n,i,o=e(this).data("contextMenuRoot"),r=t.button,s=t.pageX,a=t.pageY;t.preventDefault(),t.stopImmediatePropagation(),setTimeout(function(){var u,c="left"==o.trigger&&0===r||"right"==o.trigger&&2===r;if(document.elementFromPoint&&o.$layer&&(o.$layer.hide(),n=document.elementFromPoint(s-l.scrollLeft(),a-l.scrollTop()),o.$layer.show()),o.reposition&&c)if(document.elementFromPoint){if(o.$trigger.is(n)||o.$trigger.has(n).length)return void o.position.call(o.$trigger,o,s,a)}else if(i=o.$trigger.offset(),u=e(window),i.top+=u.scrollTop(),i.top<=t.pageY&&(i.left+=u.scrollLeft(),i.left<=t.pageX&&(i.bottom=i.top+o.$trigger.outerHeight(),i.bottom>=t.pageY&&(i.right=i.left+o.$trigger.outerWidth(),i.right>=t.pageX))))return void o.position.call(o.$trigger,o,s,a);n&&c&&o.$trigger.one("contextmenu:hidden",function(){e(n).contextMenu({x:s,y:a})}),o.$menu.trigger("contextmenu:hide")},50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};switch(s&&(t=s.data("contextMenu")||{}),e.keyCode){case 9:case 38:if(m.keyStop(e,t),t.isInput){if(9==e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void t.$menu.trigger("prevcommand");if(38==e.keyCode&&"checkbox"==t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!=e.keyCode||e.shiftKey)return void t.$menu.trigger("prevcommand");case 40:if(m.keyStop(e,t),!t.isInput)return void t.$menu.trigger("nextcommand");if(9==e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void t.$menu.trigger("nextcommand");if(40==e.keyCode&&"checkbox"==t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(m.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var n=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=n)}break;case 39:if(m.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var i=t.$selected.data("contextMenu")||{};if(i.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,i.$selected=null,void i.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(.disabled, .not-selectable)")[36==e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(m.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void m.keyStop(e,t);case 27:return m.keyStop(e,t),void t.$menu.trigger("contextmenu:hide");default:var o=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[o])return void t.accesskeys[o].$node.trigger(t.accesskeys[o].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),t.$selected&&t.$selected.trigger(e)},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{};if(n.$selected){var i=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=i}for(var o=n.$menu.children(),r=n.$selected&&n.$selected.prev().length?n.$selected.prev():o.last(),s=r;r.hasClass("disabled")||r.hasClass("not-selectable");)if((r=r.prev().length?r.prev():o.last()).is(s))return;n.$selected&&m.itemMouseleave.call(n.$selected.get(0),t),m.itemMouseenter.call(r.get(0),t);var a=r.find("input, textarea, select");a.length&&a.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{};if(n.$selected){var i=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=i}for(var o=n.$menu.children(),r=n.$selected&&n.$selected.next().length?n.$selected.next():o.first(),s=r;r.hasClass("disabled")||r.hasClass("not-selectable");)if((r=r.next().length?r.next():o.first()).is(s))return;n.$selected&&m.itemMouseleave.call(n.$selected.get(0),t),m.itemMouseenter.call(r.get(0),t);var a=r.find("input, textarea, select");a.length&&a.focus()},focusInput:function(t){var n=e(this).closest(".context-menu-item"),i=n.data(),o=i.contextMenu,r=i.contextMenuRoot;r.$selected=o.$selected=n,r.isInput=o.isInput=!0},blurInput:function(t){var n=e(this).closest(".context-menu-item").data(),i=n.contextMenu;n.contextMenuRoot.isInput=i.isInput=!1},menuMouseenter:function(t){var n=e(this).data().contextMenuRoot;null!=n&&(n.hovering=!0)},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;null!=n&&n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),i=n.data(),o=i.contextMenu,r=i.contextMenuRoot;null!=r&&(r.hovering=!0,t&&r.$layer&&r.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(o.$menu?o:r).$menu.children(".hover").trigger("contextmenu:blur"),n.hasClass("disabled")||n.hasClass("not-selectable")?o.$selected=null:n.trigger("contextmenu:focus"))},itemMouseleave:function(t){var n=e(this),i=n.data(),o=i.contextMenu,r=i.contextMenuRoot;if(r!==o&&r.$layer&&r.$layer.is(t.relatedTarget))return r.$selected&&r.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(r.$selected=o.$selected=o.$node);n.trigger("contextmenu:blur")},itemClick:function(t){var n,i=e(this),o=i.data(),r=o.contextMenu,s=o.contextMenuRoot,a=o.contextMenuKey;if(r&&r.items[a]&&!i.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(s.callbacks[a])&&Object.prototype.hasOwnProperty.call(s.callbacks,a))n=s.callbacks[a];else{if(!e.isFunction(s.callback))return;n=s.callback}!1!==n.call(s.$trigger,a,s,o)?s.$menu.trigger("contextmenu:hide"):s.$menu.parent().length&&g.update.call(s.$trigger,s)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var i=e(this).data("contextMenuRoot");g.hide.call(i.$trigger,i,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),i=n.data(),o=i.contextMenu,r=i.contextMenuRoot;n.addClass("hover").siblings(".hover").trigger("contextmenu:blur"),o.$selected=r.$selected=n,o.$node&&r.positionSubmenu.call(o.$node,o.$menu)},blurItem:function(t){t.stopPropagation();var n=e(this);n.data().contextMenu;n.removeClass("hover")}},g={show:function(t,n,i){if(void 0===o||!o){o=!0;var r=e(this),a={};e("#context-menu-layer").trigger("mousedown"),t.$trigger=r,t.x=n,t.y=i,!1!==t.events.show.call(r,t)?(g.update.call(r,t),t.position.call(r,t,n,i),t.zIndex&&(a.zIndex=6100+t.zIndex),g.layer.call(t.$menu,t,a.zIndex),t.$menu.find("ul").css("zIndex",a.zIndex+1),t.$menu.css(a)[t.animation.show](t.animation.duration,function(){r.trigger("contextmenu:visible")}),r.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",m.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",function(e){var n=r.offset();n.right=n.left+r.outerWidth(),n.bottom=n.top+r.outerHeight(),!t.$layer||t.hovering||e.pageX>=n.left&&e.pageX<=n.right&&e.pageY>=n.top&&e.pageY<=n.bottom||t.$menu.trigger("contextmenu:hide")})):s=null}},hide:function(n,i){var r=e(this);if(n||(n=r.data("contextMenu")||{}),i||!n.events||!1!==n.events.hide.call(r,n)){if(r.removeData("contextMenu").removeClass("context-menu-active"),n.$layer){setTimeout(function(e){return function(){e.remove()}}(n.$layer),10);try{delete n.$layer}catch(e){n.$layer=null}}s=null,n.$menu.find(".hover").trigger("contextmenu:blur"),n.$selected=null,e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),n.$menu&&n.$menu[n.animation.hide](n.animation.duration,function(){n.build&&(n.$menu.remove(),e.each(n,function(e,i){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:n[e]=t;try{delete n[e]}catch(e){}return!0}})),setTimeout(function(){r.trigger("contextmenu:hidden")},10)}),o=!1}},create:function(n,i){i===t&&(i=n),n.$menu=e('<ul class="context-menu-list"></ul>').addClass(n.className||"").data({contextMenu:n,contextMenuRoot:i}),e.each(["callbacks","commands","inputs"],function(e,t){n[t]={},i[t]||(i[t]={})}),i.accesskeys||(i.accesskeys={}),e.each(n.items,function(t,o){var r=e('<li class="context-menu-item"></li>').addClass(o.className||""),s=null,a=null;if(r.on("click",e.noop),o.$node=r.data({contextMenu:n,contextMenuRoot:i,contextMenuKey:t}),o.accesskey)for(var l,u=function(e){for(var t,n=e.split(/\s+/),i=[],o=0;t=n[o];o++)t=t.charAt(0).toUpperCase(),i.push(t);return i}(o.accesskey),c=0;l=u[c];c++)if(!i.accesskeys[l]){i.accesskeys[l]=o,o._name=o.name.replace(new RegExp("("+l+")","i"),'<span class="context-menu-accesskey">$1</span>');break}if("string"==typeof o)r.addClass("context-menu-separator not-selectable");else if(o.type&&h[o.type])h[o.type].call(r,o,n,i),e.each([n,i],function(n,i){i.commands[t]=o,e.isFunction(o.callback)&&(i.callbacks[t]=o.callback)});else{switch("html"==o.type?r.addClass("context-menu-html not-selectable"):o.type?(s=e("<label></label>").appendTo(r),e("<span></span>").html(o._name||o.name).appendTo(s),r.addClass("context-menu-input"),n.hasTypes=!0,e.each([n,i],function(e,n){n.commands[t]=o,n.inputs[t]=o})):o.items&&(o.type="sub"),o.type){case"text":a=e('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+t).val(o.value||"").appendTo(s);break;case"textarea":a=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+t).val(o.value||"").appendTo(s),o.height&&a.height(o.height);break;case"checkbox":a=e('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+t).val(o.value||"").prop("checked",!!o.selected).prependTo(s);break;case"radio":a=e('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(s);break;case"select":a=e('<select name="">').attr("name","context-menu-input-"+t).appendTo(s),o.options&&(e.each(o.options,function(t,n){e("<option></option>").val(t).text(n).appendTo(a)}),a.val(o.selected));break;case"sub":e("<span></span>").html(o._name||o.name).appendTo(r),o.appendTo=o.$node,g.create(o,i),r.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null;break;case"html":e(o.html).appendTo(r);break;default:e.each([n,i],function(n,i){i.commands[t]=o,e.isFunction(o.callback)&&(i.callbacks[t]=o.callback)}),e("<span></span>").html(o._name||o.name||"").appendTo(r)}o.type&&"sub"!=o.type&&"html"!=o.type&&(a.on("focus",m.focusInput).on("blur",m.blurInput),o.events&&a.on(o.events,n)),o.icon&&r.addClass("icon icon-"+o.icon)}o.$input=a,o.$label=s,r.appendTo(n.$menu),!n.hasTypes&&e.support.eventSelectstart&&r.on("selectstart.disableTextSelect",m.abortevent)}),n.$node||n.$menu.css("display","none").addClass("context-menu-root"),n.$menu.appendTo(n.appendTo||document.body)},resize:function(t,n){t.css({position:"absolute",display:"block"}),t.data("width",Math.ceil(t.width())+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each(function(){g.resize(e(this),!0)}),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return e(this).data("width")})},update:function(n,i){var o=this;i===t&&(i=n,g.resize(n.$menu)),n.$menu.children().each(function(){var t=e(this),r=t.data("contextMenuKey"),s=n.items[r],a=e.isFunction(s.disabled)&&s.disabled.call(o,r,i)||!0===s.disabled;if(t[a?"addClass":"removeClass"]("disabled"),s.type)switch(t.find("input, select, textarea").prop("disabled",a),s.type){case"text":case"textarea":s.$input.val(s.value||"");break;case"checkbox":case"radio":s.$input.val(s.value||"").prop("checked",!!s.selected);break;case"select":s.$input.val(s.selected||"")}s.$menu&&g.update.call(o,s,i)})},layer:function(n,i){var o=e("#context-menu-layer");o&&o.remove();var r=n.$layer=e('<div id="context-menu-layer" style="position:fixed; z-index:'+i+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:l.height(),width:l.width(),display:"block"}).data("contextMenuRoot",n).insertBefore(this).on("contextmenu",m.abortevent).on("mousedown",m.layerClick);return document.body.style.maxWidth===t&&r.css({position:"absolute",height:e(document).height()}),r}};e.fn.contextMenu=function(n){if(n===t)this.first().trigger("contextmenu");else if(n.x&&n.y)this.first().trigger(e.Event("contextmenu",{pageX:n.x,pageY:n.y}));else if("hide"===n){var i=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;i&&i.trigger("contextmenu:hide")}else if("destroy"===n)e.contextMenu("destroy",{context:this});else{if("element"===n)return null!=this.data("contextMenu")?this.data("contextMenu").$menu:[];e.isPlainObject(n)?(n.context=this,e.contextMenu("create",n)):n?this.removeClass("context-menu-disabled"):n||this.addClass("context-menu-disabled")}return this},e.contextMenu=function(n,i){"string"!=typeof n&&(i=n,n="create"),"string"==typeof i?i={selector:i}:i===t&&(i={});var o=e.extend(!0,{},p,i||{}),r=e(document),s=r,l=!1;switch(o.context&&o.context.length?(s=e(o.context).first(),o.context=s.get(0),l=o.context!==document):o.context=document,n){case"create":if(!o.selector)throw new Error("No selector specified");if(o.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+o.selector+'" as it contains a reserved className');if(!o.build&&(!o.items||e.isEmptyObject(o.items)))throw new Error("No Items specified");switch(u++,o.ns=".contextMenu"+u,l||(c[o.selector]=o.ns),d[o.ns]=o,o.trigger||(o.trigger="right"),a||(r.on({"contextmenu:hide.contextMenu":m.hideMenu,"prevcommand.contextMenu":m.prevItem,"nextcommand.contextMenu":m.nextItem,"contextmenu.contextMenu":m.abortevent,"mouseenter.contextMenu":m.menuMouseenter,"mouseleave.contextMenu":m.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",m.inputClick).on({"mouseup.contextMenu":m.itemClick,"contextmenu:focus.contextMenu":m.focusItem,"contextmenu:blur.contextMenu":m.blurItem,"contextmenu.contextMenu":m.abortevent,"mouseenter.contextMenu":m.itemMouseenter,"mouseleave.contextMenu":m.itemMouseleave},".context-menu-item"),a=!0),s.on("contextmenu"+o.ns,o.selector,o,m.contextmenu),l&&s.on("remove"+o.ns,function(){e(this).contextMenu("destroy")}),o.trigger){case"hover":s.on("mouseenter"+o.ns,o.selector,o,m.mouseenter).on("mouseleave"+o.ns,o.selector,o,m.mouseleave);break;case"left":s.on("click"+o.ns,o.selector,o,m.click)}o.build||g.create(o);break;case"destroy":var h;if(l){var f=o.context;e.each(d,function(t,n){if(n.context!==f)return!0;(h=e(".context-menu-list").filter(":visible")).length&&h.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&h.trigger("contextmenu:hide",{force:!0});try{d[n.ns].$menu&&d[n.ns].$menu.remove(),delete d[n.ns]}catch(e){d[n.ns]=null}return e(n.context).off(n.ns),!0})}else if(o.selector){if(c[o.selector]){(h=e(".context-menu-list").filter(":visible")).length&&h.data().contextMenuRoot.$trigger.is(o.selector)&&h.trigger("contextmenu:hide",{force:!0});try{d[c[o.selector]].$menu&&d[c[o.selector]].$menu.remove(),delete d[c[o.selector]]}catch(e){d[c[o.selector]]=null}r.off(c[o.selector])}}else r.off(".contextMenu .contextMenuAutoHide"),e.each(d,function(t,n){e(n.context).off(n.ns)}),c={},d={},u=0,a=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof i&&i)&&e('menu[type="context"]').each(function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+n+'"')}return this},e.contextMenu.setInputValues=function(n,i){i===t&&(i={}),e.each(n.inputs,function(e,t){switch(t.type){case"text":case"textarea":t.value=i[e]||"";break;case"checkbox":t.selected=!!i[e];break;case"radio":t.selected=(i[t.radio]||"")==t.value;break;case"select":t.selected=i[e]||""}})},e.contextMenu.getInputValues=function(n,i){return i===t&&(i={}),e.each(n.inputs,function(e,t){switch(t.type){case"text":case"textarea":case"select":i[e]=t.$input.val();break;case"checkbox":i[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(i[t.radio]=t.value)}}),i},e.contextMenu.fromMenu=function(t){var n={};return i(n,e(t).children()),n},e.contextMenu.defaults=p,e.contextMenu.types=h,e.contextMenu.handle=m,e.contextMenu.op=g,e.contextMenu.menus=d}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EditableSelectStatic=void 0;var i=n(1),o=n(0),r={wrappers:{},instances:[],handlers:{},inited:!1,context:null,init:function(){this.initEvents(),this.inited=!0},initEvents:function(){},GetWrapper:function(e){return((0,i.isEmpty)(e)||(0,i.isEmpty)(this.wrappers[e]))&&(this.wrappers[e]=new function(e){this.id=e,this.element=null,this.values=new Array,this.list_height=0,this.list_item_height=20,this.UpdateValues=function(e){delete this.values,this.values=new Array;for(var t=new Array,n=0;n<e.length;n++){var r=e[n];t.push('<li value="'+n+'" class="'+r.cssClass+'">'+(0,i.escapeHTML)(r.text)+"</li>"),this.values.push(r.value)}this.element.html("<ul>"+t.join("\n")+"</ul>");var s=this;this.element.on("mouseup",function(e){var t=e.target;if("LI"==t.tagName.toUpperCase()){var n=o(e.target);e.stopPropagation(),this.currentContext.pickListItem(n.text(),s.currentContext.getListValue(t.value))}}.bind(this)).on("mousedown",function(e){e.stopPropagation()}.bind(this)),this.adjustHeight(),this.checkScroll(10)},this.adjustHeight=function(){this.element.css("visibility","hidden"),this.element.show();var e=this.element.find("li");e.length>0&&(this.list_item_height=e[0].offsetHeight),this.element.css("visibility","visible"),this.element.hide()},this.checkScroll=function(e){this.element.find("li").length>e?(this.list_height=this.list_item_height*e,this.element.css("height",this.list_height+"px"),this.element.css("overflow","auto")):(this.element.css("height","auto"),this.element.css("overflow","visible"))},this.getListValue=function(e){return this.values[e]},this.clearHighlightMatches=function(){this.element.find("li").removeClass("match")},this.highlightSelected=function(e){var t=e.toLowerCase();this.clearHighlightMatches();var n=this.getMatchItems(t);o(n).addClass("match"),n.length>0?this.selectListItem(o(n[0])):this.selectFirstListItem()},this.getMatchItemNext=function(e){var t=e.toLowerCase(),n=this.getMatchItems(t),i=this.getSelectedListItem();if(i.length>0&&n.length>1){var r=n.indexOf(i[0]);return o(r<n.length-1?n[r+1]:n[0])}return null},this.getMatchItemPrev=function(e){var t=e.toLowerCase(),n=this.getMatchItems(t),i=this.getSelectedListItem();if(i.length>0&&n.length>1){var r=n.indexOf(i[0]);return o(r>0?n[r-1]:n[n.length-1])}return null},this.getMatchItems=function(e){var t=[];if((0,i.isEmpty)(e))return t;for(var n=e.replace(/([$-/:-?{-~!"^_`\[\]\\])/g,"\\$1"),o=this.element.find("li"),r=0;r<o.length;r++){var s=o[r],a=((0,i.isEmpty)(s.textContent)?s.innerText:s.textContent).toLowerCase(),l=this.getListValue(s.value).toLowerCase();AQB.Web.QueryBuilder.GridComponent.quickFilterInExpressionMatchFromBeginning&&(n="(^"+e+")|([.]"+e+")");var u=new RegExp(n);e==a||e==l?t.push(s):(u.test(a)||u.test(l))&&t.push(s)}return t},this.clearSelectedListItem=function(){this.element.find("li.selected").removeClass("selected")},this.selectNewListItem=function(e,t,n){var i=this.getSelectedListItem();i.length||(i=this.selectFirstListItem());var o=null;"down"==t?(n&&(o=this.getMatchItemNext(e)),null==o&&(o=i.next())):"up"==t&&(n&&(o=this.getMatchItemPrev(e)),null==o&&(o=i.prev())),null!=o&&(this.selectListItem(o),this.unselectListItem(i))},this.selectListItem=function(e){this.clearSelectedListItem(),e.addClass("selected"),this.scrollToListItem(e)},this.selectFirstListItem=function(){var e=this.element.find("li:first");return this.selectListItem(e),e},this.unselectListItem=function(e){e.removeClass("selected")},this.getSelectedListItem=function(){return this.element.find("li.selected")},this.scrollToListItem=function(e){this.list_height&&null!=e&&e.length>0&&this.element.scrollTop(e[0].offsetTop-this.list_height/2)},this.init=function(){this.element=o('<div class="editable-select-options"></div>').appendTo(o(document.body))},this.init()}(e)),this.wrappers[e]},UpdateWrapper:function(e,t){this.GetWrapper(e).UpdateValues(t)}};o.fn.editableSelect=function(e){r.inited||r.init();var t=o.extend({bg_iframe:!1,onSelect:!0,items_then_scroll:10,case_sensitive:!1},e);return o(this).each(function(e,n){var i=o(n);void 0==i.data("editable-selecter")&&(r.instances.push(new s(n,t)),i.data("editable-selecter",r.instances.length-1))}),o(this)},o.fn.editableSelectInstances=function(){var e=[];return o(this).each(function(){void 0!==o(this).data("editable-selecter")&&(e[e.length]=r.instances[o(this).data("editable-selecter")])}),e};var s=function(e,t){this.init(e,t)};s.prototype={isActive:!1,settings:!1,textControl:!1,select:!1,wrapper:!1,wrapperId:null,list_is_visible:!1,hide_on_blur_timeout:!1,bg_iframe:!1,padding_right:13,current_value:"",options_value:[],userEdit:!1,autoShow:!1,init:function(e,t){this.settings=t,this.wrapperId=this.settings.wrapperId,this.wrapper=r.GetWrapper(this.wrapperId),this.handler=this.settings.onSelect,(0,i.isEmpty)(this.wrapperId)||(r.handlers[this.wrapperId]=this.settings.onSelect),this.options=[],(0,i.isEmpty)(this.settings.options)||(this.options=this.settings.options),this.select=o(e),this.textControl=o('<input type="text">'),this.textControl.attr("aria-label",this.select.attr("aria-label")),this.textControl.val(this.settings.value),this.textControl.attr("name",this.select.attr("name")),this.textControl.data("editable-selecter",this.select.data("editable-selecter")),this.select.attr("disabled","disabled");var n=this.select.attr("id");if(n||(n="editable-select"+r.instances.length),this.id=n,this.textControl.attr("id",n),this.textControl.attr("autocomplete","off"),this.textControl.addClass("editable-select"),this.select.attr("id",n+"_hidden_select"),this.initInputEvents(this.textControl,this),this.duplicateOptions(),this.positionElements(),this.setWidths(),this.settings.bg_iframe){var s=o('<iframe frameborder="0" class="editable-select-iframe" src="about:blank;"></iframe>');o(document.body).append(s),s.width(this.select.width()+2),s.height(this.wrapper.element.height()),s.css({top:this.wrapper.element.css("top"),left:this.wrapper.element.css("left")}),this.bg_iframe=s}},duplicateOptions:function(){var e=this,t=new Array;this.select.find("option").each(function(n,i){var r=o(i),s=r.text(),a=r.attr("value"),l=!1;(r.attr("selected")||i.selected)&&(e.textControl.val(s),e.current_value=s,e.current_options_value=a,l=!0);var u=r.attr("class");t.push({selected:l,text:s,value:a,cssClass:u})}),t.length>0&&(this.wrapper.UpdateValues(t),this.wrapper.element.addClass("disable-selection"),this.wrapper.checkScroll(this.settings.items_then_scroll))},getControl:function(){return this.textControl},onSelect:function(e){var t=this.wrapper.currentContext;"function"==typeof t.handler&&t.handler.call(t,t.textControl,e)},editStart:function(){this.isActive||(this.isActive=!0,this.current_value=this.textControl.val(),this.userEdit=!1,this.adjustWrapper(this),this.autoShow&&this.showList())},editEnd:function(e){this.isActive&&(this.wrapper.clearSelectedListItem(),this.hideList(),this.onSelect(e),this.isActive=!1)},onTextboxChanged:function(e){this.textControl.val()!=this.current_value&&(this.userEdit=!0,this.current_value=this.textControl.val(),this.wrapper.highlightSelected(this.textControl.val()))},initInputEvents:function(e,t){var n=this;e.focus(function(e){n.editStart()}).blur(function(e){n.list_is_visible||n.editEnd(e)}).click(function(e){e.stopPropagation(),n.editStart(),e.pageX-o(this).offset().left>o(this).width()-16&&(n.list_is_visible?n.hideList():n.showList())}).keydown(function(e){switch(n.isActive=!0,e.keyCode){case 40:n.listIsVisible()?(e.preventDefault(),n.wrapper.selectNewListItem(n.textControl.val(),"down",n.userEdit)):n.showList();break;case 38:n.listIsVisible()?(e.preventDefault(),n.wrapper.selectNewListItem(n.textControl.val(),"up",n.userEdit)):n.showList();break;case 9:if(n.listIsVisible()){(t=n.wrapper.getSelectedListItem()).length&&n.pickListItem(t.text(),n.getListValue(t[0].value))}else n.editEnd();break;case 27:return e.preventDefault(),n.editEnd(),!1;case 13:if(e.preventDefault(),n.list_is_visible){var t=n.wrapper.getSelectedListItem();t.length&&n.pickListItem(t.text(),n.getListValue(t[0].value))}else n.editEnd();return!1}}).keyup(o.debounce(n.onTextboxChanged,100,n)).keypress(function(e){if(13==e.keyCode)return e.preventDefault(),!1})},pickListItem:function(e,t){this.current_value=e,this.current_options_value=t,this.textControl.val(t),this.editEnd()},listIsVisible:function(){return this.list_is_visible},adjustWrapper:function(e){this.adjustWrapperPosition(),this.adjustWrapperSize(),r.context=e,this.wrapper.currentContext=e},adjustWrapperPosition:function(){var e=this.textControl.offset();e.top+=this.textControl[0].offsetHeight,this.wrapper.element.css({top:e.top+"px",left:e.left+"px"})},adjustWrapperSize:function(){var e=this.textControl[0].clientWidth;this.wrapper.element.width(e)},showList:function(){this.hideOtherLists(),this.overlay=new o.ui.editableSelectOverlay.overlay(this),this.wrapper.element.show(),this.adjustWrapper(this),this.list_is_visible=!0,this.settings.bg_iframe&&this.bg_iframe.show(),this.wrapper.checkScroll(10),this.wrapper.highlightSelected(this.textControl.val())},getListValue:function(e){return this.wrapper.values[e]},hideList:function(){null!=this.overlay&&this.overlay.destroy(),this.wrapper.element.hide(),this.list_is_visible=!1,this.settings.bg_iframe&&this.bg_iframe.hide()},hideOtherLists:function(){for(var e=0;e<r.instances.length;e++)e!=this.select.data("editable-selecter")&&r.instances[e].hideList()},positionElements:function(){this.select.after(this.textControl),this.select.hide(),o(document.body).append(this.wrapper.element)},setWidths:function(){var e=this.select.width()+0;this.bg_iframe&&this.bg_iframe.width(e+4)}},o.ui.editableSelectOverlay={overlay:function(e){this.$el=o.ui.editableSelectOverlay.overlay.create(e)}},o.extend(o.ui.editableSelectOverlay.overlay,{self:void 0,instances:[],oldInstances:[],maxZ:4e3,events:o.map("focus,mousedown,keydown,keypress".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(e){0===this.instances.length&&o(window).bind("resize.dialog-overlay",o.ui.editableSelectOverlay.overlay.resize);var t=o('<div class="editable-select-options-overlay"></div>').appendTo(e.textControl.parent()).css({width:this.width(),height:this.height()});return t.bind("mousedown.dialog-overlay",function(t){e.editEnd();var n=document.elementFromPoint(t.clientX,t.clientY);if(null!=n)try{if(n.dispatchEvent){var i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,0,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),n.dispatchEvent(i)}else n.fireEvent&&n.fireEvent("onclick")}catch(e){}}),this.instances.push(t),t},destroy:function(e){null!=e&&e.remove(),0===this.instances.length&&o([document,window]).unbind(".dialog-overlay")},height:function(){return o(document).height()+"px"},width:function(){return o(document).width()+"px"},resize:function(){var e=o([]);o.each(o.ui.editableSelectOverlay.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:o.ui.editableSelectOverlay.overlay.width(),height:o.ui.editableSelectOverlay.overlay.height()})}}),o.extend(o.ui.editableSelectOverlay.overlay.prototype,{destroy:function(){o.ui.editableSelectOverlay.overlay.destroy(this.$el)}}),t.EditableSelectStatic=r},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(14),n(44),n(23),n(47),n(45),n(46),n(2),n(7)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),o=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options,r=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(n=e(o.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=o.containment:this.containment=[0,0,e(r).width()-this.helperProportions.width-this.margins.left,(e(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var o=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n,i){var o=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(t,n,i){e.each(i.sortables,function(){var o=!1,r=this;r.positionAbs=i.positionAbs,r.helperProportions=i.helperProportions,r.offset.click=i.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&e.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,i._parent=n.helper.parent(),r.currentItem=n.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return n.helper[0]},t.target=r.currentItem[0],r._mouseCapture(t,!0),r._mouseStart(t,!0,!0),r.offset.click.top=i.offset.click.top,r.offset.click.left=i.offset.click.left,r.offset.parent.left-=i.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=i.offset.parent.top-r.offset.parent.top,i._trigger("toSortable",t),i.dropped=r.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,r.fromOutside=i),r.currentItem&&(r._mouseDrag(t),n.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",t,r._uiHash(r)),r._mouseStop(t,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var o=e("body"),r=i.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(t,n,i){var o=i.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var o=e(n.helper),r=i.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(t,n,i){var o=i.options;o._opacity&&e(n.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var o=i.options,r=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+s.offsetHeight-t.pageY<o.scrollSensitivity?s.scrollTop=r=s.scrollTop+o.scrollSpeed:t.pageY-i.overflowOffset.top<o.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+s.offsetWidth-t.pageX<o.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+o.scrollSpeed:t.pageX-i.overflowOffset.left<o.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?r=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(r=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?r=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(r=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),!1!==r&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var o=i.options;i.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var o,r,s,a,l,u,c,d,h,p,f=i.options,m=f.snapTolerance,g=n.offset.left,b=g+i.helperProportions.width,v=n.offset.top,y=v+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)u=(l=i.snapElements[h].left-i.margins.left)+i.snapElements[h].width,d=(c=i.snapElements[h].top-i.margins.top)+i.snapElements[h].height,b<l-m||g>u+m||y<c-m||v>d+m||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(c-y)<=m,r=Math.abs(d-v)<=m,s=Math.abs(l-b)<=m,a=Math.abs(u-g)<=m,o&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),p=o||r||s||a,"outer"!==f.snapMode&&(o=Math.abs(c-v)<=m,r=Math.abs(d-y)<=m,s=Math.abs(l-g)<=m,a=Math.abs(u-b)<=m,o&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(o||r||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=o||r||s||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var o,r=i.options,s=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(o=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var o=e(n.helper),r=i.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(t,n,i){var o=i.options;o._zIndex&&e(n.helper).css("zIndex",o._zIndex)}}),e.ui.draggable})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.ui.plugin={add:function(t,n,i){var o,r=e.ui[t].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(e,t,n,i){var o,r=e.plugins[t];if(r&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,n)}}})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}()})},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=n(1),s=n(3),a=i(n(74)),l=n(26),u=n(4),c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._parent=n,i._app=n._app,i._cellFactory=new a.default(i._app),i.cells={},i.element=null,i.deleted=!1,i.ExpressionSubQueries=[],i.ConditionSubQueries=[],i.TempId=(0,r.getTempId)(),i.element=i._createRowControl(e),i.element.click(i._ctrlClickHandler.bind(i)),i._fillDefaultValues(),i._importDto(e),i.updateRowControl(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),t}();c.prototype.isEmpty=function(){return this._isEmpty},c.prototype.isAsterisk=function(){var e=this.getExpression();return!(0,r.isEmpty)(e)&&e.indexOf(".*")>=0},c.prototype.delete=function(){this.isEmpty()||this.emit(c.Events.GridRowOnRemove,this)},c.prototype.check=function(e){return this._setCellValue(this._app.MetaData.FieldParamType.selected,e)},c.prototype.setExpression=function(e){return this._setCellValue(this._app.MetaData.FieldParamType.expression,e)},c.prototype.setAlias=function(e){return this._setCellValue(this._app.MetaData.FieldParamType.alias,e)},c.prototype.setSorting=function(e){return e=e||s.Enum.ItemSortType.None,this._setCellValue(this._app.MetaData.FieldParamType.sorting,e)},c.prototype.setAggregate=function(e){if(-1===this._app.SyntaxProviderData.AggregateList.indexOf(e))throw new Error("unexpected aggregate function");return this._setCellValue(this._app.MetaData.FieldParamType.aggregate,e)},c.prototype.setGrouping=function(e){return this._setCellValue(this._app.MetaData.FieldParamType.grouping,!!e)},c.prototype.setCondition=function(e){return this._setCellValue(this._app.MetaData.FieldParamType.condition,e)},c.prototype._setCellValue=function(e,t){var n=this.cells[e];return n.value()!==t&&(n.setValue(t),this._onCellChanged({key:e,newValue:t}),!0)},c.prototype.isChecked=function(){return this.getValue(this._app.MetaData.FieldParamType.selected)},c.prototype.getExpression=function(){return this.getValue(this._app.MetaData.FieldParamType.expression)},c.prototype.getAlias=function(){return this.getValue(this._app.MetaData.FieldParamType.alias)},c.prototype.getSorting=function(){return this.getValue(this._app.MetaData.FieldParamType.sorting)},c.prototype.getSortingOrder=function(){return this.getValue(this._app.MetaData.FieldParamType.sortingOrder)},c.prototype.getAggregate=function(){return this.getValue(this._app.MetaData.FieldParamType.aggregate)},c.prototype.getGrouping=function(){return this.getValue(this._app.MetaData.FieldParamType.grouping)},c.prototype.getGroupingCriterion=function(){return this.getValue(this._app.MetaData.FieldParamType.groupingCriterion)},c.prototype.getCondition=function(){return this.getValue(this._app.MetaData.FieldParamType.condition)},c.prototype.getExpressionCell=function(){return this.cells[this._app.MetaData.FieldParamType.expression]},c.prototype.remove=function(){this.deleted=!0,this.element.remove()},c.prototype.getValue=function(e){return this.cells[e].value()},c.prototype.getCell=function(e){return this.cells[e]},c.prototype.hasAggregateOrCriteria=function(){return!(0,r.isEmpty)(this.getAggregate())||!(0,r.isEmpty)(this.getCondition())},c.prototype.setValue=function(e,t){void 0===t&&(t=null);var n=t;if(n==this.cells[e].value())return!1;switch(e){case this._app.MetaData.FieldParamType.sorting:this.setValue(this._app.MetaData.FieldParamType.sortingOrder,null);break;case this._app.MetaData.FieldParamType.sortingOrder:((0,r.isEmpty)(n)||0===n)&&(n="")}return this.cells[e].value(n),!0},c.prototype._onCellChanged=function(e){var t=e.key,n=e.newValue,i=e.oldValue;this.emit(c.Events.GridRowOnChanged,{key:t,newValue:n,oldValue:i,row:this,afterCustomEdit:e.afterCustomEdit}),this._updateTabindex()},c.prototype._updateTabindex=function(){var e=this,t=e.isEmpty();for(var n in e.cells)if(n!==this._app.MetaData.FieldParamType.expression){e.cells[n].element.attr("tabindex",t?-1:0)}},c.prototype._createRowControl=function(e){var t=(0,o.default)('<tr class="ui-qb-grid-row" />');return null!=e?this._createCells(t):(this._createCellsForEmpty(t),this._isEmpty=!0,t.addClass("ui-qb-grid-row--empty")),this._updateTabindex(),t.data("object",this),t.data("me",this),t},c.prototype._createCells=function(e){this._createCell(e,this._cellFactory.create.bind(this._cellFactory))},c.prototype._createCellsForEmpty=function(e){this._createCell(e,this._cellFactory.createEmpty.bind(this._cellFactory))},c.prototype._createCell=function(e,t){var n=this;this._app.MetaData.FieldParamType.each(function(i){var o=t(i,n);e.append(o.element),o.on(l.GridRowCell.Events.GridRowCellOnChanged,n._onCellChanged.bind(n)),n.cells[i]=o},this._parent)},c.prototype.updateRowControl=function(e){var t=this;for(var n in t.cells){var i=t.cells[n];void 0!==e&&e!=n||i.update()}this._updateTabindex()},c.prototype.reCreateEditBlock=function(e){var t=this;for(var n in t.cells)null!=e&&e!=n||t.cells[n]._reCreateEditBlock();this._updateTabindex()},c.prototype._fillDefaultValues=function(){var e=this._app.MetaData.FieldParamType;this.setValue(e.selected,!this.isEmpty()),this.setValue(e.grouping,!1),this.setValue(e.groupingCriterion,this._app.MetaData.SQL.GroupingCriterion.forValues)},c.prototype.equal=function(e,t,n,i){var o=this.getExpression()||"",r=e;return(o===r||o.indexOf(r)>=0||r.indexOf(o)>0)&&((!t||t===this.getAggregate())&&(!n||n===this.getAlias()))},c.prototype.equalSimilar=function(e,t,n){return this.equal(e,t,n,!0)},c.prototype.dto=function(e){return void 0===e?this._exportDto():this._importDto(e)},c.prototype.update=function(e){var t=this._importDto(e);return t&&this.updateRowControl(),t},c.prototype._importDto=function(e){var t=!1;if((0,r.isEmpty)(e))return t;var n=this._app.MetaData.FieldParamType;t=this.setValue(n.expression,e.Expression)||t,t=this.setValue(n.aggregate,e.Aggregate)||t,t=this.setValue(n.alias,e.Alias)||t,t=this.setValue(n.grouping,e.Grouping)||t,t=this.setValue(n.groupingCriterion,e.ConditionType)||t,t=this.setValue(n.sorting,e.SortType)||t,t=this.setValue(n.sortingOrder,e.SortOrder)||t;for(var i=0;i<this._parent.orColumnCount+1;i++)t=this.setValue(n.condition+i,e.Criteria[i])||t;this.deleted!==e.IsDeleted&&(this.deleted=e.IsDeleted,t=!0),this.Index!==e.Index&&(this.Index=e.Index,t=!0);var o=-1,s=-1;e.ExpressionSubQueries&&(s=e.ExpressionSubQueries.length),this.ExpressionSubQueries&&(o=this.ExpressionSubQueries.length),o!==s&&(t=!0),this.ExpressionSubQueries=e.ExpressionSubQueries;var a=-1,l=-1;return e.ConditionSubQueries&&(l=e.ConditionSubQueries.length),this.ConditionSubQueries&&(a=this.ConditionSubQueries.length),a!==l&&(t=!0),this.ConditionSubQueries=e.ConditionSubQueries,t=this.setValue(n.selected,e.Select&&!this.isEmpty())||t,this._updateTabindex(),t},c.prototype._exportDto=function(){var e=new s.Dto.GridRowDto;e.Select=this.isChecked(),e.Expression=this.getExpression(),e.Aggregate=this.getAggregate(),e.Alias=this.getAlias(),e.Grouping=this.getGrouping(),e.ConditionType=this.getGroupingCriterion(),e.SortType=this.getSorting(),e.SortOrder=this.getSortingOrder(),e.Criteria[0]=this.getCondition(),null!=this.Index?e.Index=this.Index:e.Index=this._parent.rows.length;for(var t=0;t<this._parent.orColumnCount;t++)e.Criteria[1+t]=this.getValue(this._app.MetaData.FieldParamType.conditionOr1+t);return e.IsDeleted=this.deleted,e.TempId=this.TempId,e},c.prototype._ctrlClickHandler=function(e){e.ctrlKey&&(this.marked=!this.marked,this.marked?this.element.addClass("ui-qb-grid-row--mark"):this.element.removeClass("ui-qb-grid-row--mark"),this.emit(c.Events.AfterMarkRow,this))},c.prototype.clearMark=function(){this.marked=!1,this.element.removeClass("ui-qb-grid-row--mark")},c.Events={GridRowOnChanged:"onGridRowCellChanged",GridRowOnRemove:"GridRowOnRemove",BeforeCustomEditCell:"BeforeCustomEditCell",AfterMarkRow:"onAfterMarkRow"},t.default=c},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){x.call(this,e,t)}function r(e,t){x.call(this,e,t)}function s(e,t){x.call(this,e,t)}function a(e,t){x.call(this,e,t)}function l(e,t){x.call(this,e,t)}function u(e,t){x.call(this,e,t)}function c(e,t){x.call(this,e,t)}function d(e,t){x.call(this,e,t)}function h(e,t){x.call(this,e,t)}function p(e,t){x.call(this,e,t)}function f(e,t){x.call(this,e,t)}function m(e,t){l.call(this,e,t)}function g(e,t){m.call(this,e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SortingOrderCell=t.SortingCell=t.SelectedCell=t.GroupingCriterionCell=t.GroupingCell=t.ExpressionCell=t.DeletingCell=t.ConditionOrCell=t.ConditionCell=t.AliasCell=t.AggregateCell=t.ActionCell=t.GridRowCell=t.EmptyCell=void 0;var b=i(n(0)),v=n(3),y=n(1),_=i(n(25)),C=n(4),x=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._parent=e,i._grid=e._parent,i._app=e._app,i._key=n,i._isStatic=i._grid.staticControlKeys.contains(n),i.init(),i._initEvents(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,C),t}();x.prototype.updateValue=function(e){this.afterCustomEdit=!0,this._editControl&&this._editControl.valEx(e),this._cellEditEnd()},x.prototype.setValue=function(e){this._editControl&&this._editControl.valEx(e),this.value(e),this.update()},x.prototype.value=function(e){if(void 0===e)return this._value;this._value=e},x.prototype._createEditControl=function(e){var t=this;if((e=null==e?this._createEditor():(0,b.default)(e)).addClass("ui-qb-grid-row-cell-edit-control"),e.attr("aria-label",this._getCellName()),!e.binded)if(e.instantEdit)e.change(function(){t._cellEditEnd()}),e.binded=!0;else{var n="blur";"select"===e[0].tagName.toLowerCase()&&(n="change"),e.bind(n,function(){var e=(0,b.default)(this).parents(".ui-qb-grid-row-cell-edit-block");e.length&&e.data("me")._cellEditEnd()}),e.binded=!0}return e},x.prototype._switchToEdit=function(){this._isEditable()&&(null!=this._viewBlock&&this._viewBlock.hide(),null!=this._editBlock&&(this._initializeEditBlock(),this._editBlock.show()),null!=this._editControl&&this._editControl.focus(),this._grid.CurrentEditCell=this)},x.prototype._isEditable=function(){return!this._parent.isEmpty()&&!this._parent.isAsterisk()},x.prototype._switchToView=function(){if(null!=this._viewBlock)try{this._grid.blockFocus++,this._viewBlock.show(),null!=this._editBlock&&(this._editBlock.hide(),this._utilizeEditBlock())}finally{this._grid.blockFocus--}},x.prototype.update=function(e){null!=this._viewBlock&&(this._viewBlock[0].innerHTML=this._valueHTML()),null!=this._editControl&&this._isUpdatable(e)&&this._editControl.valEx(this._value)},x.prototype._isUpdatable=function(e){return e||!this._isStatic},x.prototype.suppressEnter=function(e){if(13===e.keyCode)return e.stopPropagation(),this._cellEditEnd(),!1},x.prototype._initializeEditBlock=function(){if(!this._isStatic)return!1;this.update(!0),this._editControlPlaceholder.html(""),this._editControl.data("me",this),this._editControlPlaceholder.append(this._editControl.detach()),this._editControl.data("inHiddenBlock",!1)},x.prototype._utilizeEditBlock=function(){if(!this._isStatic)return!1;if(!this._editControl.data("inHiddenBlock")){try{this._grid.hiddenBlock.append(this._editControl)}catch(e){}this._editControl.data("inHiddenBlock",!0)}this._editControlPlaceholder.html("")},x.prototype._createEditBlock=function(){var e=(0,b.default)('<div class="ui-qb-grid-row-cell-edit-block">');if(this._createCustomEditButton?this._createCustomEditButton(e):this._editControlPlaceholder=e,!this._isStatic||this instanceof o){var t=null;null!=this._grid.customEditControl&&(t=this._grid.customEditControl(this._key,this,this._parent)),this._editControl=this._createEditControl(t),this._editControlPlaceholder.append(this._editControl)}else this._createStaticEditBlock();return this._editControl.instantEdit||e.hide(),e.data("me",this),e},x.prototype._createStaticEditBlock=function(){(0,y.isEmpty)(this._grid.staticEditControls[this._key])?(this._editControl=this._createEditControl(),this._grid.staticEditControls[this._key]=this._editControl,this._editControl.appendTo(this._grid.hiddenBlock),this._editControl.data("inHiddenBlock",!0)):this._editControl=this._grid.staticEditControls[this._key]},x.prototype._reCreateEditBlock=function(){var e=this._grid.staticEditControls;null!=this._editBlock&&(this._editBlock.children().remove(),this._editBlock.remove(),this._editBlock=null),this._isStatic&&e[this._key]&&(e[this._key].remove(),e[this._key]=void 0),this._editBlock=this._createEditBlock(),this.element.append(this._editBlock)},x.prototype._createViewBlock=function(){return(0,b.default)("<div></div>").addClass("ui-qb-grid-row-cell-view-block").addClass("ui-qb-grid-row-cell-view-control")},x.prototype._cellEditStart=function(){this._grid.CurrentEditCell!==this&&(this._grid.inFocus=!0,null!=this._grid.CurrentEditCell&&this._grid.CurrentEditCell._cellEditEnd(),this._grid.CurrentEditCell=this,this._switchToEdit(),this.element.addClass("ui-global-focus"),null!=this._editControl&&this._editControl.length>0&&"input"===this._editControl[0].tagName.toLowerCase()&&this._editControl.setCursorPosition(0))},x.prototype._cellEditEnd=function(){var e=!1,t=!0,n=this.value(),i=this._editControl.valEx();if(y.Utils.isEqual(n,i)||null==n&&(" "===i||0===i))this._switchToView();else{if(e=!0,this instanceof d){var o=this._calculateSorting(i,n);i=o[0],n=o[1],t=o[2]}this.value(i),t&&this._parent.updateRowControl(this._key),this.emit(x.Events.GridRowCellOnChanged,{key:this._key,newValue:i,oldValue:n,afterCustomEdit:this.afterCustomEdit}),this._switchToView(),this.afterCustomEdit=!1}return this._editControl.instantEdit||this.element.removeClass("ui-global-focus"),this._grid.CurrentEditCell=null,e},x.prototype._getCssBaseClass=function(){return"ui-qb-grid-row-"},x.prototype._getCssClass=function(){return this._getCssBaseClass()+this._app.MetaData.FieldParamType.getKeyName(this._key,this._app.Localizer)},x.prototype._createEditor=function(){return(0,b.default)('<input type="text" value="" />').on("keydown",this.suppressEnter.bind(this))},x.prototype.init=function(){this.element=(0,b.default)('<td class="ui-qb-grid-row-cell '+this._getCssClass()+'" />'),this.element.attr("tabindex",0),this._setAreaLabel(),this._viewBlock=this._createViewBlock(),this._editBlock=this._createEditBlock(),this.element.append(this._viewBlock),this.element.append(this._editBlock)},x.prototype._setAreaLabel=function(){this.element.attr("aria-label",this._getCellName())},x.prototype.setKey=function(e){this._key=e},x.prototype._initEvents=function(){var e=this;this.element.focusin(function(t){e._app.GridComponent.disabled||e._app.GridComponent.blockFocus>0||e.element[0]===t.target&&e._cellEditStart()}),this._viewBlock&&this._viewBlock.click(function(){e._cellEditStart()}),this._editControl&&this._editControl.focusout(function(t){e.element.removeClass("ui-global-focus")})},(o.prototype=Object.create(x.prototype))._valueHTML=function(){return""},o.prototype._createEditor=function(){return(0,b.default)("<span />")},o.prototype._utilizeEditBlock=function(){},o.prototype._isEditable=function(){return!1},o.prototype._getCellName=function(){},(r.prototype=Object.create(x.prototype))._createViewBlock=function(){return null},r.prototype._createEditor=function(){var e=(0,b.default)("<div>");return e.instantEdit=!0,e},r.prototype._getCellName=function(){return""},(s.prototype=Object.create(x.prototype))._createViewBlock=function(){return null},s.prototype._createEditor=function(){var e=(0,b.default)("<div></div>");return e.instantEdit=!0,e.bind("click",function(e){this._parent.delete()}.bind(this)),this.element.bind("keydown",function(e){13!==e.keyCode&&32!==e.keyCode||this._editControl.trigger("click")}).bind(this),e},s.prototype._getCellName=function(){return this._app.Localizer.Strings.Delete},(a.prototype=Object.create(x.prototype))._createViewBlock=function(){return null},a.prototype._createEditor=function(){var e=(0,b.default)('<input type="checkbox" value="true" />');return e.attr("tabindex",-1),e.instantEdit=!0,e},a.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.Output},(l.prototype=Object.create(x.prototype))._valueHTML=function(){return(0,y.escapeHTML)(this._value||"")},l.prototype._createEditor=function(){var e=(0,b.default)("<select />");return e=e.editableSelect({wrapperId:"grid-expression",value:this._value,onSelect:function(e){var t=e.parents(".ui-qb-grid-row-cell-edit-block");t.length&&t.data("me")._cellEditEnd()}}).editableSelectInstances()[0].getControl(),e.binded=!0,this._hasExpressionBuilder()||e.width("100%"),e},l.prototype.updateCustomEditButton=function(e){this._parent.ExpressionSubQueries&&this._parent.ExpressionSubQueries.length>0||this._hasExpressionBuilder()?e.addClass("showCustomEdit"):e.removeClass("showCustomEdit")},l.prototype._initializeEditBlock=function(){this._editControl.val(this.value()),this._editBlock.prepend(this._grid.customEditButtons.detach()),x.prototype._initializeEditBlock.call(this)},l.prototype._utilizeEditBlock=function(){this._grid.customEditButtons.parent()!==this._grid.hiddenBlock&&this._grid.hiddenBlock.append(this._grid.customEditButtons),x.prototype._utilizeEditBlock.call(this)},l.prototype._createCustomEditButton=function(e){null==this._grid.customEditButtons&&(this._grid.customEditButtons=this._createCombinedButton(),this._grid.hiddenBlock.append(this._grid.customEditButtons));var t=(0,b.default)('<span class="inputSpan"></span>');e.append(t),this._editControlPlaceholder=t,this.updateCustomEditButton(e)},l.prototype._createCombinedButton=function(){return this.$customEditButton=(0,b.default)('<button class="customExpressionEdit">'),this.$customEditButton.jQButton({icons:{primary:"ui-icon-pencil"},text:!1}).data("me",this).mousedown(this._combinedButtonMousedown).click(function(e){return e.preventDefault(),!1}),this.$customEditButton},l.prototype._combinedButtonMousedown=function(e){var t=(0,b.default)(this).parents(".ui-qb-grid-row-cell-edit-block");if(t.length){var n=t.data("me");return n._hasExpressionBuilder()&&n._parent.emit(_.default.Events.BeforeCustomEditCell,{column:n._key,value:n._value,dto:n._parent.dto(),cell:n}),e.preventDefault(),!1}},l.prototype._hasExpressionBuilder=function(){return 0!=(this._grid.useCustomExpressionBuilder&v.Enum.AffectedColumns.ExpressionColumn)},l.prototype._isEditable=function(){return!0},l.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.Expression},(u.prototype=Object.create(x.prototype))._valueHTML=function(){return(0,y.escapeHTML)(this._value||"")},u.prototype._cellEditStart=function(){this._app.QBTRIAL?this._app.StatusBarComponent&&this._app.StatusBarComponent.messageInfo("Random aliases is the limitation of the trial version. You will get rid of them and will be able to define own aliases in the paid version."):x.prototype._cellEditStart.call(this)},u.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.Alias},(c.prototype=Object.create(x.prototype))._valueHTML=function(){var e=this._app.MetaData.SQL.Sorting.getKeyName(this._value,this._app.Localizer);return"None"===e||null==e?"":e},c.prototype._createEditor=function(){var e=["<select>"],t=this;return this._grid.nullOrderingInOrderBy?(e.push('<option value="0">None</option>'),e.push('<option value="1">Ascending Nulls First</option>'),e.push('<option value="1">Ascending Nulls Last</option>'),e.push('<option value="2">Descending Nulls First</option>'),e.push('<option value="2">Descending Nulls Last</option>')):t._app.MetaData.SQL.Sorting.each(function(t,n){e.push('<option value="'+t+'">'+(null==n?"":n)+"</option>")}),e.push("</select>"),(0,b.default)(e.join(""))},c.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.SortType},(d.prototype=Object.create(x.prototype))._valueHTML=function(){var e=this._parent.getSortingOrder();return(0,y.isEmpty)(e)||0===e?"":e},d.prototype._createEditor=function(){var e=(0,b.default)("<select />");return e=e.editableSelect({wrapperId:"grid-sortingOrder",onSelect:function(e){var t=e.parents(".ui-qb-grid-row-cell-edit-block");t.length&&t.data("me")._cellEditEnd()}}).editableSelectInstances()[0].getControl(),e.binded=!0,e},d.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.SortOrder},d.prototype._calculateSorting=function(e,t){var n=this._parent.getSorting();return(0,y.isEmpty)(e)||0===e?((0,y.isEmpty)(n)&&0===n||this._parent.setValue(this._app.MetaData.FieldParamType.sorting,this._app.MetaData.SQL.Sorting.NONE),[e,t,!0]):(t=(0,y.isEmpty)(t)?9999:Number(t),e=Number(e),isNaN(e)&&(e=0),isNaN(t)&&(t=9999),e+=e<t?-.5:.5,((0,y.isEmpty)(n)||0===n)&&(this._parent.setValue(this._app.MetaData.FieldParamType.sorting,this._app.MetaData.SQL.Sorting.Ascending),this._parent.updateRowControl(this._app.MetaData.FieldParamType.sorting)),[e,t,!1])},(h.prototype=Object.create(x.prototype))._valueHTML=function(){return this._value||""},h.prototype._createEditor=function(){var e=["<select>"],t=this,n=this._app.SyntaxProviderData;if(!(0,y.isEmpty)(n)&&!(0,y.isEmpty)(n.AggregateList)){var i="";b.default.each(n.AggregateList,function(n,o){i=o===t._value?' selected="selected" ':"",e.push('<option value="'+o+'"'+i+">"+(null==o?"":o)+"</option>")})}e.push("</select>");return(0,b.default)(e.join("")).on("change",function(){var e=(0,b.default)(this).parents(".ui-qb-grid-row-cell-edit-block");e.length&&e.data("me")._cellEditEnd()})},h.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.Aggregate},(p.prototype=Object.create(x.prototype))._createViewBlock=function(){return null},p.prototype._createEditor=function(){var e=(0,b.default)('<input type="checkbox" value="true" />');return e.attr("tabindex",-1),e.instantEdit=!0,e},p.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.Grouping},(f.prototype=Object.create(x.prototype))._valueHTML=function(){return this._app.MetaData.SQL.GroupingCriterion.getKeyName(this._value,this._app.Localizer)},f.prototype._createEditor=function(){var e=["<select>"];return this._app.MetaData.SQL.GroupingCriterion.each(function(t,n){e.push('<option value="'+t+'">'+(null==n?"":n)+"</option>")}),e.push("</select>"),(0,b.default)(e.join("")).bind("change blur",function(){var e=(0,b.default)(this).parents(".ui-qb-grid-row-cell-edit-block");e.length&&e.data("me")._cellEditEnd()})},f.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.CriteriaType},(m.prototype=Object.create(x.prototype))._valueHTML=function(){return(0,y.escapeHTML)(this._value||"")},m.prototype.updateCustomEditButton=function(e){this._parent.ConditionSubQueries&&this._parent.ConditionSubQueries.length>0||this._hasExpressionBuilder()?e.addClass("showCustomEdit"):e.removeClass("showCustomEdit")},m.prototype._initializeEditBlock=l.prototype._initializeEditBlock,m.prototype._utilizeEditBlock=l.prototype._utilizeEditBlock,m.prototype._createCustomEditButton=l.prototype._createCustomEditButton,m.prototype._hasExpressionBuilder=function(){return 0!=(this._grid.useCustomExpressionBuilder&v.Enum.AffectedColumns.ConditionColumns)},m.prototype._isUpdatable=function(){return!0},m.prototype._getCellName=function(){return this._app.Localizer.Strings.Criteria.CriteriaItem},(g.prototype=Object.create(m.prototype))._getCssClass=function(){return this._getCssBaseClass()+"conditionOr"},x.Events={GridRowCellOnChanged:"onChanged",GridRowCellOnDeleted:"onDeleted",BeforeCustomEditCell:"BeforeCustomEditCell"},t.EmptyCell=o,t.GridRowCell=x,t.ActionCell=r,t.AggregateCell=h,t.AliasCell=u,t.ConditionCell=m,t.ConditionOrCell=g,t.DeletingCell=s,t.ExpressionCell=l,t.GroupingCell=p,t.GroupingCriterionCell=f,t.SelectedCell=a,t.SortingCell=c,t.SortingOrderCell=d},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=i(n(78)),s=i(n(79)),a=i(n(80)),l=i(n(9)),u=n(1),c=i(n(10)),d=n(4),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._app=n,i.element=(0,o.default)(e),i.subqueryPanel=(0,o.default)('<div class="qb-ui-canvas-navbar-subquery-panel ui-widget-header ui-corner-all">'),i.element.append(i.subqueryPanel),i._app._useDefaultTheme&&i.subqueryPanel.addClass("qb-widget-header"),i._createTreeStructure(),i._createBreadcrumbs(),i._createUnionPanel(),i.showTreeButton=(0,o.default)('<span class="subquery-tree">'+l.default.subQueryTree+"<span>"),u.isMobile&&(i.hidePanelButton=(0,o.default)('<span class="hide-panel">'+l.default.hidePanel+"</span>"),i.unionPanel.show()),i.breadcrumbs.element.prepend(i.showTreeButton).append(i.hidePanelButton),i._initEvents(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d),t}();h.prototype._createTreeStructure=function(){this.treeStructure=new a.default(this._app),this.subqueryPanel.append(this.treeStructure.element)},h.prototype._createBreadcrumbs=function(){this.breadcrumbs=new r.default(this._app),this.subqueryPanel.append(this.breadcrumbs.element)},h.prototype._createUnionPanel=function(){this.unionPanel=new s.default(this._app),this.element.append(this.unionPanel.parentElement)},h.prototype._toggleUnionPanel=function(){this.unionPanel.element.is(":visible")?this._hideUnionPanel():this._showUnionPanel()},h.prototype._showUnionPanel=function(){this.unionPanel.show(),this.hidePanelButton&&this.hidePanelButton.html(l.default.hidePanel)},h.prototype._hideUnionPanel=function(){this.unionPanel.hide(),this.hidePanelButton&&this.hidePanelButton.html(l.default.showPanel)},h.prototype.enableUnions=function(e){this.unionPanel.enableUnions(e)},h.prototype.enableCte=function(e){this.unionPanel.enableCte(e)},h.prototype.dispose=function(){this.element.empty()},h.prototype.updateUnions=function(e){this.unionPanel.updateUnions(e)},h.prototype.updateCtes=function(e){this.unionPanel.updateCtes(e)},h.prototype.updateBreadcrumb=function(e){this.breadcrumbs.build(e)},h.prototype.buildTree=function(e){this.treeStructure.build(e)},h.prototype._initEvents=function(){this.breadcrumbs.onClick=function(e){this.emit(h.Events.BreadCrumbSelectNode,e)}.bind(this),this.treeStructure.onClick=function(e){this.emit(h.Events.TreeStructureSelectNode,e)}.bind(this),this.showTreeButton.click(this.treeStructure.show.bind(this.treeStructure)).uiHoverable(),this.hidePanelButton&&this.hidePanelButton.click(this._toggleUnionPanel.bind(this)).uiHoverable(),this.element.mouseleave(function(){this.treeStructure.hide()}.bind(this)),this.unionPanel.on(h.Events.NavBarAction,function(e){this.emit(h.Events.NavBarAction,e)}.bind(this)),c.default.addElement(this.treeStructure),c.default.addElement(this.breadcrumbs)},h.prototype.show=function(){this.element.show()},h.prototype.hide=function(){this.element.hide()},h.Events={BreadCrumbSelectNode:"BreadCrumbSelectNode",TreeStructureSelectNode:"TreeStructureSelectNode",NavBarAction:"NavBarAction"},t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.startApplication=t.Web=void 0;var i=n(29);window.navigator.cookieEnabled||console.warn("%c Please enable cookies in your browser.","color: red");var o=window.AQB?window.AQB.Web:{};null==o.CriteriaBuilderContainer&&(Object.defineProperties(o,{CriteriaBuilderContainer:{enumerable:!0,get:function(){return i.CriteriaBuilderContainer}},CriteriaBuilder:{enumerable:!0,get:function(){return i.CriteriaBuilderContainer.first()}},onCriteriaBuilderReady:{enumerable:!0,get:function(){return i.onCriteriaBuilderReady}}}),document.addEventListener("DOMContentLoaded",i.startApplication)),t.Web=o,t.startApplication=i.startApplication},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.getAttribute("SessionID")===t}function r(e){var t=new a.default(e);u.add(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.startApplication=t.onCriteriaBuilderReady=t.CriteriaBuilderContainer=void 0,n(30);var s=i(n(17)),a=i(n(32)),l=i(n(18)),u=new s.default,c=(0,l.default)(),d=c.onApplicationReady.bind(c),h="qb-ui-criteria-builder",p="."+h;t.CriteriaBuilderContainer=u,t.onCriteriaBuilderReady=d,t.startApplication=function(e){if("string"!=typeof e)!function(){for(var e=document.getElementsByClassName(h),t=e.length,n=0;n<t;n++)r(e[n])}();else{var t=function(e,t,n){var i=document.querySelectorAll(e),r=i.length;if(n){for(var s=[],a=0;a<r;a++)o(i[a],t)&&s.push(i[a]);return s}for(var l=0;l<r;l++)if(o(i[l],t))return i[l]}(p,e);t&&r(t)}u.foreach(function(e){e._notAutoLoad||e.loadColumns(),setTimeout(function(){c.onApplicationReadyTrigger(e)},1e3)})}},function(e,t,n){var i=n(31);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0};o.transform=void 0;n(12)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700|Roboto:300,400,700);",""]),t.push([e.i,"/*@font-face {\r\n  font-family: 'RobotoLight';\r\n  font-style: normal;\r\n  font-weight: 100;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/b9QBgL0iMZfDSpmcXcE8nPVFL0ofnRu5Y2lP-UpEUGU.woff2) format('woff2');\r\n}\r\n\r\n@font-face {\r\n  font-family: 'RobotoRegular';\r\n  font-style: normal;\r\n  font-weight: 300;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/Zd2E9abXLFGSr9G3YK2MsDAdhzWOYhqHvOZMRGaEyPo.woff2) format('woff2');\r\n}\r\n\r\n@font-face {\r\n  font-family: 'RobotoBold';\r\n  font-style: normal;\r\n  font-weight: 900;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/b9QBgL0iMZfDSpmcXcE8nHm2hrkyco9jQ3NKMXpgOBg.woff2) format('woff2');\r\n}*/\n.context-menu-list {\n  margin: 0;\n  padding: 0;\n  min-width: 120px;\n  max-width: 400px;\n  display: inline-block;\n  position: absolute;\n  list-style-type: none;\n  border: 1px solid #DDD;\n  background: #EEE;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);\n  max-height: 400px; }\n\n.context-menu-root {\n  padding: 8px 0; }\n\n.context-menu-item {\n  white-space: nowrap;\n  padding: 2px 22px 2px 36px;\n  background-color: #EEE;\n  position: relative;\n  user-select: none; }\n  .context-menu-item span {\n    font-size: 1.1em;\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-family: \"Roboto Condensed\", sans-serif; }\n\n.context-menu-separator {\n  margin-bottom: 3px;\n  padding-bottom: 0;\n  border-bottom: 1px solid black;\n  height: 1px; }\n\n.context-menu-item > label > input,\n.context-menu-item > label > textarea {\n  user-select: text; }\n\n.context-menu-item.hover {\n  cursor: pointer;\n  background-color: #ddd; }\n\n.context-menu-item.highlight {\n  background-color: #45e9ff; }\n\n.context-menu-item.disabled {\n  color: #666; }\n\n.context-menu-input.hover, .context-menu-item.disabled.hover {\n  cursor: default;\n  background-color: #EEE; }\n\n.context-menu-submenu:after {\n  content: \"\\25B6\";\n  color: #666;\n  position: absolute;\n  top: 2px;\n  right: 5px; }\n\n.context-menu-item > .context-menu-list {\n  display: none;\n  right: -5px;\n  top: 5px; }\n\n.context-menu-item.hover > .context-menu-list {\n  display: block; }\n\n.context-menu-accesskey {\n  text-decoration: underline; }\n\n.context-menu-item.icon {\n  min-height: 18px; }\n  .context-menu-item.icon::before {\n    content: '';\n    position: absolute;\n    left: 10px;\n    width: 16px;\n    height: 16px;\n    top: 5px;\n    background-repeat: no-repeat; }\n  .context-menu-item.icon--active::before {\n    border: 1px solid #a7a7a7; }\n\n.context-menu-item.icon-page::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Clear); }\n\n.context-menu-item.icon-cross::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Delete); }\n\n.context-menu-item.icon-field::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/FieldNode); }\n\n.context-menu-item.icon-deleteCTE::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/DeleteCTE); }\n\n.context-menu-item.icon-row-insert::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/AddRow); }\n\n.context-menu-item.icon-row-delete::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/DeleteRow); }\n\n.context-menu-item.icon-move-up::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/MoveUp); }\n\n.context-menu-item.icon-move-down::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/MoveDown); }\n\n.context-menu-item.icon-goto-subquery::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Sub-query); }\n\n.context-menu-item.icon-check::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/CheckAll); }\n\n.context-menu-item.icon-uncheck::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/UncheckAll); }\n\n.context-menu-item.icon-delete::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Delete); }\n\n.context-menu-item.icon-hide::before, .context-menu-item.icon-show::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/ShowUncheckedField); }\n\n.context-menu-item.icon-sort::before, .context-menu-item.icon-revertSort::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/SortAlphabetically); }\n\n.context-menu-item.icon-filter::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Filter); }\n\n.context-menu-item.icon-filtered::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Filter);\n  border: 1px solid gray;\n  border-radius: 2px;\n  background-color: lightgray; }\n\n.context-menu-item.icon-add-derived-table::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/NewDerivedTable); }\n\n.context-menu-item.icon-add-cte-new::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/AddCTE); }\n\n.context-menu-item.icon-union::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-Union); }\n\n.context-menu-item.icon-RemoveUnionSubQuery::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Delete); }\n\n.context-menu-item.icon-all-from::before, .context-menu-item.icon-all-to::before {\n  height: 16px;\n  top: 5px;\n  background-color: white;\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/checkbox-empty); }\n\n.context-menu-item.icon-all-from.checked::before, .context-menu-item.icon-all-to.checked::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/checkbox-checked); }\n\n.context-menu-item.icon-addUserField::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-Calculated-Field); }\n\n.context-menu-item.icon-editUserField::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/EditUserField); }\n\n.context-menu-item.icon-removeUserField::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/DeleteUserField); }\n\n.context-menu-item.icon-add-group-of-conditions::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-group-of-condition); }\n\n.context-menu-item.icon-add-general-condition::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-general-condition); }\n\n.context-menu-item.icon-add-condition-for-column::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-condition); }\n\n.context-menu-layout {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 12100; }\n\n.context-menu {\n  position: absolute;\n  z-index: 12100; }\n\n.qb-ui-criteria-builder {\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-weight: 300;\n  margin-bottom: 5px; }\n\n.qb-ui-criteria-builder .invalid-value {\n  color: #B22222; }\n\n.qb-ui-criteria-builder-link-field-select {\n  font-style: italic; }\n\n.qb-ui-criteria-builder-link-field-select,\n.qb-ui-criteria-builder-link-junctionType {\n  padding: 0px 7px 0px 7px;\n  border: 1px solid #A3A3A3; }\n  .qb-ui-criteria-builder-link-field-select::after,\n  .qb-ui-criteria-builder-link-junctionType::after {\n    content: '';\n    display: inline-block;\n    width: 10px;\n    height: 13px;\n    background: url(/ActiveQueryBuilder/Handler/resources/svg/Expanded); }\n\n.qb-ui-criteria-builder-link-junctionType {\n  color: #7D7DA6; }\n\n.add > .qb-ui-criteria-builder-link-field-select {\n  border: none;\n  color: #636363;\n  padding-left: 0px; }\n  .add > .qb-ui-criteria-builder-link-field-select::after {\n    display: none; }\n\n.qb-ui-criteria-builder-link-clear-items {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  top: 3px;\n  padding-right: 10px;\n  margin-right: 10px;\n  border-right: 1px solid #A3A3A3;\n  background: url(/ActiveQueryBuilder/Handler/resources/svg/Clear) no-repeat;\n  cursor: pointer; }\n\n#qb-ui-criteria-builder-label {\n  background-color: #ddd;\n  color: #A3A3A3;\n  padding: 9px 0;\n  padding-left: 10px;\n  margin-bottom: 5px; }\n\n.any > .qb-ui-criteria-builder-block {\n  color: #3ecc49; }\n\n.all > .qb-ui-criteria-builder-block {\n  color: deepskyblue; }\n\n.qb-ui-criteria-builder-hitarea {\n  background: repeat-y top left;\n  padding: 1px; }\n\n.qb-ui-criteria-builder-block input {\n  margin: 0;\n  padding: 0; }\n\n.qb-ui-criteria-builder-hitarea.all, .qb-ui-criteria-builder-hitarea.notall {\n  background-size: 28px; }\n\n.qb-ui-criteria-builder-hitarea.any, .qb-ui-criteria-builder-hitarea.none {\n  background-size: 28px; }\n\n.group > .qb-ui-criteria-builder-hitarea {\n  margin-left: 26px; }\n\n.root > .qb-ui-criteria-builder-hitarea {\n  margin-left: 0; }\n\n.qb-ui-criteria-builder-button {\n  width: 16px;\n  height: 16px;\n  float: left;\n  margin: 2px 10px 0 1px;\n  cursor: pointer; }\n\n.qb-ui-criteria-builder-button.plus {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-Condition-icon); }\n\n.qb-ui-criteria-builder-button.dot {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Condition-icon); }\n\n.qb-ui-criteria-builder-button.corner {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Group-of-Condition-icon); }\n\n.qb-ui-criteria-builder-link-value::after {\n  content: '';\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Edit);\n  width: 14px;\n  height: 14px;\n  display: inline-block;\n  background-size: contain; }\n\n.qb-ui-criteria-builder-link-field-select,\n.qb-ui-criteria-builder-link-operator,\n.qb-ui-criteria-builder-link-operation,\n.qb-ui-criteria-builder-link-value {\n  vertical-align: middle;\n  cursor: pointer; }\n\n.qb-ui-criteria-builder-link-operation {\n  margin: 0 5px; }\n\n.qb-ui-criteria-builder-block {\n  height: 18px;\n  line-height: 22px;\n  clear: both;\n  padding: 1px; }\n\n.qb-ui-criteria-builder-block.group {\n  height: auto; }\n",""])},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){(function(e){this.Parent=e,this.criteriaBuilder=function(){for(var e=this;null!=e.Parent;)e=e.Parent;return e},this.Index=function(){return null==this.Parent?-1:this.Parent.Conditions.concat(this.Parent.Groups).sort(function(e,t){return e._index-t._index}).indexOf(this)},this.NextItem=function(){if(null==this.Parent)return null;var e=this.Parent.Conditions.indexOf(this);return e>=this.Parent.Conditions.length-1?null:this.Parent.Items[e+1]},this.PreviousItem=function(){if(null==this.Parent)return null;var e=this.Parent.Conditions.concat(this.Parent.Groups).sort(function(e,t){return e._index-t._index}),t=e.indexOf(this);return t>0?e[t-1]:null},this.TotalCount=function(){return null==this.Parent?0:this.Parent.Conditions.length},this.getJoinPrefix=function(){if(!this.criteriaBuilder().showPrefixes)return"";if(null==this.PreviousItem())return"";if(null==this.Parent)return"";switch(Number(this.Parent.JunctionType)){case f.Enum.JunctionItemType.All:case f.Enum.JunctionItemType.NotAll:return(0,d.default)("<span> and </span>");case f.Enum.JunctionItemType.Any:case f.Enum.JunctionItemType.None:return(0,d.default)("<span> or </span>")}},this.getButtonContextMenuItemsMove=function(){var e={};return e["move-up"]={name:"Move up",icon:"move-up",disabled:this.Index()<=0},e["move-down"]={name:"Move down",icon:"move-down",disabled:this.Index()>=this.TotalCount()-1},e.separator="---------",e},this.contextMenuCallback=function(e){switch(e){case"move-up":return this.actionMoveUp();case"move-down":return this.actionMoveDown();case"delete":return this.actionDelete();case"clear":return this.actionClear();case"add-condition-for-column":return this.actionAddItem();case"add-general-condition":return this.actionAddGeneral();case"add-group-of-conditions":return this.actionAddGroup()}return!1},this.actionMoveUp=function(){var e=this.Index(),t=this.Parent.Items[e];if(e<=0||null==this.Parent||null==this.element)return!1;var n=e-1,i=this.Parent.Items[n];return null!=i&&null!=i.element&&(this.element.insertBefore(i.element),this.Parent.Items[e]=i,this.Parent.Items[n]=t,!0)},this.actionMoveDown=function(){var e=this.Index(),t=this.Parent.Items[e];if(null==this.Parent||null==this.element||e>=this.Parent.Items.length-1)return!1;var n=e+1,i=this.Parent.Items[n];return null!=i&&null!=i.element&&(i.element.insertBefore(this.element),this.Parent.Items[e]=i,this.Parent.Items[n]=t,!0)},this.actionDelete=function(){var e=this.Index();return this.hasOwnProperty("Type")?this.Parent.Conditions.remove(e):this.Parent.Groups.remove(e),this.element.remove(),!0},this.actionClear=function(){return d.default.each(this.Conditions,function(e,t){t.element.remove()}),d.default.each(this.Groups,function(e,t){t.element.remove()}),this.Conditions=[],this.Groups=[],!0},this.appendElement=function(e){e._index=Number.MAX_VALUE,e._index=e.Index(),0==e._index?this.element.children(".qb-ui-criteria-builder-hitarea").prepend(e.buildElement()):e.PreviousItem().element.after(e.buildElement())}}).call(this,e),this.Column=null,this.Operator=f.Enum.ConditionOperator.IsEqualTo,this.Value1=null,this.Value2=null,this.Value1IsValid=!1,this.Value2IsValid=!1,this.element=null,this.fillDto=function(e){e.Type=this.Type,e.Column=this.Column,e.Operator=this.Operator,e.Value1=this.Value1,e.Value2=this.Value2,e.Index=this._index},this.getDto=function(){var e=new f.Dto.CriteriaBuilderItemDto;return this.fillDto(e),e},this.setDto=function(e){this.Type=e.Type,this.Column=e.Column,this.Operator=e.Operator,this.Condition=e.Condition,this.JunctionType=e.JunctionType,this.Value1=e.Value1,this.Value2=e.Value2},this.setColumn=function(e){this.Column=e,null!=this.Column?0==v[this.Operator].ValueKinds.length||v[this.Operator].ValueKinds.contains(this.Operator)||(this.Operator=f.Enum.ConditionOperator.IsEqualTo):this.Operator=f.Enum.ConditionOperator.IsEqualTo},this.getOperatorObject=function(){return v[this.Operator]},this.getFieldsContextMenuItems=function(){var e={};return d.default.each(this.criteriaBuilder().Columns,function(t,n){e[n.ResultName]={name:n.ResultName,icon:"field",data:n}}),e},this.getOperationContextMenuItems=function(e){var t={};return d.default.each(v,function(n,i){null!=e.Column&&(0!=i.ValueKinds.length?null!=e.Column&&i.ValueKinds.contains(e.Column.ValueKind)&&(t[n]={name:i.Name,icon:"",data:i}):t[n]={name:i.Name,icon:"",data:i})}),t},this.buildElement=function(){this.validateValue()},this.isValid=function(){return!0},this.validateValue=function(){if(null==this.Column)return this.Value1IsValid=!0,void(this.Value2IsValid=!0);if(this.Operator==f.Enum.ConditionOperator.IsInList||this.Operator==f.Enum.ConditionOperator.IsNotInList)return!g(this.Value1);switch(this.Column.ValueKind){case f.Enum.KindOfField.Boolean:case f.Enum.KindOfField.Date:case f.Enum.KindOfField.Text:case f.Enum.KindOfField.Unknown:this.Value1IsValid=!g(this.Value1),this.Value2IsValid=!g(this.Value2);break;case f.Enum.KindOfField.Numeric:this.Value1IsValid=!g(this.Value1)&&d.default.isNumeric(this.Value1),this.Value2IsValid=!g(this.Value2)&&d.default.isNumeric(this.Value2)}},this.updateElement=function(){this.buildElement(),this.criteriaBuilder()._fireChanged()},this.getButtonContextMenuItems=function(){return{}},this.actionAddItem=function(){var e=new s(this.Parent);return this.Parent.Conditions.push(e),this.Parent.appendElement(e),e},this.actionAddGeneral=function(){var e=new a(this.Parent);return this.Parent.Conditions.push(e),this.Parent.appendElement(e),e},this.actionAddGroup=function(){var e=new l(this.Parent);return this.Parent.Groups.push(e),this.Parent.appendElement(e),e},this.fieldContextMenuCallback=function(e,t){return this.setColumn(t),this.updateElement(),!0},this.operationContextMenuCallback=function(e){return this.Operator=e,this.updateElement(),!0},void 0!==e&&(this.Parent=e)}function s(e){r.call(this,e),this.Type=b.Column,this.getButtonContextMenuItems=function(){var e=this.getButtonContextMenuItemsMove();return e.delete={name:"Delete",icon:"cross"},e},this.isValid=function(){if(null==this.Column)return!1;var e=this.getOperatorObject();if(null!=e)switch(e.ValuesCount){case 2:return!!this.Value1IsValid&&!!this.Value2IsValid;case 1:return!!this.Value1IsValid;case 0:return!0}return!0},this.showEditor=function(e,t,n){var i=this;g(t)&&(t=1);var o="";2==t?g(this.Value2)||(o=this.Value2):g(this.Value1)||(o=this.Value1);var r;if(g(n)||n.ValueKind!=f.Enum.KindOfField.Boolean)r=(0,d.default)('<input value="'+o+'">');else{var s="";(g(this.Value1)||!g(this.Value1)&&1==this.Value1||!g(this.Value1)&&"TRUE"==this.Value1.toUpperCase)&&(s="selected");var a=""==s?"selected":"";r=(0,d.default)("<select><option "+s+' value="1">True</option><option '+a+' value="0">False</option></select>').select(function(e){this.blur()}).change(function(e){this.blur()})}r.keypress(function(e){10!=e.keyCode&&13!=e.keyCode&&27!=e.keyCode||(e.preventDefault(),this.blur())}),g(n)||n.ValueKind!=f.Enum.KindOfField.Date?(r.insertAfter(e),r.focus(),setTimeout(function(){r.blur(function(){var e=r.val();2==t?i.Value2=e.split(" ")[0]:i.Value1=e.split(" ")[0],i.validateValue(e,t),i.updateElement()})},500)):(r.datepicker({changeMonth:!0,changeYear:!0,yearRange:"1900:2100",dateFormat:"dd-mm-yy",onSelect:function(e,n){r.val(e),2==t?i.Value2=e.split(" ")[0]:i.Value1=e.split(" ")[0],i.validateValue(e,t)},onClose:function(){o=r.val(),2==t?i.Value2=o:i.Value1=o,i.updateElement()}}),""===r.val()&&r.datepicker("setDate",new Date),r.insertAfter(e).focus())},this.GetValueText=function(e,t){if(!g(t))switch(t.ValueKind){case f.Enum.KindOfField.Boolean:return 1==e?"True":"False"}return e},this.buildElement=function(){var e,t,n=this,i=this.Column,o=v[this.Operator].Name,r=this.getOperatorObject();switch(null==this.element&&(this.element=(0,d.default)('<div class="qb-ui-criteria-builder-block item">')),this.element.empty().data("item",this).append((0,d.default)('<div class="qb-ui-criteria-builder-button dot">')).append(this.getJoinPrefix()),g(i)?this.element.append((0,d.default)('<span class="qb-ui-criteria-builder-link-field-select warning">select column</span>')):this.element.append((0,d.default)('<span class="qb-ui-criteria-builder-link-field-select">'+i.ResultName+"</span>")),this.element.append((0,d.default)('<span class="qb-ui-criteria-builder-link-operation">'+o+"</span>")),this.validateValue(),Number(r.ValuesCount)){case 1:g(this.Value1)?e=(0,d.default)('<span class="qb-ui-criteria-builder-link-value warning">...</span>'):(e=(0,d.default)('<span class="qb-ui-criteria-builder-link-value"></span>')).text(this.GetValueText(this.Value1,this.Column)),e.click(function(e){var t=(0,d.default)(this);return t.hide(),n.showEditor(t,1,i),!1}),this.element.append(e),g(this.Value1)||this.Value1IsValid||(e.addClass("warning"),this.element.append('<span class="invalid-value">Invalid value</span>'));break;case 2:g(this.Value1)?e=(0,d.default)('<span class="qb-ui-criteria-builder-link-value warning">...</span>'):(e=(0,d.default)('<span class="qb-ui-criteria-builder-link-value"></span>')).text(this.GetValueText(this.Value1,this.Column)),this.Value1IsValid||e.addClass("warning"),e.click(function(e){var t=(0,d.default)(this);return t.hide(),n.showEditor(t,1,i),!1}),this.element.append(e),this.element.append((0,d.default)("<span> and </span>")),g(this.Value2)?t=(0,d.default)('<span class="qb-ui-criteria-builder-link-value warning">...</span>'):(t=(0,d.default)('<span class="qb-ui-criteria-builder-link-value"></span>')).text(this.GetValueText(this.Value2,this.Column)),this.Value2IsValid||t.addClass("warning"),t.click(function(e){var t=(0,d.default)(this);return t.hide(),n.showEditor(t,2,i),!1}),this.element.append(t),(g(this.Value1)||this.Value1IsValid)&&(g(this.Value2)||this.Value2IsValid)||(g(this.Value1)||this.Value1IsValid||e.addClass("warning"),g(this.Value2)||this.Value2IsValid||t.addClass("warning"),this.element.append('<span class="invalid-value">Invalid value</span>'))}return g(i)||i.ValueKind!=f.Enum.KindOfField.Date||(g(e)||e.datepicker("hide"),g(t)||t.datepicker("hide")),this.element}}function a(e){r.call(this,e),this.Type=b.General,this.Condition="",this.ConditionIsValid=!1,this.getButtonContextMenuItems=function(){var e=this.getButtonContextMenuItemsMove();return e.delete={name:"Delete",icon:"cross"},e},this._baseGetDto=this.getDto,this.getDto=function(){var e=this._baseGetDto();return e.Condition=this.Condition,e},this.isValid=function(){return this.ConditionIsValid},this.validateValue=function(e,t){this.ConditionIsValid=!g(this.Condition)},this.showEditor=function(e){var t=this,n="";g(this.Condition)||(n=this.Condition);var i=(0,d.default)('<input value="'+n+'">').keypress(function(e){10!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),this.blur())}).blur(function(){t.Condition=i.val(),t.Value1=t.Condition,t.updateElement()}).insertAfter(e).focus()},this.buildElement=function(){var e=this;null==this.element&&(this.element=(0,d.default)('<div class="qb-ui-criteria-builder-block item">')),this.element.data("item",this),this.element.empty(),this.element.append((0,d.default)('<div class="qb-ui-criteria-builder-button dot"></div>'));var t;return this.element.append(this.getJoinPrefix()),t=g(this.Condition)?(0,d.default)('<span class="qb-ui-criteria-builder-link-value warning">[enter condition]</span>'):(0,d.default)('<span class="qb-ui-criteria-builder-link-value">'+this.Condition+"</span>"),this.validateValue(),this.ConditionIsValid||t.addClass("warning"),t.click(function(t){var n=(0,d.default)(this);return n.hide(),e.showEditor(n),!1}),this.element.append(t),this.element}}function l(e){if(r.call(this,e),this.Parent=e,this.JunctionType=f.Enum.JunctionItemType.All,this.Conditions=[],this.Groups=[],this.setDto=function(e){var t=this;this.JunctionType=e.JunctionType,e.Conditions&&d.default.each(e.Conditions,function(e,n){t.Conditions.push(t.createConditionFromDto(n))}),e.Groups&&d.default.each(e.Groups,function(e,n){t.Groups.push(t.createGroupFromDto(n))})},this.createConditionFromDto=function(e){var t=null;if(null==e)return t;switch(e.Type){case b.Column:(t=new s(this)).setDto(e);break;case b.General:(t=new a(this)).setDto(e)}return t},this.createGroupFromDto=function(e){if(null==e)return t;var t=new l(this);return t.setDto(e),t},this.getDto=function(){var e=new f.Dto.CriteriaBuilderGroupDto;return e.JunctionType=this.JunctionType,this.fillDtoItems(e),e},this.fillDtoItems=function(e){e.Conditions=[],d.default.each(this.Conditions||[],function(t,n){e.Conditions.push(n.getDto())}),e.Groups=[],d.default.each(this.Groups||[],function(t,n){e.Groups.push(n.getDto())})},this.isValid=function(){if(this.Conditions.length+this.Groups.length==0&&null!=this.Parent)return!1;for(e=0;e<this.Conditions.length;e++)if(!this.Conditions[e].isValid())return!1;for(var e=0;e<this.Groups.length;e++)if(!this.Groups[e].isValid())return!1;return!0},this.getButtonContextMenuItems=function(){var e=this.getButtonContextMenuItemsMove();return e.clear={name:"Clear",icon:"page",disabled:this.Conditions.length+this.Groups.length<=0},e.delete={name:"Delete",icon:"cross"},e},this.getJunctionItemType=function(){return y[this.JunctionType]},this.buildElement=function(){null==this.element&&(this.element=(0,d.default)('<div class="qb-ui-criteria-builder-block group">')),this.element.data("item",this),this.element.empty(),this.element.append((0,d.default)('<div class="qb-ui-criteria-builder-button corner"></div>'));var e=this.getJunctionItemType(),t=(0,d.default)('<div class="qb-ui-criteria-builder-label">');t.append(this.getJoinPrefix());var n=(0,d.default)('<span class="qb-ui-criteria-builder-link-junctionType">'+e.Name+"</span>");t.append(n),t.append((0,d.default)("<span> "+this.criteriaBuilder().junctionPostfix+"</span>")),this.element.append(t);var i=(0,d.default)('<div class="qb-ui-criteria-builder-hitarea '+e.CssClass+'">');d.default.each(this.Conditions,function(e,t){i.append(t.buildElement())}),d.default.each(this.Groups,function(e,t){i.append(t.buildElement())});var o=new u(this);return i.append(o.buildElement()),this.element.append(i),this.element},this.junctionTypeContextMenuCallback=function(e){return this.JunctionType=e,this.updateElement(),!0},null!=e)switch(Number(e.JunctionType)){case f.Enum.JunctionItemType.All:case f.Enum.JunctionItemType.NotAll:this.JunctionType=f.Enum.JunctionItemType.Any;break;default:this.JunctionType=f.Enum.JunctionItemType.All}}function u(e){r.call(this,e),this.Type=b.Plus,this.getButtonContextMenuItems=function(){var e=f.Dto.Localizer.Strings,t={"add-condition-for-column":{name:e.AddConditionForColumn,icon:"add-condition-for-column"},"add-general-condition":{name:e.AddGeneralCondition,icon:"add-general-condition"},separator:"---------","add-group-of-conditions":{name:e.AddGroupOfConditions,icon:"add-group-of-conditions"}},n=this.criteriaBuilder();return void 0!==n.Columns&&0!==n.Columns.length||delete t["add-condition-for-column"],n.AllowCustomLogicalSQLExpressions||delete t["add-general-condition"],t},this.buildElement=function(){return null==this.element&&(this.element=(0,d.default)('<div class="qb-ui-criteria-builder-block add">')),this.element.data("item",this),this.element.empty(),this.element.append((0,d.default)('<div class="qb-ui-criteria-builder-button plus">')),this.element.append((0,d.default)('<span class="qb-ui-criteria-builder-link-field-select">...</span>')),this.element},this.fieldContextMenuCallback=function(e,t){var n=this.actionAddItem();return n.setColumn(t),n.updateElement(),!0}}Object.defineProperty(t,"__esModule",{value:!0});var c,d=i(n(0)),h=i(n(33)),p=i(n(6)),f=n(3),m=n(4);d.default.fn.hasAttr||(d.default.fn.hasAttr=function(e){return void 0!==this.attr(e)});var g=function(e){return null==e||""===e};Array.prototype.contains=function(e){for(var t in this)if(this[t]===e)return!0;return!1};var b={Unknown:0,Column:1,General:2,Group:3,Plus:4},v={};v[f.Enum.ConditionOperator.StartsWith]={Name:"starts with",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Text]},v[f.Enum.ConditionOperator.Contains]={Name:"contains",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Text]},v[f.Enum.ConditionOperator.EndsWith]={Name:"ends with",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Text]},v[f.Enum.ConditionOperator.IsEqualTo]={Name:"is equal to",ValuesCount:1,ValueKinds:[]},v[f.Enum.ConditionOperator.DoesNotStartWith]={Name:"does not start with",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Text]},v[f.Enum.ConditionOperator.DoesNotContain]={Name:"does not contain",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Text]},v[f.Enum.ConditionOperator.DoesNotEndWith]={Name:"does not end with",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Text]},v[f.Enum.ConditionOperator.IsInList]={Name:"is in list",ValuesCount:1,ValueKinds:[]},v[f.Enum.ConditionOperator.IsNotEqualTo]={Name:"is not equal to",ValuesCount:1,ValueKinds:[]},v[f.Enum.ConditionOperator.IsNotInList]={Name:"is not in list",ValuesCount:1,ValueKinds:[]},v[f.Enum.ConditionOperator.IsNull]={Name:"is null",ValuesCount:0,ValueKinds:[]},v[f.Enum.ConditionOperator.IsNotNull]={Name:"is not null",ValuesCount:0,ValueKinds:[]},v[f.Enum.ConditionOperator.IsLessThan]={Name:"is less than",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Numeric,f.Enum.KindOfField.Date]},v[f.Enum.ConditionOperator.IsLessThanOrEqualTo]={Name:"is less than or equal to",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Numeric,f.Enum.KindOfField.Date]},v[f.Enum.ConditionOperator.IsGreaterThan]={Name:"is greater than",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Numeric,f.Enum.KindOfField.Date]},v[f.Enum.ConditionOperator.IsGreaterThanOrEqualTo]={Name:"is greater than or equal to",ValuesCount:1,ValueKinds:[f.Enum.KindOfField.Numeric,f.Enum.KindOfField.Date]},v[f.Enum.ConditionOperator.IsBetween]={Name:"is between",ValuesCount:2,ValueKinds:[f.Enum.KindOfField.Numeric,f.Enum.KindOfField.Date]},v[f.Enum.ConditionOperator.IsNotBetween]={Name:"is not between",ValuesCount:2,ValueKinds:[f.Enum.KindOfField.Numeric,f.Enum.KindOfField.Date]};var y=(c={},o(c,f.Enum.JunctionItemType.All,{Name:"All",CssClass:"all"}),o(c,f.Enum.JunctionItemType.NotAll,{Name:"Not All",CssClass:"notall"}),o(c,f.Enum.JunctionItemType.Any,{Name:"Any",CssClass:"any"}),o(c,f.Enum.JunctionItemType.None,{Name:"None",CssClass:"none"}),c),_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l.call(n),e=(0,d.default)(e),h.default.setHandlerPath(e.attr("HandlersPath")),n.SessionID=e.attr("SessionID"),n._notAutoLoad=e.hasAttr("notAutoLoad"),n._autoSubscribe=e.hasAttr("autoSubscribe"),n.Parent=null,n.rootJunctionPrefix="Where",n.junctionPostfix="of the following succeed",n.showPrefixes=!0,n.importData=function(e){this.Columns=e.Columns,this.Conditions=[],this.Groups=[],this.setDto(e),this.buildControlItems()},n.clear=function(){d.default.each(this.Conditions,function(e,t){t.element.remove()}),d.default.each(this.Groups,function(e,t){t.element.remove()}),this.Conditions=[],this.Groups=[],this._fireChanged()},n.createButtonMenu=function(){var e=this;p.default.left({selector:".qb-ui-criteria-builder-button",app:this,build:function(t,n){var i=t.parents(".qb-ui-criteria-builder-block:first").data("item");if(null==i)return!1;var o=i.getButtonContextMenuItems();return 0!=Object.keys(o||{}).length&&{callback:function(t){i.contextMenuCallback(t,o[t].data)&&e._fireChanged()},items:o}}})},n.createOperationMenu=function(){p.default.left({selector:".qb-ui-criteria-builder-link-operation",app:this,build:function(e,t){var n=e.parents(".qb-ui-criteria-builder-block:first").data("item");if(null==n)return!1;var i=n.getOperationContextMenuItems(n);return null!=i&&0!=Object.keys(i).length&&{callback:function(e){n.operationContextMenuCallback(e)},items:i}}})},n.createJunctionTypeMenu=function(){var e=this;p.default.left({selector:".qb-ui-criteria-builder-link-junctionType",app:this,build:function(t,n){var i=t.parents(".qb-ui-criteria-builder-block:first").data("item");if(null==i)return!1;var o=e.getJunctionTypeContextMenuItems();return null!=o&&0!=Object.keys(o).length&&{callback:i.junctionTypeContextMenuCallback.bind(i),items:o}}})},n.getJunctionTypeContextMenuItems=function(){var e={};return d.default.each(y,function(t,n){e[t]={name:n.Name,icon:"",data:n}}),e},n.createFieldSelect=function(){p.default.left({selector:".qb-ui-criteria-builder-link-field-select",app:this,build:function(e,t){var n=e.parents(".qb-ui-criteria-builder-block:first").data("item");if(null==n)return!1;var i=n.getFieldsContextMenuItems();return null!=i&&0!=Object.keys(i).length&&{callback:function(e){n.fieldContextMenuCallback(e,i[e].data)},items:i}}})},n.buildControlItems=function(){this.root.empty(),this.root.append(this.buildElement())},n.buildElement=function(){var e=this.criteriaBuilder();if(null==this.element&&(this.element=(0,d.default)('<div class="qb-ui-criteria-builder-block group root">')),this.element.data("item",this),this.element.empty(),(void 0===e.Columns||0===e.Columns.length)&&!e.AllowCustomLogicalSQLExpressions)return this.element.html("Filtering is not possible because there are no output columns in the query or they can not be determined.");var t=this.getJunctionItemType(),n=(0,d.default)('<div id="qb-ui-criteria-builder-label">').append("<span>"+this.criteriaBuilder().rootJunctionPrefix+" </span>"),i=(0,d.default)('<span class="qb-ui-criteria-builder-link-junctionType">'+t.Name+"</span>");n.append(i),n.append((0,d.default)("<span> "+this.criteriaBuilder().junctionPostfix+"</span>"));var o=(0,d.default)('<span class="qb-ui-criteria-builder-link-clear-items">');o.click(function(t){t.preventDefault(),e.clear()}),n.prepend(o),this.element.append(n);var r=(0,d.default)('<div class="qb-ui-criteria-builder-hitarea '+t.CssClass+'">');d.default.each(this.Conditions,function(e,t){r.append(t.buildElement())}),d.default.each(this.Groups,function(e,t){r.append(t.buildElement())});var s=new u(this);return r.append(s.buildElement()),this.element.append(r),this.element},n.getDto=function(){var e=new f.Dto.CriteriaBuilderDto;return e.JunctionType=this.JunctionType,e.Conditions=[],d.default.each(this.Conditions,function(t,n){e.Conditions.push(n.getDto())}),e.Groups=[],d.default.each(this.Groups,function(t,n){e.Groups.push(n.getDto())}),e},n.loadColumns=function(){h.default.loadColumns({SessionID:this.SessionID},function(e){this.importData(e),this._fireSyncFinished()}.bind(this))},n.transformSql=function(e){var t=this.getDto();return t.SessionID=this.SessionID,!!this.isValid()&&(h.default.transformSql(t,function(t){this.SQL=t,"function"==typeof e&&e(t)}.bind(this)),!0)},n.addCondition=function(e,t,n,i){var o=new s(this);o.setColumn(e),o.Value1=n,o.Value2=i,o.Operator=this._findOperatorIndexByName(t),this.Conditions.push(o),this.appendElement(o),this._fireChanged()},n.addGeneralCondition=function(e){if(!this.AllowCustomLogicalSQLExpressions)throw"AllowCustomLogicalSQLExpressions is false";var t=new a(this);t.Condition=e,t.Value1=e,this.Conditions.push(t),this.appendElement(t),this._fireChanged()},n.addGroup=function(e){var t=new l(this);t.JunctionType=this._findJunctionIndexByName(e),this.Groups.push(t),this.appendElement(t)},n._findOperatorIndexByName=function(e){return this._findIndexInEnumByName(v,e,"Operator not found")},n._findJunctionIndexByName=function(e){return this._findIndexInEnumByName(y,e,"Junction not found")},n._findIndexInEnumByName=function(e,t,n){for(var i in e)if(e.hasOwnProperty(i)&&e[i].Name.toLowerCase()===t.toLowerCase())return i;throw n},n._fireChanged=function(){this.emit(t.Events.CriteriaBuilderChanged,this)},n._fireSyncFinished=function(){this.emit(t.Events.AfterSyncCriteriaBuilder,this)},n.root=e,g(n.root.attr("JunctionPostfix"))||(n.junctionPostfix=n.root.attr("JunctionPostfix")),g(n.root.attr("RootJunctionPrefix"))||(n.rootJunctionPrefix=n.root.attr("RootJunctionPrefix")),g(n.root.attr("ShowPrefixes"))||(n.showPrefixes="true"==n.root.attr("ShowPrefixes")),g(n.root.attr("AllowCustomLogicalSQLExpressions"))||(n.AllowCustomLogicalSQLExpressions="true"==n.root.attr("AllowCustomLogicalSQLExpressions")),n.buildControlItems(),n.createButtonMenu(),n.createFieldSelect(),n.createOperationMenu(),n.createJunctionTypeMenu(),n._autoSubscribe&&n._subscribeToQueryBuilder(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m),t}();_.prototype._subscribeToQueryBuilder=function(){AQB.Web.onQueryBuilderReady&&AQB.Web.onQueryBuilderReady(function(e){e.SessionID==this.SessionID&&e.on(e.Events.SqlChanged,this.loadColumns.bind(this))}.bind(this))},_.prototype.getData=function(e){h.default.getData({SessionID:this.SessionID},e)},_.prototype.dispose=function(e){null==e||!0===e?h.default.dispose({SessionID:this.SessionID},this._dispose.bind(this)):this._dispose()},_.prototype._dispose=function(){AQB.Web.CriteriaBuilderContainer.remove(this.SessionID),this.element.empty()},_.Events={CriteriaBuilderItemAdded:"CriteriaBuilderItemAdded",CriteriaBuilderChanged:"CriteriaBuilderChanged",AfterSyncCriteriaBuilder:"AfterSyncCriteriaBuilder"},_.prototype.Events=_.Events,t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(){function e(e,n,o,r){"string"!=typeof n&&(n=JSON.stringify(n)),function(e){i.default.ajax({url:e.url,type:e.type,data:e.data,success:e.callback,error:e.errorcallback})}({type:"POST",url:t+"/cbactions/"+e,data:n,callback:o,errorcallback:function(e,t,n){"function"==typeof r&&r(e,t,n),console.error(e,n)}.bind(this)})}var t=void 0;return{loadColumns:function(t,n){e("getColumns",t,n)},transformSql:function(t,n){e("transformSql",t,n)},getData:function(t,n){e("getData",t,n)},dispose:function(t,n){e("dispose",t,n)},setHandlerPath:function(e){t=e}}}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.startApplication=t.Web=void 0;var i=n(35);window.navigator.cookieEnabled||console.warn("%c Please enable cookies in your browser.","color: red");var o=window.AQB?window.AQB.Web:{};null==o.QueryBuilderContainer&&(Object.defineProperties(o,{Core:{enumerable:!0,get:function(){return i.Core}},QueryBuilderContainer:{enumerable:!0,get:function(){return i.QueryBuilderContainer}},QueryBuilder:{enumerable:!0,get:function(){return i.QueryBuilderContainer.first()}},Dto:{enumerable:!0,get:function(){return i.Dto}},Enum:{enumerable:!0,get:function(){return i.Enum}},onQueryBuilderReady:{enumerable:!0,get:function(){return i.onQueryBuilderReady}},onApplicationReady:{get:function(){return i.onQueryBuilderReady}}}),document.addEventListener("DOMContentLoaded",i.startApplication)),t.Web=o,t.startApplication=i.startApplication},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=new u.default((0,r.default)(t),function(){n.hide(),p.add(n),n.fullUpdate(function(){n.show(),f.onApplicationReadyTrigger(n)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.startApplication=t.onQueryBuilderReady=t.QueryBuilderContainer=t.Enum=t.Dto=t.Core=void 0,n(36),n(38),n(40);var r=i(n(0));n(42),n(21),n(59);var s=i(n(17)),a=n(13),l=n(3),u=i(n(60)),c=i(n(18)),d=i(n(5)),h=n(1),p=new s.default,f=(0,c.default)(),m=f.onApplicationReady.bind(f);t.Core=a.Core,t.Dto=l.Dto,t.Enum=l.Enum,t.QueryBuilderContainer=p,t.onQueryBuilderReady=m,t.startApplication=function(e){if("string"!=typeof e)r.default.each((0,r.default)(d.default.queryBuilderSelector),o);else{var t=(0,h.getControl)(d.default.queryBuilderSelector,e);t&&o(0,t)}}},function(e,t,n){var i=n(37);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0};o.transform=void 0;n(12)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700|Roboto:300,400,700);",""]),t.push([e.i,'/*@font-face {\r\n  font-family: \'RobotoLight\';\r\n  font-style: normal;\r\n  font-weight: 100;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/b9QBgL0iMZfDSpmcXcE8nPVFL0ofnRu5Y2lP-UpEUGU.woff2) format(\'woff2\');\r\n}\r\n\r\n@font-face {\r\n  font-family: \'RobotoRegular\';\r\n  font-style: normal;\r\n  font-weight: 300;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/Zd2E9abXLFGSr9G3YK2MsDAdhzWOYhqHvOZMRGaEyPo.woff2) format(\'woff2\');\r\n}\r\n\r\n@font-face {\r\n  font-family: \'RobotoBold\';\r\n  font-style: normal;\r\n  font-weight: 900;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/b9QBgL0iMZfDSpmcXcE8nHm2hrkyco9jQ3NKMXpgOBg.woff2) format(\'woff2\');\r\n}*/\n.ui-resizable-se {\n  width: 10px;\n  height: 10px;\n  background-position: -84px -226px; }\n\n.qb-ui-link-property-dialog table {\n  width: 100%; }\n\n.header {\n  display: block;\n  padding: 1px; }\n\n.clear {\n  clear: both; }\n\n.foot {\n  display: block;\n  height: 20px;\n  padding: 1px;\n  position: relative; }\n\n.format-table {\n  border-width: 0;\n  border-spacing: 0;\n  border-collapse: separate; }\n\n.format-table td {\n  border-width: 0;\n  padding: 0; }\n\n.format-table td input[type="text"] {\n  border: 1px solid lightgrey; }\n\n.format-table-light {\n  border-width: 0;\n  border-collapse: separate; }\n\n.format-table-light td {\n  border-width: 0;\n  padding: 0; }\n\n.editable-select-options {\n  font-family: "Roboto Condensed", sans-serif; }\n  .editable-select-options ul li {\n    position: relative; }\n    .editable-select-options ul li::before {\n      content: \'\';\n      position: absolute;\n      width: 16px;\n      height: 16px;\n      top: 3px; }\n    .editable-select-options ul li.table {\n      position: relative;\n      padding: 2px 0 2px 28px; }\n      .editable-select-options ul li.table::before {\n        left: 2px; }\n    .editable-select-options ul li.field {\n      padding: 2px 0 2px 38px; }\n      .editable-select-options ul li.field::before {\n        left: 20px;\n        top: 1px; }\n    .editable-select-options ul li.sortingOrder {\n      padding: 0; }\n    .editable-select-options ul li:hover {\n      background-color: #f5f5f5; }\n\n.cursorWait {\n  cursor: wait !important; }\n\n.hidden, .qb-hidden {\n  display: none !important; }\n\n.disable-selection {\n  user-select: none; }\n\n.ui-datepicker {\n  z-index: 200; }\n\n.spinning .icon {\n  animation: spin 1s infinite linear; }\n\n@keyframes spin {\n  from {\n    transform: scale(1) rotate(0deg); }\n  to {\n    transform: scale(1) rotate(360deg); } }\n\n@-webkit-keyframes spin2 {\n  from {\n    -webkit-transform: rotate(0deg); }\n  to {\n    -webkit-transform: rotate(360deg); } }\n\n.qb-ui-criteria-builder,\n.context-menu-list {\n  text-size-adjust: 100%;\n  -webkit-tap-highlight-color: transparent;\n  font-size: 14px;\n  line-height: 1.42857143;\n  color: #333333;\n  background-color: transparent; }\n\ninput#editable-select0 {\n  border: none !important; }\n\n.editable-select.ui-qb-grid-row-cell-edit-control {\n  height: 39px !important; }\n\n[id^="qb-ui-query-props-"] select {\n  padding: 4px; }\n\n/*Datasource*/\n.ui-icon-close-small {\n  background-image: none !important; }\n\n.ui-icon-properties-small {\n  background-image: none !important; }\n\n.ui-icon-subquery-small {\n  background-image: none !important; }\n\n.ui-icon-link-small {\n  background-image: none !important; }\n\n.ui-qb-grid-row-cell-edit-block input[type="checkbox"]:before {\n  content: \'\';\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  background-color: #fff; }\n\n/*SVG*/\n.svg--plus {\n  vertical-align: middle; }\n  .svg--plus path:nth-child(1) {\n    fill: transparent; }\n  .svg--plus path:nth-child(2) {\n    fill: currentColor; }\n\n.svg--work-tool path:nth-child(2),\n.svg--pencil path:nth-child(2),\n.svg--delete path:nth-child(2),\n.svg--link path:nth-child(2),\n.svg--toolbar polygon {\n  fill: currentColor; }\n\n.svg--tab-derived {\n  position: absolute;\n  left: 0; }\n  .svg--tab-derived path {\n    fill: currentColor; }\n\n.ui-widget-header > .svg--tab-derived path {\n  fill: white; }\n\n.svg--tab-cte {\n  position: absolute;\n  left: 0; }\n  .svg--tab-cte rect {\n    fill: white; }\n\n.junction-select {\n  position: absolute;\n  top: 0;\n  left: 0; }\n\n@-webkit-keyframes dash {\n  0% {\n    stroke-dashoffset: 1000; }\n  100% {\n    stroke-dashoffset: 0; } }\n\n@keyframes dash {\n  0% {\n    stroke-dashoffset: 1000; }\n  100% {\n    stroke-dashoffset: 0; } }\n\n@-webkit-keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100; }\n  100% {\n    stroke-dashoffset: 900; } }\n\n@keyframes dash-check {\n  0% {\n    stroke-dashoffset: -100; }\n  100% {\n    stroke-dashoffset: 900; } }\n\n.qb-ui-canvas input,\n.ui-qb-grid input,\n.context-menu-list input {\n  position: relative; }\n  .qb-ui-canvas input[type="checkbox"]:before,\n  .ui-qb-grid input[type="checkbox"]:before,\n  .context-menu-list input[type="checkbox"]:before {\n    content: \'\';\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/checkbox-empty);\n    background-color: #fff; }\n  .qb-ui-canvas input[type="checkbox"]:checked:before,\n  .ui-qb-grid input[type="checkbox"]:checked:before,\n  .context-menu-list input[type="checkbox"]:checked:before {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/checkbox-checked); }\n\n::-webkit-scrollbar {\n  width: 12px;\n  height: 12px; }\n\n::-webkit-scrollbar-track {\n  background-color: #f7f7f7; }\n\n::-webkit-scrollbar-thumb {\n  border: 1px solid #bdbdbd;\n  background-color: #eaeaea; }\n\n::-webkit-scrollbar-button {\n  background-color: #f7f7f7;\n  display: none; }\n\n::-webkit-scrollbar-corner {\n  border: 1px solid #bdbdbd;\n  background-color: #eaeaea; }\n\n.clearfix::after {\n  content: "";\n  display: table;\n  clear: both; }\n\n.ui-visual-focus {\n  box-shadow: 0 0 3px 3px #5e9ed6 inset; }\n\n.context-menu-list {\n  margin: 0;\n  padding: 0;\n  min-width: 120px;\n  max-width: 400px;\n  display: inline-block;\n  position: absolute;\n  list-style-type: none;\n  border: 1px solid #DDD;\n  background: #EEE;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);\n  max-height: 400px; }\n\n.context-menu-root {\n  padding: 8px 0; }\n\n.context-menu-item {\n  white-space: nowrap;\n  padding: 2px 22px 2px 36px;\n  background-color: #EEE;\n  position: relative;\n  user-select: none; }\n  .context-menu-item span {\n    font-size: 1.1em;\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-family: "Roboto Condensed", sans-serif; }\n\n.context-menu-separator {\n  margin-bottom: 3px;\n  padding-bottom: 0;\n  border-bottom: 1px solid black;\n  height: 1px; }\n\n.context-menu-item > label > input,\n.context-menu-item > label > textarea {\n  user-select: text; }\n\n.context-menu-item.hover {\n  cursor: pointer;\n  background-color: #ddd; }\n\n.context-menu-item.highlight {\n  background-color: #45e9ff; }\n\n.context-menu-item.disabled {\n  color: #666; }\n\n.context-menu-input.hover, .context-menu-item.disabled.hover {\n  cursor: default;\n  background-color: #EEE; }\n\n.context-menu-submenu:after {\n  content: "\\25B6";\n  color: #666;\n  position: absolute;\n  top: 2px;\n  right: 5px; }\n\n.context-menu-item > .context-menu-list {\n  display: none;\n  right: -5px;\n  top: 5px; }\n\n.context-menu-item.hover > .context-menu-list {\n  display: block; }\n\n.context-menu-accesskey {\n  text-decoration: underline; }\n\n.context-menu-item.icon {\n  min-height: 18px; }\n  .context-menu-item.icon::before {\n    content: \'\';\n    position: absolute;\n    left: 10px;\n    width: 16px;\n    height: 16px;\n    top: 5px;\n    background-repeat: no-repeat; }\n  .context-menu-item.icon--active::before {\n    border: 1px solid #a7a7a7; }\n\n.context-menu-item.icon-page::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Clear); }\n\n.context-menu-item.icon-cross::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Delete); }\n\n.context-menu-item.icon-field::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/FieldNode); }\n\n.context-menu-item.icon-deleteCTE::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/DeleteCTE); }\n\n.context-menu-item.icon-row-insert::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/AddRow); }\n\n.context-menu-item.icon-row-delete::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/DeleteRow); }\n\n.context-menu-item.icon-move-up::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/MoveUp); }\n\n.context-menu-item.icon-move-down::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/MoveDown); }\n\n.context-menu-item.icon-goto-subquery::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Sub-query); }\n\n.context-menu-item.icon-check::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/CheckAll); }\n\n.context-menu-item.icon-uncheck::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/UncheckAll); }\n\n.context-menu-item.icon-delete::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Delete); }\n\n.context-menu-item.icon-hide::before, .context-menu-item.icon-show::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/ShowUncheckedField); }\n\n.context-menu-item.icon-sort::before, .context-menu-item.icon-revertSort::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/SortAlphabetically); }\n\n.context-menu-item.icon-filter::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Filter); }\n\n.context-menu-item.icon-filtered::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Filter);\n  border: 1px solid gray;\n  border-radius: 2px;\n  background-color: lightgray; }\n\n.context-menu-item.icon-add-derived-table::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/NewDerivedTable); }\n\n.context-menu-item.icon-add-cte-new::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/AddCTE); }\n\n.context-menu-item.icon-union::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-Union); }\n\n.context-menu-item.icon-RemoveUnionSubQuery::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Delete); }\n\n.context-menu-item.icon-all-from::before, .context-menu-item.icon-all-to::before {\n  height: 16px;\n  top: 5px;\n  background-color: white;\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/checkbox-empty); }\n\n.context-menu-item.icon-all-from.checked::before, .context-menu-item.icon-all-to.checked::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/checkbox-checked); }\n\n.context-menu-item.icon-addUserField::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-Calculated-Field); }\n\n.context-menu-item.icon-editUserField::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/EditUserField); }\n\n.context-menu-item.icon-removeUserField::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/DeleteUserField); }\n\n.context-menu-item.icon-add-group-of-conditions::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-group-of-condition); }\n\n.context-menu-item.icon-add-general-condition::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-general-condition); }\n\n.context-menu-item.icon-add-condition-for-column::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Add-condition); }\n\n.context-menu-layout {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 12100; }\n\n.context-menu {\n  position: absolute;\n  z-index: 12100; }\n\n.qb-ui-canvas {\n  width: 100%;\n  min-height: 240px;\n  position: relative;\n  overflow: hidden !important; }\n  .qb-ui-canvas > .ui-resizable-s {\n    background: url(/ActiveQueryBuilder/Handler/resources/svg/splitter_h);\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 56px;\n    bottom: 1px; }\n\n.qb-ui-canvas-objects {\n  position: relative;\n  height: 98%;\n  min-height: 98%;\n  overflow: auto; }\n\n.canvas-hidden {\n  display: none; }\n\n.collapsible-state-collapsed {\n  padding: 0 !important;\n  height: 0; }\n\n#qb-ui-canvas-graph {\n  overflow: hidden; }\n\n.ui-qb-grid {\n  height: 270px;\n  outline: none;\n  overflow: auto; }\n  .ui-qb-grid > table {\n    width: 100%;\n    overflow: visible;\n    table-layout: fixed;\n    border: 0;\n    border-collapse: collapse;\n    box-sizing: border-box; }\n    .ui-qb-grid > table > tbody {\n      height: 100%; }\n  .ui-qb-grid .ui-qb-grid-row-header {\n    height: 40px;\n    text-align: left;\n    font-size: 16px; }\n    .ui-qb-grid .ui-qb-grid-row-header th {\n      position: relative;\n      border-bottom: 0; }\n      .ui-qb-grid .ui-qb-grid-row-header th span {\n        padding: 10px; }\n      .ui-qb-grid .ui-qb-grid-row-header th .ui-resizable-handle {\n        position: absolute;\n        width: 3px;\n        height: 100%;\n        top: 0;\n        right: 0; }\n        .ui-qb-grid .ui-qb-grid-row-header th .ui-resizable-handle:hover {\n          cursor: e-resize; }\n  .ui-qb-grid * {\n    font-family: "Roboto Condensed", sans-serif; }\n  .ui-qb-grid td, .ui-qb-grid th {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap; }\n  .ui-qb-grid th span {\n    padding-left: 4px;\n    padding-right: 4px;\n    overflow: hidden; }\n  .ui-qb-grid colgroup, .ui-qb-grid col {\n    border: 0;\n    margin: 0;\n    padding: 0; }\n  .ui-qb-grid .editable-select {\n    position: relative;\n    height: 16px;\n    padding-right: 0;\n    border: 1px solid transparent;\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Expanded);\n    background-repeat: no-repeat;\n    background-position: right center;\n    background-origin: content-box;\n    background-size: 20px;\n    background-color: #FFF;\n    box-sizing: border-box;\n    cursor: default; }\n\n.editable-select-options {\n  position: absolute;\n  display: none;\n  overflow: auto;\n  margin: 0;\n  padding: 0;\n  background: #FFF;\n  border: 1px solid #CCC;\n  z-index: 100; }\n\n.editable-select-options-overlay {\n  background: transparent;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 100%; }\n\n.editable-select-iframe {\n  position: absolute;\n  background: #FFF;\n  display: none; }\n\n.editable-select-options ul {\n  margin: 0;\n  padding: 0;\n  list-style: none none; }\n\n.editable-select-options li {\n  cursor: default;\n  padding: 2px;\n  background-repeat: no-repeat; }\n  .editable-select-options li.table {\n    margin: 0;\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Table);\n    background-position: 5px 2.5px; }\n  .editable-select-options li.field {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/FieldNode);\n    background-position: 2px 2.5px; }\n\n.editable-select-options li.match {\n  background-color: #fff059; }\n\n.editable-select-options li.selected {\n  background-color: #a1a1a1; }\n\n.ui-qb-grid-row-header {\n  border: 0; }\n\n.ui-qb-grid-row-header th {\n  font-weight: bold; }\n  .ui-qb-grid-row-header th span {\n    font-family: "Roboto", sans-serif; }\n\n.ui-qb-grid-row--active, .ui-qb-grid-row:hover {\n  background-color: #f0f0f0; }\n\n.ui-qb-grid-row--mark, .ui-qb-grid-row--mark:hover {\n  background-color: #baffff; }\n\n.ui-qb-grid-row td {\n  font-weight: normal;\n  height: 25px;\n  text-align: left;\n  white-space: nowrap;\n  vertical-align: middle;\n  background-color: transparent; }\n\n.ui-qb-grid-row--empty td:focus {\n  outline: 0; }\n\n.ui-qb-grid-row td,\n.ui-qb-grid-row-header th,\n.ui-qb-grid-row-header th.ui-state-default,\n.ui-qb-grid .ui-qb-grid-row-header th,\n.ui-qb-grid .ui-qb-grid-row td {\n  border-bottom: 1px solid #ccc;\n  border-right: 1px solid #ccc;\n  border-top: 0;\n  border-left: 0; }\n\n.ui-qb-grid-row.tDnD_whileDrag td {\n  background: #eee !important; }\n\ndiv.ui-qb-grid-row-cell-view-block *,\ndiv.ui-qb-grid-row-cell-edit-block * {\n  box-sizing: border-box !important; }\n\n.ui-qb-grid-row-cell-view-block {\n  margin: 0 0;\n  padding-left: 2px;\n  padding-right: 2px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre; }\n\n.ui-qb-grid-row-cell-edit-block {\n  position: relative;\n  margin: 0;\n  min-height: 17px;\n  vertical-align: middle;\n  overflow: hidden; }\n  .ui-qb-grid-row-cell-edit-block span.inputSpan {\n    display: block;\n    height: 100%;\n    padding: 0; }\n    .ui-qb-grid-row-cell-edit-block span.inputSpan::after {\n      content: \'\';\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: 13px;\n      height: 100%;\n      z-index: 180;\n      pointer-events: none; }\n  .ui-qb-grid-row-cell-edit-block input[type="text"] {\n    height: 100%;\n    padding-left: 10px;\n    font-family: "Roboto Condensed", sans-serif; }\n  .ui-qb-grid-row-cell-edit-block .customExpressionEdit {\n    display: none;\n    float: right;\n    width: 26px;\n    height: 100%;\n    margin: 0;\n    border: 0;\n    border-radius: 0;\n    z-index: 180; }\n  .ui-qb-grid-row-cell-edit-block.showCustomEdit button.customExpressionEdit {\n    display: block; }\n  .ui-qb-grid-row-cell-edit-block select {\n    width: 100%;\n    height: 100%;\n    padding: 0;\n    margin: 0; }\n  .ui-qb-grid-row-cell-edit-block input {\n    width: 100%;\n    min-height: 13px;\n    margin: 0;\n    padding: 0; }\n  .ui-qb-grid-row-cell-edit-block div {\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    border: 0;\n    height: 20px; }\n\n.ui-qb-grid-row-expression .ui-qb-grid-row-cell-edit-block {\n  padding: 0; }\n\nselect.ui-qb-grid-row-cell-edit-control {\n  width: 100%; }\n\n.noborder {\n  border: none; }\n\n.ui-qb-grid-row-condition input.ui-qb-grid-row-cell-edit-control,\n.ui-qb-grid-row-alias input.ui-qb-grid-row-cell-edit-control {\n  width: 100%; }\n\n.ui-qb-grid-row-expression button {\n  width: 16px;\n  height: 16px; }\n\n.ui-qb-grid-row-alias input {\n  height: 100%;\n  border: none;\n  outline: none; }\n\n.ui-qb-grid-row-header th.ui-state-default {\n  text-align: left;\n  border-color: white; }\n\n.ui-qb-grid-row-alias {\n  width: 134px; }\n\n.ui-qb-grid-row-sorting {\n  width: 100px; }\n\n.ui-qb-grid-row-sortingOrder {\n  width: 100px; }\n\n.ui-qb-grid-row-aggregate {\n  width: 100px; }\n\n.ui-qb-grid-row-grouping {\n  width: 120px; }\n\n.ui-qb-grid-row-groupingCriterion {\n  width: 70px; }\n\n@media screen and (max-width: 800px) {\n  .ui-qb-grid-row-alias {\n    width: 80px; }\n  .ui-qb-grid-row-sorting {\n    width: 60px; }\n  .ui-qb-grid-row-sortingOrder {\n    width: 60px; }\n  .ui-qb-grid-row-aggregate {\n    width: 60px; }\n  .ui-qb-grid-row-grouping {\n    width: 60px; }\n  .ui-qb-grid-row-groupingCriterion {\n    width: 40px; } }\n\n.ui-qb-grid-row-expression input {\n  width: calc(100% - 26px);\n  padding: 0 15px 0 2px; }\n\n.ui-qb-grid-row-conditionOr input,\n.ui-qb-grid-row-expression input,\n.ui-qb-grid-row-condition input {\n  border: none;\n  outline: none; }\n\n.qb-ui-grid-container {\n  overflow-x: auto;\n  overflow-y: auto; }\n\n.qb-ui-grid-container {\n  overflow-x: auto;\n  overflow-y: auto;\n  position: relative;\n  width: 100%; }\n\n.qb-ui-grid-container .sticky-thead,\n.qb-ui-grid-container .sticky-col,\n.qb-ui-grid-container .sticky-intersect {\n  opacity: 1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0; }\n\n.qb-ui-grid-container .sticky-thead {\n  z-index: 50;\n  height: 1.5em; }\n\n.sticky-enabled {\n  margin: 40px 0 0; }\n\n.qb-ui-grid-container td, .qb-ui-grid-container th {\n  box-sizing: border-box; }\n\n.qb-ui-grid-container.overflow-y {\n  overflow-y: auto; }\n\n.ui-qb-grid-row-cell .ui-qb-grid-row-cell-edit-block,\n.ui-qb-grid-row-cell .ui-qb-grid-row-cell-view-block {\n  height: 39px;\n  line-height: 39px; }\n\nth.ui-qb-grid-row-selected {\n  min-width: 80px;\n  width: 80px;\n  padding: 0; }\n\nth.ui-qb-grid-row-grouping input[type="checkbox"] {\n  margin-left: 10px; }\n\ntd.ui-qb-grid-row-action,\ntd.ui-qb-grid-row-deleting,\ntd.ui-qb-grid-row-selected {\n  min-width: 24px;\n  width: 24px; }\n  td.ui-qb-grid-row-action .ui-qb-grid-row-cell-edit-control,\n  td.ui-qb-grid-row-deleting .ui-qb-grid-row-cell-edit-control,\n  td.ui-qb-grid-row-selected .ui-qb-grid-row-cell-edit-control {\n    margin-top: 10px;\n    background-repeat: no-repeat;\n    background-position: center; }\n\ntd.ui-qb-grid-row-action {\n  border-right: none !important; }\n  td.ui-qb-grid-row-action .ui-qb-grid-row-cell-edit-control {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Menu_row); }\n\ntd.ui-qb-grid-row-deleting {\n  border-right: none !important; }\n  td.ui-qb-grid-row-deleting .ui-qb-grid-row-cell-edit-control {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/RemoveRow); }\n\ntd.ui-qb-grid-row-selected input[type="checkbox"] {\n  position: relative;\n  margin-top: 12px;\n  margin-left: 3px;\n  width: 16px; }\n  td.ui-qb-grid-row-selected input[type="checkbox"]:before {\n    top: -1px; }\n\ntd.ui-qb-grid-row-grouping .ui-qb-grid-row-cell-edit-block {\n  text-align: center; }\n\ntd.ui-qb-grid-row-grouping input[type="checkbox"] {\n  position: relative;\n  width: 16px;\n  margin-top: 12px; }\n  td.ui-qb-grid-row-grouping input[type="checkbox"]:before {\n    left: 0; }\n\n.ui-qb-grid-row-sorting .ui-qb-grid-row-cell-edit-block,\n.ui-qb-grid-row-aggregate .ui-qb-grid-row-cell-edit-block {\n  padding: 0; }\n\n.ui-qb-grid-row-sorting .ui-qb-grid-row-cell-edit-control,\n.ui-qb-grid-row-aggregate .ui-qb-grid-row-cell-edit-control {\n  font-family: "Roboto Condensed", sans-serif;\n  padding: 0 6px;\n  border: none;\n  outline: 0; }\n\n.ui-qb-grid-row-sortingOrder input {\n  border: 0; }\n\n.ui-qb-grid-row-cell-view-block {\n  padding-left: 10px;\n  padding-right: 10px; }\n\n.row-drop-allowing td {\n  border-top: 2px solid red !important; }\n\n.qb-ui-canvas-navbar-subquery-panel,\n.qb-ui-canvas-navbar-union-panel {\n  font-family: "Roboto Condensed", sans-serif;\n  border: 0; }\n\n.qb-ui-canvas-navbar-union-panel {\n  background-color: #ddd;\n  color: #A3A3A3;\n  padding: 9px 0;\n  display: none;\n  position: absolute;\n  padding: 6px 0;\n  width: 100%;\n  z-index: 102; }\n\n.qb-ui-canvas-navbar-breadcrumb-container .ui-button {\n  margin-right: 0; }\n\n.qb-ui-canvas-navbar-breadcrumb-container .ui-button-text {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  font-family: "Roboto Condensed", sans-serif; }\n\n.qb-ui-canvas-navbar-breadcrumb-container ul {\n  display: none;\n  list-style-type: none; }\n  .qb-ui-canvas-navbar-breadcrumb-container ul li a {\n    color: inherit; }\n\n.qb-ui-canvas-navbar-breadcrumb-container .ui-state-disabled {\n  opacity: 1; }\n\n.qb-ui-canvas-navbar-breadcrumb-container .ui-button-icon {\n  display: inline-block;\n  position: relative;\n  top: 1px; }\n\n.qb-ui-canvas-navbar-breadcrumb-container .ui-button-icon-only {\n  width: 16px; }\n\n.qb-ui-canvas-navbar-breadcrumb-container .subquery {\n  position: relative;\n  display: inline-block;\n  padding: 1px 15px 1px;\n  margin: 0 2px;\n  font-size: 16px;\n  cursor: pointer;\n  outline: none; }\n  .qb-ui-canvas-navbar-breadcrumb-container .subquery.nav-button.ui-state-default {\n    background: transparent !important;\n    border: 1px solid black !important; }\n  .qb-ui-canvas-navbar-breadcrumb-container .subquery__name {\n    line-height: 28px;\n    font-weight: 300; }\n  .qb-ui-canvas-navbar-breadcrumb-container .subquery.ui-state-disabled {\n    opacity: 1; }\n\n.qb-ui-canvas-navbar-breadcrumb-container .subquery-button-container,\n.qb-ui-canvas-navbar-breadcrumb-container .breadcrumbs {\n  display: inline-block;\n  position: relative;\n  top: -3px; }\n\n.qb-ui-canvas-navbar-breadcrumb-container .breadcrumbs .subquery.ui-button-enabled {\n  margin: 0;\n  background: transparent;\n  border: none; }\n\n.qb-ui-canvas-navbar-controls-pane {\n  float: right;\n  margin-right: 10px;\n  white-space: nowrap; }\n\n.union-group {\n  position: relative; }\n  .union-group .control {\n    display: inline-block;\n    height: 22px;\n    text-align: center;\n    vertical-align: middle; }\n    .union-group .control.Q {\n      width: 23px;\n      border: 1px solid #aaaaaa;\n      font-family: "Roboto", sans-serif;\n      font-weight: 300; }\n      .union-group .control.Q.ui-state-active {\n        font-family: "Roboto", sans-serif;\n        font-weight: 700; }\n    .union-group .control.union-operator {\n      width: 16px;\n      height: 16px;\n      margin: 0 2px;\n      cursor: pointer; }\n      .union-group .control.union-operator svg {\n        width: 14px; }\n        .union-group .control.union-operator svg .union-path {\n          fill-opacity: 0.25; }\n    .union-group .control.left-bracket, .union-group .control.right-bracket {\n      width: 12px; }\n    .union-group .control.left-bracket {\n      margin-left: -3px; }\n    .union-group .control.right-bracket {\n      margin-right: -3px; }\n    .union-group .control.plus-button {\n      margin: 2px 30px 0 10px;\n      width: 16px;\n      height: 16px;\n      cursor: pointer; }\n    .union-group .control.ui-state-active {\n      font-weight: bold; }\n  .union-group .union-operator {\n    position: relative; }\n    .union-group .union-operator::before {\n      content: \'\';\n      position: absolute;\n      left: 3px;\n      top: 3px;\n      right: 0;\n      bottom: 3px;\n      display: none; }\n\n.qb-ui-canvas-navbar-controls {\n  white-space: nowrap;\n  overflow: auto;\n  width: 100%; }\n  .qb-ui-canvas-navbar-controls .left-bracket span,\n  .qb-ui-canvas-navbar-controls .right-bracket span {\n    width: 1.1em;\n    padding-left: 0;\n    padding-right: 0; }\n  .qb-ui-canvas-navbar-controls .union-operator.union {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Union); }\n  .qb-ui-canvas-navbar-controls .union-operator.union-all {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/UnionAll); }\n  .qb-ui-canvas-navbar-controls .union-operator.intersect {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Intersect); }\n  .qb-ui-canvas-navbar-controls .union-operator.intersect-all {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/IntersectAll); }\n  .qb-ui-canvas-navbar-controls .union-operator.minus {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Except); }\n  .qb-ui-canvas-navbar-controls .union-operator.except {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Except); }\n  .qb-ui-canvas-navbar-controls .union-operator.except-all {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/ExceptAll); }\n\n.qb-ui-canvas-navbar.nooverflow {\n  overflow: hidden; }\n\n.qb-ui-canvas-navbar .ui-widget-header {\n  border: 0; }\n\n.qb-ui-canvas-navbar .ui-icon.ui-icon-qb-derived, .qb-ui-canvas-navbar .ui-icon.ui-icon-qb-cte, .qb-ui-canvas-navbar .ui-icon.ui-icon-qb-main, .qb-ui-canvas-navbar .ui-icon.ui-icon-qb-subquery {\n  background: none;\n  width: 14px;\n  height: 14px; }\n\n.qb-ui-canvas-navbar .ui-icon.ui-icon-qb-main, .qb-ui-canvas-navbar .ui-icon.ui-icon-qb-subquery {\n  text-indent: -2px; }\n  .qb-ui-canvas-navbar .ui-icon.ui-icon-qb-main svg path, .qb-ui-canvas-navbar .ui-icon.ui-icon-qb-subquery svg path {\n    fill: currentColor; }\n\n.qb-ui-canvas-navbar:hover .qb-ui-canvas-navbar-union-panel {\n  display: block; }\n\n.ui-icon-triangle-1-s {\n  display: inline-block !important;\n  float: right; }\n\n.qb-ui-canvas-navbar-subquery-panel {\n  position: relative;\n  height: 40px;\n  border: 0 none;\n  border-left: 1px solid #ffffff;\n  overflow: visible; }\n\n.Q {\n  cursor: pointer; }\n  .Q--drop-hover::before {\n    content: \'\';\n    position: absolute;\n    top: -16px;\n    left: -1px;\n    width: 2px;\n    height: 37px;\n    background-color: red; }\n\n.icon.icon-ChangeUnionSubQueryOperator-Union::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Union); }\n\n.icon.icon-ChangeUnionSubQueryOperator-Union.All::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/UnionAll); }\n\n.icon.icon-ChangeUnionSubQueryOperator-Except::before,\n.icon.icon-ChangeUnionSubQueryOperator-Minus::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Except); }\n\n.icon.icon-ChangeUnionSubQueryOperator-Except.All::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/ExceptAll); }\n\n.icon.icon-ChangeUnionSubQueryOperator-Intersect::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Intersect); }\n\n.icon.icon-ChangeUnionSubQueryOperator-Intersect.All::before {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/IntersectAll); }\n\n.qb-ui-query-structure {\n  display: none;\n  position: absolute;\n  top: 40px;\n  left: 0;\n  padding: 5px 0 10px 5px;\n  background: #fff;\n  box-shadow: 3px 3px 8px -4px rgba(0, 0, 0, 0.75);\n  color: #222;\n  font-weight: normal;\n  overflow: hidden;\n  z-index: 103; }\n  .qb-ui-query-structure ul {\n    margin: 0;\n    padding: 0;\n    list-style-type: none; }\n    .qb-ui-query-structure ul ul {\n      padding-left: 16px; }\n  .qb-ui-query-structure li {\n    position: relative;\n    padding: 0;\n    white-space: nowrap;\n    padding-left: 5px; }\n  .qb-ui-query-structure__caption {\n    display: inline-block;\n    width: 100%;\n    padding: 5px 40px 5px 5px;\n    border-bottom: 1px solid #ddd;\n    cursor: pointer; }\n  .qb-ui-query-structure i {\n    position: relative;\n    width: 10px;\n    height: 12px;\n    margin: 0 10px;\n    display: inline-block; }\n  .qb-ui-query-structure svg path {\n    fill: #7D7D7D; }\n  .qb-ui-query-structure .node-expandable {\n    position: absolute;\n    top: 7px;\n    left: -5px;\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Collapsed);\n    cursor: pointer; }\n  .qb-ui-query-structure .node-collapsible {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Expanded); }\n\n.new-derived-table-button,\n.new-cte-button,\n.existing-ctes-button {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin: 6px 5px 0px 15px;\n  background-repeat: no-repeat;\n  cursor: pointer; }\n\n.new-derived-table-button {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/NewDerivedTable); }\n\n.new-cte-button {\n  margin-right: 0;\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/AddCTE); }\n\n.existing-ctes-button {\n  margin-left: 0;\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Expanded); }\n\n.subquery-tree {\n  display: inline-block;\n  margin-right: 12px;\n  padding: 12px;\n  cursor: pointer; }\n  .subquery-tree:hover {\n    padding: 11px; }\n\n.breadcrumbs-arrow {\n  position: relative;\n  top: 6px; }\n  .breadcrumbs-arrow:last-child {\n    display: none; }\n\n.hide-panel {\n  float: right;\n  padding: 13px 12px 7px;\n  border: none !important;\n  cursor: pointer; }\n\n.qb-ui-overlay {\n  position: absolute;\n  display: none;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 10000; }\n\n.qb-ui-overlay__table {\n  display: table;\n  width: 100%;\n  height: 100%; }\n\n.qb-ui-overlay__row {\n  display: table-row; }\n\n.qb-ui-overlay__cell {\n  display: table-cell;\n  text-align: center;\n  vertical-align: middle;\n  color: white; }\n\n.qb-ui-overlay__message {\n  margin: 0 auto;\n  width: 50%;\n  font-size: 18px; }\n\n.qb-ui-overlay__loader {\n  width: 50px;\n  height: 50px;\n  margin: 20px auto;\n  background: url("../img/overlay-loader.gif") no-repeat center;\n  background-size: cover; }\n\n.properties {\n  position: relative;\n  right: 0;\n  top: 1px;\n  left: 0px !important;\n  float: right;\n  width: 300px;\n  min-width: 265px;\n  max-width: 80%;\n  height: 100%;\n  border: 1px solid #2c2c2c;\n  box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.25);\n  z-index: 101;\n  outline: 0; }\n  .properties *, .properties input, .properties textarea {\n    font-family: "Roboto Condensed", sans-serif;\n    font-size: 14px; }\n  .properties textarea {\n    font-family: monospace; }\n  .properties__root {\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden; }\n  .properties__title, .properties__name {\n    font-size: 16px;\n    padding: 3px 0 3px 12px; }\n  .properties__title {\n    font-family: "Roboto", sans-serif; }\n  .properties--collapsed {\n    width: 0 !important;\n    min-width: 0;\n    left: auto !important;\n    overflow: visible;\n    box-shadow: -1px 0 10px 1px rgba(0, 0, 0, 0.75); }\n    .properties--collapsed *::before {\n      display: none; }\n    .properties--collapsed .properties__root {\n      display: none; }\n    .properties--collapsed .properties__title {\n      display: block;\n      position: absolute;\n      width: 0;\n      left: 5px;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      padding: 0;\n      border: 0;\n      cursor: pointer; }\n      .properties--collapsed .properties__title::after {\n        content: \'\';\n        position: absolute;\n        top: -3px;\n        right: 2px;\n        bottom: 0;\n        width: 5px;\n        height: 103%;\n        background: inherit;\n        background-image: none; }\n      .properties--collapsed .properties__title span {\n        position: absolute;\n        top: calc(45% + 55px);\n        left: -23px;\n        transform: translate(-50%, -150%) rotate(90deg);\n        padding: 10px 15px;\n        background: inherit;\n        background-image: none;\n        white-space: nowrap;\n        font-family: "Roboto", sans-serif;\n        box-shadow: 0px 8px 10px -7px rgba(0, 0, 0, 0.75); }\n        .properties--collapsed .properties__title span::after, .properties--collapsed .properties__title span::before {\n          position: absolute;\n          display: block;\n          width: 22px;\n          height: 100%;\n          bottom: 0px;\n          background: inherit; }\n        .properties--collapsed .properties__title span::before {\n          content: \'\';\n          left: -13px;\n          transform: skewX(25deg);\n          border-radius: 0 0 0 5px; }\n        .properties--collapsed .properties__title span::after {\n          content: \'\';\n          right: -13px;\n          transform: skewX(-25deg);\n          border-radius: 0 0 5px 0; }\n    .properties--collapsed .ui-resizable-w {\n      display: none; }\n  .properties__dock {\n    position: absolute;\n    left: -5px;\n    top: 15px;\n    width: 15px;\n    height: 15px;\n    border: none;\n    cursor: pointer;\n    outline: 0;\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Pinned);\n    transform: rotate(-90deg); }\n    .properties__dock--fix {\n      left: auto;\n      right: 10px;\n      top: 5px;\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Unpinned);\n      transform: rotate(0deg); }\n  .properties__name {\n    display: none;\n    margin-bottom: 5px;\n    color: black; }\n  .properties__item {\n    width: 100%;\n    margin-bottom: 5px; }\n  .properties__label {\n    float: left;\n    width: 30%;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap; }\n    .properties__label--full {\n      float: none;\n      display: block;\n      width: 98%;\n      padding-bottom: 0; }\n    .properties__label--checkbox {\n      float: none; }\n  .properties__editor {\n    float: right;\n    width: 60%;\n    padding: 0 3px; }\n    .properties__editor--full {\n      float: none;\n      width: 98%;\n      max-width: 98%; }\n    .properties__editor--checkbox[type="checkbox"] {\n      float: none;\n      width: 12px;\n      vertical-align: middle;\n      margin: 0 10px 0 0; }\n    .properties__editor [type="radio"] {\n      margin-right: 5px; }\n      .properties__editor [type="radio"] + span {\n        vertical-align: top; }\n    .properties__editor[type="number"]::-webkit-outer-spin-button, .properties__editor[type="number"]::-webkit-inner-spin-button {\n      appearance: none;\n      margin: 0; }\n    .properties__editor[type="number"] {\n      appearance: textfield; }\n  .properties__container {\n    padding: 0 6px; }\n  .properties__group {\n    padding-left: 5px; }\n    .properties__group--no-group {\n      padding-left: 0; }\n      .properties__group--no-group > h4 {\n        display: none; }\n  .properties__group-name {\n    margin: 0 0 0 -5px;\n    padding: 5px 0px;\n    font-weight: normal;\n    font-size: 14px; }\n  .properties__group-toggler {\n    position: relative;\n    margin: 0;\n    padding: 5px 15px;\n    font-size: 14px;\n    font-weight: bold;\n    cursor: pointer; }\n    .properties__group-toggler::before {\n      content: \'\';\n      height: 11px;\n      width: 11px;\n      position: absolute;\n      left: -1px;\n      top: 4px;\n      background: url(/ActiveQueryBuilder/Handler/resources/svg/Expanded); }\n    .properties__group-toggler--toggle::before {\n      background: url(/ActiveQueryBuilder/Handler/resources/svg/Collapsed); }\n  .properties__divider {\n    background: #c0c0c0;\n    height: 1px;\n    margin: 15px 0; }\n    .properties__divider span {\n      position: relative;\n      top: -9px;\n      background: white;\n      padding-right: 5px; }\n  .properties.ui-widget-content {\n    background-image: none; }\n\ninput.properties__editor {\n  height: 21px; }\n\n.qb-ui-editor {\n  position: relative;\n  display: block;\n  height: 250px;\n  overflow: auto;\n  margin-right: 2px;\n  font-family: monospace; }\n  .qb-ui-editor textarea {\n    width: 100%;\n    max-width: 100%;\n    height: 98%;\n    padding: 3px;\n    border: 0;\n    margin: 0;\n    resize: none;\n    font-size: 1.2em;\n    outline: none; }\n\n.qb-ui-editor-refresh-button-container {\n  display: none;\n  top: 0;\n  left: 0;\n  bottom: 10px;\n  right: 10px;\n  font-size: 16px;\n  position: absolute;\n  pointer-events: none; }\n  .qb-ui-editor-refresh-button-container * {\n    pointer-events: auto; }\n\n.qb-ui-editor-refresh-button,\n.ui-widget-content .qb-ui-editor-refresh-button {\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  background: #3ecc49;\n  height: 40px;\n  width: 40px;\n  border: none;\n  border-radius: 50%;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.14), 0 4px 8px rgba(0, 0, 0, 0.28);\n  box-sizing: content-box;\n  cursor: pointer;\n  outline: none;\n  padding: 0;\n  transform: scale(1) rotate(360deg);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  z-index: 100; }\n\n.qb-ui-editor-refresh-button :hover {\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.16), 0 6px 12px rgba(0, 0, 0, 0.32);\n  transition: box-shadow 150ms cubic-bezier(0, 0, 0.2, 1); }\n\n.qb-ui-editor-refresh-button .icon {\n  display: block;\n  height: 24px;\n  margin: auto;\n  width: 24px; }\n\n.qb-ui-editor-refresh-button .second-icon,\n.qb-ui-editor-refresh-button .first-icon {\n  left: 0;\n  margin-left: 8px;\n  margin-top: 8px;\n  position: absolute;\n  top: 0;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Refresh); }\n\n.qb-ui-editor-refresh-button .second-icon,\n.qb-ui-editor-refresh-button:hover .first-icon {\n  opacity: 0;\n  transform: rotate(225deg); }\n\n.qb-ui-editor-refresh-button:hover .second-icon {\n  opacity: 1;\n  visibility: visible;\n  transform: rotate(360deg); }\n\n.qb-ui-editor-refresh-button-label {\n  position: absolute;\n  right: 63px;\n  bottom: 15px;\n  display: inline-block;\n  margin: 0 8px 0 0;\n  opacity: 0;\n  text-align: right;\n  transition: opacity 150ms cubic-bezier(0.4, 0, 1, 1) 0s;\n  z-index: 102; }\n  .qb-ui-editor-refresh-button-label > div {\n    background: rgba(70, 70, 70, 0.9) none repeat scroll 0 0;\n    border-radius: 2px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n    color: #ececec;\n    display: inline-block;\n    font-weight: bold;\n    line-height: 1em;\n    overflow: hidden;\n    padding: 6px 8px;\n    text-overflow: ellipsis;\n    vertical-align: middle; }\n    .qb-ui-editor-refresh-button-label > div p {\n      padding: 0;\n      margin: 0; }\n  .qb-ui-editor-refresh-button-label .controls {\n    margin-top: 10px;\n    text-align: right; }\n    .qb-ui-editor-refresh-button-label .controls input {\n      margin-left: 10px;\n      padding: 5px 10px;\n      background-image: none;\n      background-color: white;\n      color: black;\n      font-weight: 800;\n      border: none; }\n\n.qb-ui-editor-refresh-button:hover ~ .qb-ui-editor-refresh-button-label {\n  opacity: 1;\n  transition: opacity 150ms cubic-bezier(0, 0, 0.2, 1) 0s; }\n\n.error .qb-ui-editor-refresh-button {\n  background-color: #cd0a0a; }\n  .error .qb-ui-editor-refresh-button ~ .qb-ui-editor-refresh-button-label {\n    opacity: 1; }\n\n.error .qb-ui-editor-refresh-button-label > div {\n  background: #cd0a0a none repeat scroll 0 0;\n  color: #FFFFFF;\n  background-image: none; }\n\n.qb-ui-editor-statusbar {\n  width: 100%;\n  height: 25px;\n  overflow: auto;\n  border-top: 1px solid #dddddd;\n  position: relative;\n  background-color: #f0f0f0;\n  padding: 5px; }\n  .qb-ui-editor-statusbar input {\n    vertical-align: middle; }\n\ndiv.slideup, div.slidedown {\n  margin-top: 0;\n  overflow-y: hidden; }\n\ndiv.qb-ui-editor-statusbar.slideup {\n  display: none; }\n\ndiv.slidedown {\n  visibility: visible; }\n\n.qb-ui-editor-statusbar-message {\n  height: 16px;\n  padding-left: 20px;\n  line-height: 16px;\n  font-size: 1.1em;\n  background-repeat: no-repeat; }\n  .qb-ui-editor-statusbar-message.information {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Info); }\n  .qb-ui-editor-statusbar-message.warning {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Warning); }\n  .qb-ui-editor-statusbar-message.error {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Error); }\n\n.qb-ui-table {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  min-height: 36px;\n  padding: 0;\n  outline: 0;\n  opacity: 1;\n  cursor: default;\n  overflow: hidden;\n  box-shadow: 3px 3px 7px 1px rgba(0, 0, 0, 0.75);\n  box-sizing: content-box !important;\n  font-family: "Roboto Condensed", sans-serif; }\n\n.qb-ui-table.ui-draggable-dragging {\n  z-index: 200; }\n\n.qb-ui-table-dragging .qb-ui-table-titlebar {\n  cursor: move !important; }\n\n.qb-ui-table-titlebar-text {\n  width: 100%;\n  float: left;\n  margin: 0;\n  padding-top: 7px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: normal;\n  white-space: nowrap;\n  font-family: "Roboto", sans-serif;\n  font-size: 16px; }\n\n.qb-ui-table-titlebar-text-schema-name {\n  color: blue;\n  text-transform: uppercase; }\n\n.qb-ui-table-titlebar-text-table-name {\n  color: teal;\n  text-transform: uppercase; }\n\n.titlebar-button {\n  display: inline-block;\n  padding: 4px;\n  outline: none;\n  border: none !important;\n  font-size: 0;\n  cursor: pointer; }\n\na.ui-corner-all.titlebar-button.button-link.tabbable {\n  right: 40px; }\n\n.qb-ui-table-field-container {\n  position: relative;\n  padding: 5px 0 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  outline: none;\n  border: 0 !important;\n  font-size: 14px; }\n  .qb-ui-table-field-container table {\n    width: 100%;\n    overflow-y: hidden; }\n\n.qb-ui-table-field {\n  padding-bottom: 3px;\n  background-color: inherit;\n  white-space: nowrap;\n  cursor: pointer;\n  outline: none; }\n  .qb-ui-table-field:hover {\n    background-color: #f5f5f5;\n    text-decoration: none;\n    color: #334c63; }\n  .qb-ui-table-field span {\n    margin-left: 6px; }\n  .qb-ui-table-field .links {\n    float: right;\n    position: relative;\n    top: 3px;\n    width: 18px;\n    height: 16px;\n    display: inline-block;\n    margin: 0 7px 0 0;\n    padding: 1px 0;\n    border: 1px solid #A3A3A3;\n    border-radius: 2px;\n    background-repeat: no-repeat;\n    background-color: inherit;\n    z-index: 1; }\n    .qb-ui-table-field .links--pk {\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/PrimaryKey); }\n    .qb-ui-table-field .links--fk {\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/ForeignKey); }\n  .qb-ui-table-field .ui-draggable-dragging {\n    border: solid 1px #000000; }\n  .qb-ui-table-field .loading {\n    display: inline-block;\n    width: 16px;\n    height: 23px;\n    margin-top: 5px;\n    vertical-align: -7px; }\n  .qb-ui-table-field .qb-ui-table-field-name,\n  .qb-ui-table-field .qb-ui-table-field-type {\n    font-family: "Roboto Condensed", sans-serif; }\n\n.qb-ui-table-field-highlight {\n  border: solid 1px #000000 !important;\n  background-color: #DCDCDC !important;\n  outline-color: #000000;\n  outline-style: solid;\n  outline-width: 1px; }\n\n.qb-ui-table-field-select {\n  width: 16px;\n  display: inline-block; }\n  .qb-ui-table-field-select input {\n    margin: 0; }\n\n.qb-ui-table-field .qb-ui-table-field-select {\n  margin-left: 8px; }\n\n.qb-ui-table-field-icon {\n  position: relative;\n  top: 3px;\n  width: 16px;\n  height: 16px;\n  display: inline-block; }\n  .qb-ui-table-field-icon img {\n    width: 10px;\n    height: 10px; }\n\n.qb-ui-table-field-icon-pk {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Key); }\n\n.qb-ui-table-user-field-icon {\n  background-image: url(/ActiveQueryBuilder/Handler/resources/svg/EditUserField); }\n\n.qb-ui-table-user-field-edit,\n.qb-ui-table-user-field-delete {\n  position: relative;\n  top: 3px;\n  display: inline-block;\n  width: 20px;\n  height: 15px; }\n\n.qb-ui-table-user-field-edit,\n.qb-ui-table-user-field-delete {\n  top: 4px;\n  width: 16px;\n  float: right;\n  margin-right: 5px;\n  cursor: pointer; }\n\n.qb-ui-table-field-type {\n  color: gray;\n  font-style: italic; }\n\n.qb-ui-table-field-type-size {\n  padding-left: 0 !important; }\n\n.qb-ui-table-field-hover {\n  background-color: #DCDCDC !important; }\n\n.qb-ui-table .ui-resizable-se {\n  right: -2px;\n  bottom: -1px; }\n\n.toolbar {\n  background-color: #ddd;\n  color: #A3A3A3;\n  padding: 9px 0;\n  display: none;\n  flex-basis: 20px;\n  flex-shrink: 0;\n  border-bottom: 1px solid #ccc; }\n  .toolbar__filter {\n    width: 75%;\n    padding: 0 5px;\n    border: none;\n    background: transparent;\n    outline: none;\n    font-style: italic;\n    font-weight: 700;\n    font-size: 13px !important;\n    color: inherit; }\n    .toolbar__filter::placeholder {\n      color: inherit;\n      font-weight: 700; }\n  .toolbar__button {\n    width: 16px;\n    height: 14px;\n    display: inline-block;\n    cursor: pointer;\n    position: relative; }\n    .toolbar__button--clear {\n      float: right;\n      top: 4px;\n      right: 9px;\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/ClearTextInTheBox); }\n    .toolbar__button--icon {\n      top: 2px;\n      margin-left: 10px;\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Filter); }\n\n.qb-ui-table {\n  box-shadow: none; }\n\n.qb-ui-table--focused > .qb-ui-table-titlebar::after {\n  background: transparent; }\n\n.qb-ui-table-titlebar {\n  flex-basis: 36px;\n  flex-shrink: 0;\n  position: relative;\n  padding-left: 30px;\n  overflow: hidden;\n  cursor: pointer; }\n  .qb-ui-table-titlebar::after {\n    content: \'\';\n    position: absolute;\n    display: block !important;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(255, 255, 255, 0.25);\n    pointer-events: none; }\n  .qb-ui-table-titlebar__button-container {\n    position: absolute;\n    padding-top: 6px;\n    background: inherit; }\n    .qb-ui-table-titlebar__button-container--left {\n      left: 0;\n      padding-left: 3px; }\n    .qb-ui-table-titlebar__button-container--right {\n      right: 0;\n      padding-right: 5px; }\n  .qb-ui-table-titlebar .button-close {\n    right: 4px; }\n  .qb-ui-table-titlebar .button-subquery {\n    right: 26px; }\n  .qb-ui-table-titlebar .ui-icon {\n    height: 24px;\n    width: 24px;\n    background-size: 50%;\n    background-repeat: no-repeat;\n    background-position: 50% 50%; }\n  .qb-ui-table-titlebar .left16 {\n    margin-left: 16px; }\n\n.add-user-field-row,\n.hidden-fields-counter-row {\n  color: gray; }\n\n.add-user-field-row {\n  padding-bottom: 2px;\n  cursor: pointer; }\n  .add-user-field-row span:first-child {\n    display: inline-block;\n    width: 35px;\n    text-align: right; }\n  .add-user-field-row span:last-child {\n    padding-left: 13px; }\n\n.hidden-fields-counter-row {\n  text-align: center;\n  cursor: pointer; }\n  .hidden-fields-counter-row span:last-child {\n    padding-left: 5px; }\n\n.qb-ui-tree-view {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.25);\n  font-size: 16px;\n  background: #fff; }\n  .qb-ui-tree-view * {\n    font-family: "Roboto Condensed", sans-serif; }\n  .qb-ui-tree-view ul {\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n    white-space: nowrap; }\n    .qb-ui-tree-view ul ul {\n      padding-left: 19px; }\n  .qb-ui-tree-view .tree-node {\n    outline: none;\n    cursor: pointer;\n    position: relative;\n    color: #222222; }\n    .qb-ui-tree-view .tree-node:focus {\n      outline: none; }\n    .qb-ui-tree-view .tree-node.loading::before {\n      background-repeat: no-repeat;\n      background-position: 0 0; }\n\n.tree-node-icon {\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  width: 16px;\n  height: 16px;\n  margin: 0 5px;\n  background-repeat: no-repeat; }\n  .tree-node-icon[db-type="database"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Database); }\n  .tree-node-icon[db-type="schema"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Schema); }\n  .tree-node-icon[db-type="package"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Package); }\n  .tree-node-icon[db-type="table"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Table); }\n  .tree-node-icon[db-type="view"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/View); }\n  .tree-node-icon[db-type="procedure"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Procedure); }\n  .tree-node-icon[db-type="field"][field-type="simple"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/FieldNode); }\n  .tree-node-icon[db-type="field"][field-type="pk"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/PrimaryKeyField); }\n  .tree-node-icon[db-type="field"][field-type="fk"] {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/FieldNode); }\n  .tree-node-icon[db-type="unknown"], .tree-node-icon[db-type="undefined"], .tree-node-icon[db-type="userquery"] {\n    display: none; }\n\n.qb-ui-tree-item-block {\n  overflow: auto;\n  flex-grow: 1; }\n\n.qb-ui-canvas-droppable {\n  z-index: 200; }\n\n.qb-ui-object {\n  cursor: pointer; }\n\n.node-nonexpandable,\n.node-expandable {\n  display: inline-block;\n  width: 14px;\n  height: 14px; }\n\n.node-nonexpandable {\n  background: none; }\n\n.node-collapsed > .node-expandable {\n  background: url(/ActiveQueryBuilder/Handler/resources/svg/Collapsed); }\n\n.node-expanded > .node-expandable {\n  background: url(/ActiveQueryBuilder/Handler/resources/svg/Expanded); }\n\n.qb-ui-tree-highlight {\n  background-color: yellow; }\n\n.qb-ui-tree-item-filter-block {\n  padding-left: 0;\n  padding-right: 0px;\n  width: 100%; }\n  .qb-ui-tree-item-filter-block table {\n    width: 100%; }\n  .qb-ui-tree-item-filter-block .icon-filter,\n  .qb-ui-tree-item-filter-block .icon-cross {\n    position: relative;\n    top: 2px;\n    display: inline-block;\n    background-repeat: no-repeat;\n    height: 16px; }\n  .qb-ui-tree-item-filter-block .icon-cross {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/ClearTextInTheBox);\n    width: 16px;\n    margin: 0 2px;\n    cursor: pointer; }\n  .qb-ui-tree-item-filter-block .icon-filter {\n    background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Search);\n    width: 18px;\n    margin-left: 6px; }\n\n.qb-ui-tree-field-helper {\n  cursor: pointer;\n  z-index: 200; }\n\n.qb-ui-tree-selects {\n  padding: 0; }\n\n.qb-ui-tree-selects-select {\n  padding-left: 22px;\n  margin-bottom: 2px; }\n\n.qb-ui-tree-selects-select select {\n  width: 100%;\n  margin: 0; }\n\n.qb-ui-tree-separator {\n  border-top: 1px solid #BBBBBB;\n  margin-top: 2px;\n  padding-top: 2px; }\n\n.qb-ui-tree-field-helper {\n  display: inline-block;\n  padding: 0 0 0 18px !important;\n  border-bottom-width: 1px;\n  border-top-width: 1px;\n  margin: 0; }\n\n.qb-ui-tree-item-loading-overlay {\n  overflow: hidden;\n  padding: 0;\n  margin: 0; }\n\n.qb-ui-tree-item-loading-overlay-bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0.2; }\n\n.qb-ui-tree-item-loading-overlay-text {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  line-height: 500px;\n  text-align: center;\n  color: Black;\n  overflow: hidden;\n  font-size: 140%;\n  font-weight: bold; }\n\n.qb-ui-tree-item-filter-block {\n  background-color: #ddd;\n  color: #A3A3A3;\n  padding: 9px 0;\n  padding: 11px 5px 7px; }\n\n.qb-ui-tree-item-filter-input {\n  width: 75%;\n  padding: 0 2px;\n  border: none;\n  background-color: transparent;\n  box-sizing: border-box;\n  font-style: italic;\n  color: inherit;\n  font-weight: 700;\n  outline: none; }\n  .qb-ui-tree-item-filter-input::placeholder {\n    color: inherit;\n    font-weight: 700; }\n\n.qb-ui-tree-items,\n.qb-ui-tree-filtered-items {\n  padding-top: 5px;\n  overflow-x: hidden; }\n\n.qb-ui-tree-view {\n  font-weight: 300; }\n  .qb-ui-tree-view li > .tree-node {\n    display: inline-block;\n    width: 100%;\n    padding: 3px 0;\n    border-bottom: 1px solid #ddd; }\n    .qb-ui-tree-view li > .tree-node.qb-ui-object-field, .qb-ui-tree-view li > .tree-node.qb-ui-object-table, .qb-ui-tree-view li > .tree-node.qb-ui-object-view {\n      border-bottom: none; }\n\n.qb-ui-user-queries {\n  position: relative;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.25);\n  overflow-x: hidden;\n  overflow-y: auto;\n  font-size: 16px;\n  background: #fff;\n  color: #222; }\n  .qb-ui-user-queries * {\n    font-family: "Roboto Condensed", sans-serif; }\n  .qb-ui-user-queries__toolbar {\n    background-color: #ddd;\n    color: #A3A3A3;\n    padding: 9px 0;\n    padding-left: 15px; }\n  .qb-ui-user-queries__button {\n    position: relative;\n    top: 2px;\n    margin-right: 5px;\n    padding-right: 5px;\n    cursor: pointer;\n    background-repeat: no-repeat; }\n    .qb-ui-user-queries__button[disabled] {\n      filter: grayscale(1); }\n    .qb-ui-user-queries__button--add {\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/NewFolder); }\n    .qb-ui-user-queries__button--create {\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/SaveAs); }\n    .qb-ui-user-queries__button--save {\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Save); }\n    .qb-ui-user-queries__button--edit {\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Edit); }\n    .qb-ui-user-queries__button--remove {\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Delete); }\n  .qb-ui-user-queries__icon {\n    position: relative;\n    top: 2px;\n    background-repeat: no-repeat; }\n    .qb-ui-user-queries__icon--query {\n      margin-left: 22px;\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/QueryNode); }\n    .qb-ui-user-queries__icon--folder {\n      background-image: url(/ActiveQueryBuilder/Handler/resources/svg/Folder); }\n  .qb-ui-user-queries__button, .qb-ui-user-queries__icon {\n    width: 22px;\n    height: 16px;\n    display: inline-block; }\n  .qb-ui-user-queries__folder {\n    display: none;\n    margin: 0;\n    padding-left: 20px;\n    font-weight: 300;\n    overflow-x: hidden; }\n    .qb-ui-user-queries__folder--root {\n      display: block;\n      min-height: 75%;\n      padding-left: 2px; }\n  .qb-ui-user-queries__item {\n    list-style-type: none;\n    white-space: nowrap;\n    cursor: pointer; }\n    .qb-ui-user-queries__item--selected > .qb-ui-user-queries__name {\n      background: rgba(150, 150, 150, 0.3); }\n    .qb-ui-user-queries__item > input[type="text"] {\n      width: 100%;\n      outline: none;\n      font-size: 16px; }\n  .qb-ui-user-queries__name {\n    display: inline-block;\n    width: 100%;\n    padding: 3px 0;\n    border-bottom: 1px solid #ddd;\n    vertical-align: middle; }\n  .qb-ui-user-queries svg {\n    width: 30px;\n    display: inline;\n    position: relative;\n    margin: -7px 4px -7px -34px; }\n  .qb-ui-user-queries .path {\n    stroke-dasharray: 1000;\n    stroke-dashoffset: 0; }\n    .qb-ui-user-queries .path.check {\n      stroke-dashoffset: -100;\n      animation: dash-check .9s .35s ease-in-out forwards; }\n',""])},function(e,t,n){var i=n(39);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0};o.transform=void 0;n(12)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(11)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700|Roboto:300,400,700);",""]),t.push([e.i,"/*@font-face {\r\n  font-family: 'RobotoLight';\r\n  font-style: normal;\r\n  font-weight: 100;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/b9QBgL0iMZfDSpmcXcE8nPVFL0ofnRu5Y2lP-UpEUGU.woff2) format('woff2');\r\n}\r\n\r\n@font-face {\r\n  font-family: 'RobotoRegular';\r\n  font-style: normal;\r\n  font-weight: 300;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/Zd2E9abXLFGSr9G3YK2MsDAdhzWOYhqHvOZMRGaEyPo.woff2) format('woff2');\r\n}\r\n\r\n@font-face {\r\n  font-family: 'RobotoBold';\r\n  font-style: normal;\r\n  font-weight: 900;\r\n  src: url(https://fonts.gstatic.com/s/robotocondensed/v13/b9QBgL0iMZfDSpmcXcE8nHm2hrkyco9jQ3NKMXpgOBg.woff2) format('woff2');\r\n}*/\n.qb-ui-layout {\n  position: relative; }\n  .qb-ui-layout__left {\n    height: 640px;\n    width: 254px;\n    min-width: 254px;\n    float: left; }\n    .qb-ui-layout__left .ui-resizable-e {\n      right: -5px;\n      background: url(/ActiveQueryBuilder/Handler/resources/svg/splitter);\n      background-repeat: no-repeat;\n      background-position: center; }\n  .qb-ui-layout__right {\n    height: 640px;\n    margin-left: 257px;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column; }\n    .qb-ui-layout__right .qb-ui-canvas-navbar {\n      position: relative; }\n    .qb-ui-layout__right .qb-ui-canvas {\n      height: 437px; }\n    .qb-ui-layout__right .ui-qb-grid {\n      height: auto;\n      width: calc(100% - 2px);\n      flex-basis: 0px;\n      flex-grow: 1; }\n  .qb-ui-layout__top::after {\n    content: \"\";\n    display: table;\n    clear: both; }\n  .qb-ui-layout__bottom {\n    border: 1px solid #eaeaea;\n    margin-top: 2px; }\n\n.qb-ui-structure-tabs {\n  position: relative;\n  overflow: hidden;\n  height: 100%; }\n  .qb-ui-structure-tabs__tab {\n    display: inline-block;\n    margin-right: 10px; }\n    .qb-ui-structure-tabs__tab > label {\n      display: inline-block;\n      position: relative;\n      padding: 8px 0 7px 11px;\n      border-radius: 3px 0 0 0;\n      border: none !important;\n      background-image: none;\n      font-family: \"Roboto\", sans-serif;\n      color: white;\n      font-size: 18px;\n      font-weight: 700;\n      cursor: pointer;\n      z-index: 0; }\n      .qb-ui-structure-tabs__tab > label::before {\n        content: '';\n        position: absolute;\n        bottom: -2px;\n        left: 0;\n        width: 1000px;\n        height: 5px;\n        background: inherit;\n        background-image: none; }\n      .qb-ui-structure-tabs__tab > label::after {\n        content: '';\n        position: absolute;\n        top: 0px;\n        right: -13px;\n        height: 100%;\n        width: 21px;\n        border-radius: 0 5px 0 0;\n        transform: skewX(25deg);\n        background: inherit;\n        background-image: none;\n        z-index: -1; }\n  .qb-ui-structure-tabs__content {\n    display: none;\n    position: absolute;\n    left: 1px;\n    top: 42px;\n    width: calc(100% - 1px);\n    background-image: none;\n    box-shadow: 0 -40px 20px -5px rgba(0, 0, 0, 0.25);\n    border: none;\n    z-index: 1;\n    /*\r\n    &::after {\r\n      content: '';\r\n      position: absolute;\r\n      top: -$line_height + px;\r\n      left: 0;\r\n      right: 0;\r\n      height: $line_height + px;\r\n      background: inherit;\r\n      background-image: none;\r\n    }\r\n    */ }\n  .qb-ui-structure-tabs input[type='radio'] {\n    display: none; }\n    .qb-ui-structure-tabs input[type='radio']:checked ~ .qb-ui-structure-tabs__content {\n      display: block; }\n    .qb-ui-structure-tabs input[type='radio']:checked ~ label {\n      z-index: 2; }\n    .qb-ui-structure-tabs input[type='radio']:checked::after {\n      background: red; }\n  .qb-ui-structure-tabs .qb-ui-tree-view,\n  .qb-ui-structure-tabs .qb-ui-user-queries {\n    height: 600px; }\n\n.qb-widget-header {\n  background: #3d566d;\n  color: #fff; }\n\n.qb-widget-content {\n  border: 1px solid #aaa;\n  background: #fff;\n  color: #222; }\n",""])},function(e,t,n){var i=n(41);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0};o.transform=void 0;n(12)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(11)(!1)).push([e.i,"/*!\n * jQuery UI Resizable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n.ui-resizable {\n  position: relative; }\n\n.ui-resizable-handle {\n  position: absolute;\n  font-size: 0.1px;\n  display: block;\n  -ms-touch-action: none;\n  touch-action: none; }\n\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n  display: none; }\n\n.ui-resizable-n {\n  cursor: n-resize;\n  height: 7px;\n  width: 100%;\n  top: -5px;\n  left: 0; }\n\n.ui-resizable-s {\n  cursor: s-resize;\n  height: 7px;\n  width: 100%;\n  bottom: -5px;\n  left: 0; }\n\n.ui-resizable-e {\n  cursor: e-resize;\n  width: 7px;\n  right: -5px;\n  top: 0;\n  height: 100%; }\n\n.ui-resizable-w {\n  cursor: w-resize;\n  width: 7px;\n  left: -5px;\n  top: 0;\n  height: 100%; }\n\n.ui-resizable-se {\n  cursor: se-resize;\n  width: 12px;\n  height: 12px;\n  right: 1px;\n  bottom: 1px; }\n\n.ui-resizable-sw {\n  cursor: sw-resize;\n  width: 9px;\n  height: 9px;\n  left: -5px;\n  bottom: -5px; }\n\n.ui-resizable-nw {\n  cursor: nw-resize;\n  width: 9px;\n  height: 9px;\n  left: -5px;\n  top: -5px; }\n\n.ui-resizable-ne {\n  cursor: ne-resize;\n  width: 9px;\n  height: 9px;\n  right: -5px;\n  top: -5px; }\n",""])},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=i.default;i.default.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldY:0,build:function(e){return this.each(function(){this.tableDnDConfig=o.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,scrollAmount:5,serializeRegexp:/[^\-]*$/,serializeParamName:null,dragHandle:null},e||{}),o.tableDnD.makeDraggable(this)}),o(document).bind("mousemove",o.tableDnD.mousemove).bind("mouseup",o.tableDnD.mouseup),this},makeDraggable:function(e){var t=e.tableDnDConfig;if(e.tableDnDConfig.dragHandle){var n;(0,i.default)(document).on("mousedown","td."+e.tableDnDConfig.dragHandle,function(r){n=setTimeout(function(){0!=(0,i.default)(r.currentTarget).parents("tr:first").next().length&&(o.tableDnD.dragObject=this.parentNode,o.tableDnD.currentTable=e,o.tableDnD.mouseOffset=o.tableDnD.getMouseOffset(this,r),t.onDragStart&&t.onDragStart(e,this))}.bind(this),200);var s=function e(){clearTimeout(n),n=void 0,(0,i.default)(this).unbind("mouseleave",e).unbind("mouseup",e)};return(0,i.default)(this).bind("mouseleave",s).bind("mouseup",s),!1})}else(0,i.default)(document).on("mousedown","table td."+e.tableDnDConfig.dragHandle,function(n){if("TD"==n.target.tagName)return o.tableDnD.dragObject=this,o.tableDnD.currentTable=e,o.tableDnD.mouseOffset=o.tableDnD.getMouseOffset(this,n),t.onDragStart&&t.onDragStart(e,this),!1})},updateTables:function(){this.each(function(){this.tableDnDConfig&&o.tableDnD.makeDraggable(this)})},mouseCoords:function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}},getMouseOffset:function(e,t){t=t||window.event;var n=this.getPosition(e),i=this.mouseCoords(t);return{x:i.x-n.x,y:i.y-n.y}},getPosition:function(e){var t=0,n=0;for(0==e.offsetHeight&&(e=e.firstChild);e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return t+=e.offsetLeft,n+=e.offsetTop,{x:t,y:n}},mousemove:function(e){if(null!=o.tableDnD.dragObject){var t=o(o.tableDnD.dragObject),n=o.tableDnD.currentTable.tableDnDConfig,i=o.tableDnD.mouseCoords(e),r=i.y-o.tableDnD.mouseOffset.y,s=window.pageYOffset;if(document.all&&(void 0!==document.compatMode&&"BackCompat"!=document.compatMode?s=document.documentElement.scrollTop:void 0!==document.body&&(s=document.body.scrollTop)),i.y-s<n.scrollAmount)window.scrollBy(0,-n.scrollAmount);else{(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight)-(i.y-s)<n.scrollAmount&&window.scrollBy(0,n.scrollAmount)}if(r!=o.tableDnD.oldY){var a=r>o.tableDnD.oldY;o.tableDnD.oldY=r,n.onDragClass?t.addClass(n.onDragClass):t.css(n.onDragStyle);var l=o.tableDnD.findDropTargetRow(t,r);l&&"ui-qb-grid-row-header"!=l.className&&(a&&o.tableDnD.dragObject!=l?o.tableDnD.dragObject.parentNode.insertBefore(o.tableDnD.dragObject,l.nextSibling):a||o.tableDnD.dragObject==l||o.tableDnD.dragObject.parentNode.insertBefore(o.tableDnD.dragObject,l))}return!1}},findDropTargetRow:function(e,t){for(var n=o.tableDnD.currentTable.rows,r=0;r<n.length;r++){var s=n[r];if(0==(0,i.default)(s).next().length)return;var a=this.getPosition(s).y,l=parseInt(s.offsetHeight)/2;if(0==s.offsetHeight&&(a=this.getPosition(s.firstChild).y,l=parseInt(s.firstChild.offsetHeight)/2),t>a-l&&t<a+l){if(s==e)return null;var u=o.tableDnD.currentTable.tableDnDConfig;if(u.onAllowDrop)return u.onAllowDrop(e,s)?s:null;return o(s).hasClass("nodrop")?null:s}}return null},mouseup:function(e){if(o.tableDnD.currentTable&&o.tableDnD.dragObject){var t=o.tableDnD.dragObject,n=o.tableDnD.currentTable.tableDnDConfig;n.onDragClass?o(t).removeClass(n.onDragClass):o(t).css(n.onDropStyle),o.tableDnD.dragObject=null,n.onDrop&&n.onDrop(o.tableDnD.currentTable,t),o.tableDnD.currentTable=null}},serialize:function(){return o.tableDnD.currentTable?o.tableDnD.serializeTable(o.tableDnD.currentTable):"Error: No Table id set, you need to set an id on your table and every row"},serializeTable:function(e){for(var t="",n=e.id,i=e.rows,o=0;o<i.length;o++){t.length>0&&(t+="&");var r=i[o].id;r&&r&&e.tableDnDConfig&&e.tableDnDConfig.serializeRegexp&&(r=r.match(e.tableDnDConfig.serializeRegexp)[0]),t+=n+"[]="+r}return t},serializeTables:function(){var e="";return this.each(function(){e+=o.tableDnD.serializeTable(this)}),e}},i.default.fn.extend({tableDnD:i.default.tableDnD.build,tableDnDUpdate:i.default.tableDnD.updateTables,tableDnDSerialize:i.default.tableDnD.serializeTables})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(this[0].ownerDocument||document)}})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(22),n(14),n(2),n(7)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(n,i){var o=i||e.ui.ddmanager.current,r=!1;return!(!o||(o.currentItem||o.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===o.options.scope&&i.accept.call(i.element[0],o.currentItem||o.element)&&t(o,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,n))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],o.currentItem||o.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",n,this.ui(o)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,i,o){if(!n.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=r+t.helperProportions.width,l=s+t.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,h=c+n.proportions().height;switch(i){case"fit":return u<=r&&a<=d&&c<=s&&l<=h;case"intersect":return u<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&c<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(o.pageY,c,n.proportions().height)&&e(o.pageX,u,n.proportions().width);case"touch":return(s>=c&&s<=h||l>=c&&l<=h||s<c&&l>h)&&(r>=u&&r<=d||a>=u&&a<=d||r<u&&a>d);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,o,r=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<r.length;i++)if(!(r[i].options.disabled||t&&!r[i].accept.call(r[i].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===r[i].element[0]){r[i].proportions().height=0;continue e}r[i].visible="none"!==r[i].element.css("display"),r[i].visible&&("mousedown"===s&&r[i]._activate.call(r[i],n),r[i].offset=r[i].element.offset(),r[i].proportions({width:r[i].element[0].offsetWidth,height:r[i].element[0].offsetHeight}))}},drop:function(n,i){var o=!1;return e.each((e.ui.ddmanager.droppables[n.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(n,this,this.options.tolerance,i)&&(o=this._drop.call(this,i)||o),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),o},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(n,i){n.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(n,i),e.each(e.ui.ddmanager.droppables[n.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var o,r,s,a=t(n,this,this.options.tolerance,i),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(r=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r})).length&&((o=e(s[0]).droppable("instance")).greedyChild="isover"===l)),o&&"isover"===l&&(o.isover=!1,o.isout=!0,o._out.call(o,i)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,i),o&&"isout"===l&&(o.isout=!1,o.isover=!0,o._over.call(o,i)))}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(14),n(50),n(23),n(2),n(7)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return t[i]>0||(t[i]=1,o=t[i]>0,t[i]=0,o)},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,n,i,o,r,s=this.options,a=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)o="ui-resizable-"+(t=e.trim(i[n])),r=e("<div>"),this._addClass(r,"ui-resizable-handle "+o),r.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(r);this._renderAxis=function(t){var n,i,o,r;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,o=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var n,i,o,r=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),r.containment&&(n+=e(r.containment).scrollLeft()||0,i+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,o=this.originalMousePosition,r=this.axis,s=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,o,r,s,a,l,u=this.options,c=this;return this._helper&&(o=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,r=i?0:c.sizeDiff.width,s={width:c.helper.width()-r,height:c.helper.height()-o},a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),i>r.minHeight&&(r.minHeight=i),n<r.maxWidth&&(r.maxWidth=n),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return r&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&u&&(e.left=a-t.minWidth),i&&u&&(e.left=a-t.maxWidth),s&&c&&(e.top=l-t.minHeight),o&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(o[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,o,r,s,a,l=e(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,h=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:r,a=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:s,height:a}))},resize:function(t){var n,i,o,r,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||t.shiftKey,d={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),c&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,o=t.containerPosition,r=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,u=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(r.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:u}),t._helper&&!n.animate&&/static/.test(r.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var i=e(this).resizable("instance"),o=i.options,r=i.originalSize,s=i.originalPosition,a={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};e(o.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},r=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,o=n.size,r=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,d=Math.round((o.width-r.width)/u)*u,h=Math.round((o.height-r.height)/c)*c,p=r.width+d,f=r.height+h,m=i.maxWidth&&i.maxWidth<p,g=i.maxHeight&&i.maxHeight<f,b=i.minWidth&&i.minWidth>p,v=i.minHeight&&i.minHeight>f;i.grid=l,b&&(p+=u),v&&(f+=c),m&&(p-=u),g&&(f-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-d):((f-c<=0||p-u<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),f-c>0?(n.size.height=f,n.position.top=s.top-h):(f=c-t.height,n.size.height=f,n.position.top=s.top+r.height-f),p-u>0?(n.size.width=p,n.position.left=s.left-d):(p=u-t.width,n.size.width=p,n.position.left=s.left+r.width-p))}}),e.ui.resizable})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(52),n(53),n(57),n(7)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,n){var i="iconPosition"!==t,o=i?this.options.iconPosition:n,r="top"===o||"bottom"===o;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(o),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(7)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){var t=/ui-corner-([a-z]){2,6}/g;return e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,n=[];e.each(this.options.items,function(i,o){var r,s={};if(o)return"controlgroupLabel"===i?((r=t.element.find(o)).each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(r.get()))):void(e.fn[i]&&(s=t["_"+i+"Options"]?t["_"+i+"Options"]("middle"):{classes:{}},t.element.find(o).each(function(){var o=e(this),r=o[i]("instance"),a=e.widget.extend({},s);if("button"!==i||!o.parent(".ui-spinner").length){r||(r=o[i]()[i]("instance")),r&&(a.classes=t._resolveClassesValues(a.classes,r)),o[i](a);var l=o[i]("widget");e.data(l[0],"ui-controlgroup-data",r||o[i]("instance")),n.push(l[0])}})))}),this.childWidgets=e(e.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var n=e(this).data("ui-controlgroup-data");n&&n[t]&&n[t]()})},_updateCornerClass:function(e,t){var n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(n,i){var o={};return e.each(n,function(r){var s=i.options.classes[r]||"";s=e.trim(s.replace(t,"")),o[r]=(s+" "+n[r]).replace(/\s+/g," ")}),o},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,i){var o=t[i]().data("ui-controlgroup-data");if(o&&n["_"+o.widgetName+"Options"]){var r=n["_"+o.widgetName+"Options"](1===t.length?"only":i);r.classes=n._resolveClassesValues(r.classes,o),o.element[o.widgetName](r)}else n._updateCornerClass(t[i](),i)}),this._callChildMethod("refresh"))}})})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(24),n(54),n(56),n(7)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,n,i=this,o=this._super()||{};return this._readType(),n=this.element.labels(),this.label=e(n[n.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(o.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(o.disabled=t),o},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,n="input[name='"+e.ui.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(n):e(n).filter(function(){return 0===e(this).form().length})).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(55),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var n=t.data("ui-form-reset-instances");e.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)}})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2),n(24)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.fn.labels=function(){var t,n,i,o,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),(i=this.attr("id"))&&(r=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),n="label[for='"+e.ui.escapeSelector(i)+"']",o=o.add(r.find(n).addBack(n))),this.pushStack(o))}})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},function(e,t,n){var i,o,r;!function(s){o=[n(0),n(2)],void 0!==(r="function"==typeof(i=s)?i.apply(t,o):i)&&(e.exports=r)}(function(e){return function(){function t(e,t,n){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}var i,o=Math.max,r=Math.abs,s=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,o=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=o.children()[0];return e("body").append(o),t=r.offsetWidth,o.css("overflow","scroll"),n=r.offsetWidth,t===n&&(n=o[0].clientWidth),o.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:!i&&!o?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return d.apply(this,arguments);i=e.extend({},i);var c,h,p,f,m,g,b=e(i.of),v=e.position.getWithinInfo(i.within),y=e.position.getScrollInfo(v),_=(i.collision||"flip").split(" "),C={};return g=function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(b),b[0].preventDefault&&(i.at="left top"),h=g.width,p=g.height,f=g.offset,m=e.extend({},f),e.each(["my","at"],function(){var e,t,n=(i[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",e=l.exec(n[0]),t=l.exec(n[1]),C[this]=[e?e[0]:0,t?t[0]:0],i[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===i.at[0]?m.left+=h:"center"===i.at[0]&&(m.left+=h/2),"bottom"===i.at[1]?m.top+=p:"center"===i.at[1]&&(m.top+=p/2),c=t(C.at,h,p),m.left+=c[0],m.top+=c[1],this.each(function(){var s,a,l=e(this),u=l.outerWidth(),d=l.outerHeight(),g=n(this,"marginLeft"),x=n(this,"marginTop"),w=u+g+n(this,"marginRight")+y.width,k=d+x+n(this,"marginBottom")+y.height,S=e.extend({},m),E=t(C.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?S.left-=u:"center"===i.my[0]&&(S.left-=u/2),"bottom"===i.my[1]?S.top-=d:"center"===i.my[1]&&(S.top-=d/2),S.left+=E[0],S.top+=E[1],s={marginLeft:g,marginTop:x},e.each(["left","top"],function(t,n){e.ui.position[_[t]]&&e.ui.position[_[t]][n](S,{targetWidth:h,targetHeight:p,elemWidth:u,elemHeight:d,collisionPosition:s,collisionWidth:w,collisionHeight:k,offset:[c[0]+E[0],c[1]+E[1]],my:i.my,at:i.at,within:v,elem:l})}),i.using&&(a=function(e){var t=f.left-S.left,n=t+h-u,s=f.top-S.top,a=s+p-d,c={target:{element:b,left:f.left,top:f.top,width:h,height:p},element:{element:l,left:S.left,top:S.top,width:u,height:d},horizontal:n<0?"left":t>0?"right":"center",vertical:a<0?"top":s>0?"bottom":"middle"};h<u&&r(t+n)<h&&(c.horizontal="center"),p<d&&r(s+a)<p&&(c.vertical="middle"),o(r(t),r(n))>o(r(s),r(a))?c.important="horizontal":c.important="vertical",i.using.call(this,e,c)}),l.offset(e.extend(S,{using:a}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,u=a+t.collisionWidth-s-r;t.collisionWidth>s?l>0&&u<=0?(n=e.left+l+t.collisionWidth-s-r,e.left+=l-n):e.left=u>0&&l<=0?r:l>u?r+s-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=o(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,u=a+t.collisionHeight-s-r;t.collisionHeight>s?l>0&&u<=0?(n=e.top+l+t.collisionHeight-s-r,e.top+=l-n):e.top=u>0&&l<=0?r:l>u?r+s-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,o=t.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,d=u+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((n=e.left+h+p+f+t.collisionWidth-a-s)<0||n<r(c))&&(e.left+=h+p+f):d>0&&((i=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||r(i)<d)&&(e.left+=h+p+f)},top:function(e,t){var n,i,o=t.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,d=u+t.collisionHeight-a-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];c<0?((i=e.top+h+p+f+t.collisionHeight-a-s)<0||i<r(c))&&(e.top+=h+p+f):d>0&&((n=e.top-t.collisionPosition.marginTop+h+p+f-l)>0||r(n)<d)&&(e.top+=h+p+f)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position})},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(0)),r=n(1),s=i(n(5));o.default.widget("aw.table",{OVERSCROLL_FIX:1,DEFAULT_HEADER_BORDERS:0,alwaysScrollY:!1,alwaysNoScrollY:!1,defaultElement:"<table>",isVisible:!1,colgroup:null,innerTable:null,headerRow:null,innerTableTbody:null,lastScrollY:!1,options:{scrollable:["y"],columns:{resizable:null,minWidths:null,maxWidths:null},width:null,height:null,keepColumnsTableWidth:!0},_getWidth:function(e){var t;return e.length?(t=e,e=e[0]):t=(0,o.default)(e),"none"==e.style.display?(0,r.isEmpty)(e.style.width)?0:parseInt(e.style.width):t.outerWidth()},_setWidth:function(e,t,n,i){if(0!=t){var r;e.length?(r=e,e=e[0]):r=(0,o.default)(e),void 0!=n&&null!=n||(n="none"!=e.style.display?r.outerWidth()-r.width():this.DEFAULT_HEADER_BORDERS);var s=t-n;r.width(s)}},_getHeight:function(e){return(0,o.default)(e).outerHeight()},getHeaderCellByBodyCellIndexFiltered:function(e,t){var n=this.getHeaderCellByBodyCellIndex(e,t);return null!=n&&("none"!=n.style.display&&(0,r.isEmpty)(n.attributes.colspan)&&null!=n.nextSibling||(n=null)),n},getHeaderCellByBodyCellIndex:function(e,t){for(var n=0,i=0,o=0;o<t.length;o++){var r=t[o];if(n=o+i,r.attributes.colspan){var s=0+r.attributes.colspan.value-1;if(n<=e&&e<=n+s)return r;i+=s}if(n==e)return r}return null},_initWidths:function(){var e=this;return this._getBodyFirstRowCells().map(function(t,n){return"none"==n.style.display?(0,o.default)(n).outerWidth():e._getWidth(n)}).get()},_getOriginalHeaderRow:function(){return null==this.headerRow&&(this.headerRow=this.element.find("> thead > tr:first-child").first()),0==this.headerRow.length&&(this.headerRow=0),this.headerRow},_getHeaderRow:function(){return null==this.headerRow&&(this.headerRow=this.element.parent().find(".sticky-thead > thead > tr:first-child").first()),0==this.headerRow.length&&(this.headerRow=0),this.headerRow},_getColgroup:function(){return null==this.colgroup&&(this.colgroup=this.element.find("colgroup")),0==this.colgroup.length&&(this.colgroup=null),this.colgroup},_geInnerTableTbody:function(){return null==this.innerTableTbody&&(this.innerTableTbody=this.element.find("> tbody:first")),0==this.innerTableTbody.length&&(this.innerTableTbody=null),this.innerTableTbody},_getInnerTable:function(){return null==this.innerTable&&(this.innerTable=this.element),0==this.innerTable.length&&(this.innerTable=null),this.innerTable},_getBodyFirstRow:function(){return this.element.find("> tbody tr.ui-qb-grid-row:first-child")},_getHeaderCells:function(){return this._getHeaderRow().children()},_getBodyFirstRowCells:function(){return this._getBodyFirstRow().children()},_getColgroupCells:function(){var e=this._getColgroup();return null==e?[]:e.children()},_hasScroll:function(e){var t=(0,o.default)(e);return{x:t.outerWidth()<t.prop("scrollWidth"),y:t.outerHeight()<t.prop("scrollHeight")}},_hasScrollY:function(){if(this.alwaysScrollY)return!0;if(this.alwaysNoScrollY)return!1;var e=this.element.parent()[0],t=e.offsetHeight;return 0==t&&(t=e.clientHeight),t<e.scrollHeight},updateHeaderCellWidth:function(e){var t=this;void 0==e&&(e=this._hasScrollY()),this._setTableHeaderWidth(this._getTotalWidthStatic(),e);var n=0;this._getHeaderCells().each(function(e,i){var o=e+n,r=0;if(i.attributes.colspan){for(var s=0+i.attributes.colspan.value-1,a=0;a<=s;a++)r+=t.columnWidths[o+a];n+=s}else r=t.columnWidths[o];t.columnWidths.length,t._setWidth(i,r,null,!0)})},syncTable:function(){this._syncColWidths(),this._setTableHeaderWidth()},resetTable:function(){this._getInnerTable().css("max-width","100%"),this._removeAllWidth(),this.columnWidths=this._initWidths(),this._getInnerTable().css("max-width","0px"),this._setColCellWidth(),this.updateHeaderCellWidth()},_setColCellWidth:function(){var e=this;this._getColgroupCells().each(function(t,n){e.columnWidths[t]>0&&e._setWidth(n,e.columnWidths[t])})},_removeAllWidth:function(){this._getColgroupCells().width("auto")},_fixFirstCols:function(e){},_syncColWidths:function(){var e=this,t=this._hasScrollY();if(t&&!this.lastScrollY){var n=this.element.parent().width(),i=this.element.outerWidth();if(0==i&&(i=this.element.width()),i>0&&n>0&&i<=n)for(var o=e.columnWidths[0]+e.columnWidths[1]+e.columnWidths[2],r=(this.element.parent()[0].clientWidth-o-1)/(i-o),s=3;s<e.columnWidths.length;s++)e.columnWidths[s]=e.columnWidths[s]*r}t&&(this.lastScrollY=!0),this._setColCellWidth(),e.columnWidths=this._getBodyCellWidths(),this._fixFirstCols(e.columnWidths),this.updateHeaderCellWidth(),this.element.css("max-width","0px"),this.$stickyHead.css("max-width","0px"),e.columnWidths=this._getBodyAndHeaderCellWidths(),this._fixFirstCols(e.columnWidths),this._setColCellWidth(),this.updateHeaderCellWidth(),this._setTableBodyWidth(this.columnWidths)},_getBodyAndHeaderCellWidths:function(){var e=this,t=this._getHeaderCells();return this._getBodyFirstRowCells().map(function(n,i){var r=0;r="none"==i.style.display?(0,o.default)(i).outerWidth():e._getWidth(i);var s=e.getHeaderCellByBodyCellIndexFiltered(n,t);if(s){var a=e._getWidth(s);r=Math.max(r,a)}return r}).get()},_getBodyCellWidths:function(){var e=this;return this._getBodyFirstRowCells().map(function(t,n){return"none"==n.style.display?(0,o.default)(n).outerWidth():e._getWidth(n)}).get()},_getTotalWidthStatic:function(e){void 0==e&&(e=this.columnWidths);for(var t=0,n=this._getColgroupCells(),i=0;i<e.length;i++)n.length<i&&null!=n[i]&&"none"==n[i].style.display?t+=0:t+=e[i];return t},_setTableWidth:function(e,t){void 0==e&&(e=this.columnWidths),Array.isArray(e)&&(e=this._getTotalWidthStatic(e)),this._setTableBodyWidth(e),this._setTableHeaderWidth(e,t)},_setTableBodyWidth:function(e){return},_setTableHeaderWidth:function(e,t){return},_getOuterTbody:function(){return null==this.outerTbody&&(this.outerTbody=this.element.find("> tbody")),this.outerTbody},_setBodyBounds:function(){this.element.height(),this.element.find("thead").map(function(e,t){return(0,o.default)(t).length?(0,o.default)(t).outerHeight():0}).get().reduce(function(e,t){return e+t},0)},_createColGroup:function(e){for(var t=(0,o.default)("<colgroup/>"),n=this._getBodyFirstRowCells(),i=0;i<n.length;i++){var s=(0,o.default)(n[i]),a=(0,o.default)("<col />"),l=s.attr("colspan");l=(0,r.isEmpty)(l)?1:parseInt(l),a.attr("span",l),a.attr("class",s.attr("class")),"none"==s.css("display")&&a.css("display",s.css("display"));var u=e[i];a.width(u),t.append(a)}return t},_create:function(){this._super();var e=this;this.columnWidths=[],this.resizeLock=!1;var t=this.element;this.isVisible=this.element.is(":visible"),this.sbwidth=o.default.position.scrollbarWidth(),this.size=this._parseSize(this.options.width,this.options.height),this.scrollable=this._parseScrollable(this.options.scrollable),this.columnCount=t.find("> tbody > tr").children().length,this.columns=this._parseColumns(this.options.columns),this.size={width:null!==this.size.width?this.size.width:this._getWidth(t),height:null!==this.size.height?this.size.height:this._getHeight(t)},this.innerSize={width:this.size.width-(t.outerWidth()-t.width()),height:this.size.height-(t.outerHeight()-t.height())},this.newTable();var n=t.parent().width()-3;this.columnWidths=this._initWidths();var i,r=this.$stickyHead.find("tr").outerHeight();r>0&&(i=r+"px",t.find("> thead").css({height:i})),this._getInnerTable().attr("class",t.attr("class"));var a=(0,o.default)(s.default.gridSelector+" table")[0];if(a.style.width=n+"px",a.style["min-width"]=n+"px",this.isVisible&&this._setBodyBounds(),this.hasScroll={},this.columnWidths=this._initWidths(),this._setTableWidth(this.columnWidths),this.element.find("thead").remove(),a.style.width="",a.style["min-width"]="",null!=this.columns.resizable){var l=this._getResizeableParams();this._getHeaderCells().each(function(t,n){e.columns.resizable[t]&&(0,o.default)(n).hasClass("allow-resize")&&(null!=e.columns.minWidths&&(l.minWidth=e.columns.minWidths[t]),null!=e.columns.maxWidths&&(l.maxWidth=e.columns.maxWidths[t]),(0,o.default)(n).resizable(l))})}e.hasScroll.x||(e._on(t.find("> tbody").get(0),{scroll:function(t){var n=-1*(0,o.default)(t.target).scrollLeft();e._getHeaderRow().css("left",n+"px")}}),e.hasScroll.x=!0);var u=this._createColGroup(this.columnWidths);this._geInnerTableTbody().before(u),this.syncTable()},newTable:function(){this.$w=(0,o.default)(window),this.element.hasClass("overflow-y")&&this.element.removeClass("overflow-y").parent().addClass("overflow-y"),this.$stickyHead=this.element.siblings(".sticky-thead"),this.$stickyWrap=this.element.parent(".sticky-wrap");var e=this;this.element.parent(".sticky-wrap").scroll(function(){e.repositionStickyHead()}),this.$w.scroll(function(){e.repositionStickyHead()})},repositionStickyHead:function(){this.$stickyHead.css({top:this.$stickyWrap.scrollTop()})},_destroy:function(){},_isNullorUndefined:function(e){return null===e||void 0===e},_parseSize:function(e,t){var n={};return this._isNullorUndefined(e)||!this._isPositiveNonZeroInt(e)?n.width=null:n.width=e,this._isNullorUndefined(t)||!this._isPositiveNonZeroInt(t)?n.height=null:n.height=t,n},_parseScrollable:function(e){return!0===e?{x:!0,y:!0}:"x"==e?{x:!0,y:!1}:"y"==e?{x:!1,y:!0}:o.default.isArray(e)?{x:o.default.inArray("x",e),y:o.default.inArray("y",e)}:{x:!1,y:!1}},_parseColumns:function(e){var t={};return t.resizable=this._isNullorUndefined(e)?null:this._parseResizable(e.resizable),t.minWidths=this._isNullorUndefined(e)?null:this._parseWidth(e.minWidths),t.maxWidths=this._isNullorUndefined(e)?null:this._parseWidth(e.maxWidths),t},_parseResizable:function(e){var t=[];if(this._isNullorUndefined(e))return null;if(o.default.isFunction(e))t=e();else{if(!o.default.isArray(e)){if(!0===e){for(var n=0;n<this.columnCount;n++)t[n]=!0;return t}return null}t=e}return o.default.isArray(t)&&t.length==this.columnCount&&t.every(function(e){return!0===e||!1===e})?t:null},_isInt:function(e){return+e==Math.floor(+e)},_isPositiveInt:function(e){return+e==Math.floor(+e)&&+e>=0},_isPositiveNonZeroInt:function(e){return+e==Math.floor(+e)&&+e>0},_parseWidth:function(e){var t=[];if(this._isNullorUndefined(e))return null;if(o.default.isFunction(e))t=e();else{if(!o.default.isArray(e)){if(this._isPositiveInt(e)){for(var n=+e,i=0;i<this.columnCount;i++)t[i]=n;return t}return null}t=e}var r=this;return o.default.isArray(t)&&t.length==this.columnCount&&t.every(function(e){return r._isPositiveInt(e)})?t:null},_scale:function(e,t,n){if(void 0===n){n=0;for(s=0;s<e.length;s++)n+=e[s]}for(var i=t/n,o=[],r=0,s=0;s<e.length-1;s++)o[s]=Math.round(i*e[s]),r+=o[s];return o[s]=t-r,o},resize:function(e,t){var n=this,i=this._parseSize(e,t),r=this.element;if(null!=i.width){r.css("width",e),this.size.width=i.width,this.innerSize.width=i.width-(r.outerWidth()-r.width());var s=this._getTotalWidthStatic();if(this.scrollable.x)if(this.hasScroll.x||!this.options.keepColumnsTableWidth){var a=this.hasScroll.x,l=this._hasScroll(r.parent()).x;!a&&l?(this._on(r.find("> tbody").get(0),{scroll:function(e){var t=-1*(0,o.default)(e.target).scrollLeft();n._getHeaderRow().css("left",t+"px")}}),this._setTableWidth(s),this.hasScroll.x=!0):a&&!l&&(this._off(r.find("> tbody"),"scroll"),this.hasScroll.x=!1)}else this.columnWidths=this._scale(this.columnWidths,this.innerSize.width,s),this.hasScroll.x&&(this._getInnerTable().find("tbody").css("width",""),this._getHeaderRow().width(this.innerSize.width+"px"),this._off(r.find("> tbody"),"scroll"),this.hasScroll.x=!1);else s!=this.innerSize.width&&(this.columnWidths=this._scale(this.columnWidths,this.innerSize.width,s));r.children().css("width",this.innerSize.width+"px")}null!=t&&(this.size.height=i.height,this.innerSize.height=i.height-(r.outerHeight()-r.height()),this._setBodyBounds()),this.refresh()},refresh:function(){this._syncColWidths()},body:function(e){this._getInnerTable().find("tbody").html(e),this.refresh()},_getHeaderCellsIndex:function(e){return(0,o.default)(e).index()},_getHeaderCellsIndexTrue:function(e){for(var t=this._getHeaderCells(),n=0,i=0;i<t.length;i++){var o=t[i];if(o.attributes.colspan&&(n+=0+o.attributes.colspan.value-1),o==e)break;n++}return n},_getResizeableParams:function(){var e,t,n,i,r,s,a,l,u=this,c=(this.element,[]),d=0,h=0,p=0;return{handles:"e",start:function(l,c){u.lastScrollY=!0,e=c.element,p=u._getWidth(e),n=u._getHeaderCellsIndexTrue(c.element[0]),i=u._getHeaderCellsIndexTrue(c.element[0]),a=u._getColgroupCells()[n],t=u._getBodyFirstRowCells()[i],u.resizeLock=!1,r=u._hasScrollY(),s=(0,o.default)(t).outerWidth()-(0,o.default)(t).width(),h=u._getTotalWidthStatic()},resize:function(n,o){if(!u.resizeLock){u.resizeLock=!0;var s=o.size.width-o.originalSize.width;if(s!=d){d=s;for(var f=0;f<u.columnWidths.length;f++)c[f]=u.columnWidths[f];u._setTableWidth(h+d,r),u._setWidth(a,c[i]+d),u._setWidth(t,c[i]+d),l=Math.max(u._getWidth(t),u._getWidth(e)),c[i]+d<l&&(d=l-p,u._setTableWidth(h+d,r),u._setWidth(a,c[i]+d),u._setWidth(o.element,c[i]+d),u._setTableWidth(h+d,r)),u.resizeLock=!1,c[i]+=d}}},stop:function(e,t){u.resizeLock=!1;for(var n=0;n<u.columnWidths.length;n++)u.columnWidths[n]=c[n];u.syncTable()}}}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),s=n(13),a=i(n(61)),l=i(n(15)),u=i(n(8)),c=n(1),d=n(3),h=i(n(64)),p=i(n(65)),f=i(n(72)),m=i(n(73)),g=i(n(75)),b=i(n(27)),v=i(n(81)),y=i(n(82)),_=i(n(5)),C=i(n(6)),x=n(4),w=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.SessionID=e.attr("SessionID"),i._language=e.attr("language")||"Auto",i.Events=t.Events,i.SQL=null,i.SyntaxProviderData={},i.QueryStructure=null,i.SQLError=null,i._pingCount=0,u.default.setHandlerPath(e.attr("HandlersPath")),u.default.setInitPath((0,r.default)(e).attr("reiniturl")),u.default.loadStrings(i._language,function(t){this.Localizer=t,this.MetaData=new h.default(t),this._init(e),"function"==typeof n&&n()}.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x),o(t,[{key:"clientSQL",get:function(){if(this.EditorComponent)return this.EditorComponent.getSql()}},{key:"QBTRIAL",get:function(){return"true"===this.element.attr("trial")}}]),t}();w.prototype._init=function(e){this.element=e,this._disableSessionKeeper=e.hasAttr("disableSessionKeeper"),this._useDefaultTheme=this._calcUseDefaultTheme(e),this._disableSessionKeeper||this.startPing(),this._initControls(),this._initEvents()},w.prototype._initEvents=function(){this.CanvasComponent&&this._initCanvasEvents(),this.GridComponent&&this._initGridEvents(),this.NavBarComponent&&this._initNavBarEvents(),this.TreeViewComponent&&this._initTreeViewEvents(),this.EditorComponent&&this._initEditorEvents(),this.ActiveSubQueryEditorComponent&&this._initActiveSubQueryEditorEvents(),this.ActiveUnionSubQueryEditorComponent&&this._initActiveUnionSubQueryEditorEvents(),this._initCoreEvents()},w.prototype._initCanvasEvents=function(){this.CanvasComponent.on(p.default.Events.CanvasOnAddTable,this._onAddTableToCanvas.bind(this)),this.CanvasComponent.on(p.default.Events.CanvasOnRemoveTable,this._onRemoveObjectFromCanvas.bind(this)),this.CanvasComponent.on(p.default.Events.CanvasOnMoveTable,this._onMoveObject.bind(this)),this.CanvasComponent.on(p.default.Events.CanvasOnTrashTable,this._onTrashObjectFromCanvas.bind(this)),this.CanvasComponent.on(p.default.Events.CanvasOnAddTableField,this._onAddTableFieldToCanvas.bind(this)),this.CanvasComponent.on(p.default.Events.CanvasOnAddUserQuery,this._onAddUserQueryToCanvas.bind(this)),this.CanvasComponent.on(p.default.Events.CanvasContextMenuCommand,this._onCanvasContextMenuCommand.bind(this)),this.CanvasComponent.on(l.default.Events.CanvasLinkOnChanged,this._onCanvasLinkChanged.bind(this))},w.prototype._initGridEvents=function(){this.GridComponent.on(m.default.Events.GridOnRowChanged,this._onGridRowChanged.bind(this)),this.GridComponent.on(m.default.Events.GridOnAddRow,this._onGridRowAdded.bind(this)),this.GridComponent.on(m.default.Events.GridOnRemoveRow,this._onGridRowRemoved.bind(this)),this.GridComponent.on(m.default.Events.GridOnAddTable,this._onAddTableToCanvas.bind(this)),this.GridComponent.on(m.default.Events.GridOnAddTableField,this._onAddTableFieldToCanvas.bind(this))},w.prototype._initEditorEvents=function(){var e=this.EditorComponent;e.on(y.default.Events.onChange,this._onEditorChange.bind(this)),e.on(y.default.Events.onRefresh,this.refreshSql.bind(this)),e.on(y.default.Events.onClear,this.clearSql.bind(this))},w.prototype._initActiveSubQueryEditorEvents=function(){var e=this.ActiveSubQueryEditorComponent;e.on(y.default.Events.onChange,this._onEditorChange.bind(this)),e.on(y.default.Events.onRefresh,this._refreshActiveSubQuerySql.bind(this)),e.on(y.default.Events.onClear,this.clearSql.bind(this))},w.prototype._initActiveUnionSubQueryEditorEvents=function(){var e=this.ActiveUnionSubQueryEditorComponent;e.on(y.default.Events.onChange,this._onEditorChange.bind(this)),e.on(y.default.Events.onRefresh,this._refreshActiveUnionSubQuerySql.bind(this)),e.on(y.default.Events.onClear,this.clearSql.bind(this))},w.prototype._initTreeViewEvents=function(){this.TreeViewComponent.on(g.default.Events.TreeDoubleClickNode,this._onTreeDoubleClick.bind(this))},w.prototype._initNavBarEvents=function(){this.NavBarComponent.on(b.default.Events.BreadCrumbSelectNode,this._onBreadCrumbClick.bind(this)),this.NavBarComponent.on(b.default.Events.TreeStructureSelectNode,this._onTreeStructureClick.bind(this)),this.NavBarComponent.on(b.default.Events.NavBarAction,this._onNavBarAction.bind(this))},w.prototype._initCoreEvents=function(){s.Core.on(s.Core.Events.SQLEErrorReceived,this._importSQLEError.bind(this)),s.Core.on(s.Core.Events.ContextMenuReceived,this._importContextMenu.bind(this)),s.Core.on(s.Core.Events.DataReceived,this._onDataReceived.bind(this))},w.prototype._onCanvasLinkChanged=function(e){var t=e.dto();s.Core.updateLink(t),s.Core.sendDataToServer(this)},w.prototype._onAddTableFieldToCanvas=function(e){var t=e.table,n=e.field,i=e.coordinates,o=this.CanvasComponent.findTableByFullName(e.tableName);null==o&&(e.procParam?t.procParam=e.procParam:o=this.CanvasComponent.findTableByName(e.tableName));var s=null,a="";null!=n&&(s=n.NameStr),(0,c.isEmpty)(s)&&(s=e.fieldName),(0,c.isEmpty)(s)||(a=s.substr(s.lastIndexOf(".")+1)),null==o?(t.Fields.length>0?r.default.each(t.Fields,function(e,t){(0,c.strcmp)(t.NameStr,a)&&(t.IsSelected=!0)}):((n=new d.Dto.MetadataFieldDto).NameStr=a,n.IsSelected=!0,t.Fields=[n]),this._onAddTableToCanvas({object:t,coordinates:i,isProc:e.isProc})):o.checkFieldInternal(a,!0,!0)},w.prototype._onAddTableToCanvas=function(e){var t=this,n=e.object,i=this.CanvasComponent._addObject(e),o=(0,r.default)(i).data("me");null!=o&&(n.TempId=o.TempId),this.CanvasComponent.emit(p.default.Events.MetadataObjectAdded,i),e.coordinates&&e.coordinates.length>=2?(n.X=e.coordinates[0],n.Y=e.coordinates[1]):i.offsetTop&&i.offsetLeft&&(n.X=i.offsetLeft,n.Y=i.offsetTop),!1===e.delayed?(n.SessionID=this.SessionID,u.default.addDataSource(n)):(s.Core.addDataSource(n),s.Core._sendDataToServerDelayed(t))},w.prototype._onAddUserQueryToCanvas=function(e){this.CanvasComponent._addObject(e),u.default.addUserQuery(e.query,this.SessionID,e.coordinates,e.width,e.height)},w.prototype._onRemoveObjectFromCanvas=function(e){var t=e.getData("metaDataObject");t.Index===this._propertiesForms.getCurrentObj().Index&&this._waitAndLoadFormForActiveUnion();var n={SessionID:this.SessionID,Index:t.Index,DataSourceType:t.DataSourceType};u.default.removeDataSource(n)},w.prototype._onMoveObject=function(e){var t=this.CanvasComponent.getLayoutDto(e),n=e.getData("metaDataObject"),i={SessionID:this.SessionID,Index:n.Index,DataSourceType:n.DataSourceType,X:t.X,Y:t.Y,Width:t.Width,Height:t.Height};u.default.moveDataSource(i)},w.prototype._onTrashObjectFromCanvas=function(e){var t=e.getData("metaDataObject"),n={SessionID:this.SessionID,index:t.Index};u.default.removeCte(n)},w.prototype._onGridRowAdded=function(e){this.emit(this.Events.GridOnRowAdding,e),this._addGridRow(e.dto()),this.emit(this.Events.GridOnRowAdded,e)},w.prototype._addGridRow=function(e){e.SessionID=this.SessionID,e.isNew=!0,u.default.addGridRow(e)},w.prototype._onGridRowRemoved=function(e){var t=e.dto(),n=t.Expression.indexOf(".");if(!(0,c.isEmpty)(t.Expression)&&-1!==n){var i=t.Expression.substr(0,n),o=t.Expression.substr(n+1),r=this.CanvasComponent.findTableByName(i);null!=r&&r.checkFieldInternal(o,!1)}t.SessionID=this.SessionID,u.default.removeGridRow(t),this.emit(this.Events.GridOnRowRemoved,e)},w.prototype.getTableFieldExpression=function(e,t){var n=(0,c.isEmpty)(e.NameInQuery)?e.Name:e.NameInQuery;return n+="."+t.NameStr},w.prototype._onLinkCreate=function(e){s.Core.addLink(e),s.Core.sendDataToServer(this)},w.prototype._onDataSourceSubQueryClick=function(e){var t=e.metaDataObject;if(!t.IsSubQuery&&!t.IsCTE)throw new Error("metaDataObject");var n={SessionID:this.SessionID,Index:t.Index};u.default.setUnionSubQueryFromDataSource(n)},w.prototype._highlightDataSource=function(e){var t=this.CanvasComponent.objectsContainer,n=e.getWidth(),i=e.getHeight(),o=t.width(),r=t.height(),s=e.element[0].offsetTop,a=e.element[0].offsetLeft;if(a<t.scrollLeft()||s<t.scrollTop()||a+n>t.scrollLeft()+o||s+i>t.scrollTop()+r){return t.animate({scrollLeft:a,scrollTop:s},500),setTimeout(function(){e.blink()},750)}e.blink()},w.prototype._onLinkedObjectSelected=function(e){var t=e.link,n=e.dataSource,i=this._findExistingDataSource(t,n);if(i)return this._highlightDataSource(i);var o={delayed:!1};t.dataSourceIndex=n.mdo.Index,null==t.DataSource?o.object={Caption:t.Caption,Name:t.Name,Link:t,IsNew:!0,TempId:(0,c.getTempId)()}:(t.DataSource.Link=t,o.object=t.DataSource),this._onAddTableToCanvas(o)},w.prototype._findExistingDataSource=function(e,t){var n=this.CanvasComponent.findTablesByFullName(e.MetadataName).filter(function(e){return e!==t});if(0!==n.length)for(var i=this.links.findByDataSource(t),o=0;o<i.length;o++){var r=i[o],s=this._checkExistingDataSources(e,r,t,n);if(s)return s}},w.prototype._checkExistingDataSources=function(e,t,n,i){var o=t.Left.getDataSource(),r=t.Right.getDataSource();if(this._checkExistingDataSource(o,i))if(e.Direction){if(this._checkExistingFields(t.Left.FieldName,e.LeftFields))return o}else if(this._checkExistingFields(t.Left.FieldName,e.RightFields))return o;if(this._checkExistingDataSource(r,i))if(e.Direction){if(this._checkExistingFields(t.Right.FieldName,e.LeftFields))return r}else if(this._checkExistingFields(t.Right.FieldName,e.RightFields))return r},w.prototype._checkExistingDataSource=function(e,t){return-1!==t.indexOf(e)},w.prototype._checkExistingFields=function(e,t){return-1!==t.indexOf(e)},w.prototype._onCheckFieldInTable=function(e){var t={SessionID:this.SessionID,dataSourceIndex:e.table.Index,nameFull:e.field.object.NameFull};u.default.checkDataSourceField(t)},w.prototype._onCheckAllFieldsInTable=function(e){var t={SessionID:this.SessionID,index:e.table.Index,allFieldsSelected:e.checked};u.default.checkAllFields(t)},w.prototype._onDblClickFieldInTable=function(e){if(this.GridComponent){this.GridComponent.addOrUpdateRow(e.field).getCell(this.MetaData.FieldParamType.condition)._cellEditStart()}},w.prototype._onAddUserField=function(e){this._sendUserField(e,{IsNew:!0})},w.prototype._onEditUserField=function(e){this._propertiesForms.loadByUserField(e.field)},w.prototype._onRemoveUserField=function(e){var t=this._propertiesForms.getCurrentObj();t.hasOwnProperty("field")&&e.field.MetadataFullName===t.field.MetadataFullName&&this._waitAndLoadFormForActiveUnion(),this._sendUserField(e.table,{field:e.field.NameFull,IsDeleted:!0})},w.prototype._sendUserField=function(e,t){var n=(0,c.mergeObj)({},e);n.UserFields=[t],s.Core.ExchangeObject.Canvas.DataSources.push(n),s.Core.sendDataToServer(this)},w.prototype._onEditorChange=function(){this.emit(this.Events.SQLTextChanged,this.clientSQL)},w.prototype.clearSql=function(){this.setSql("")},w.prototype.restoreLastGoodSql=function(){this.setSql(this.lastGoodSQL)},w.prototype.setSql=function(e,t){this.SQL!==e&&(this.EditorComponent.setSql(e),this._setSql(e,0,t))},w.prototype.setActiveSubQuerySql=function(e,t){this.ActiveSubQueryEditorComponent.setSql(e),this._setSql(e,1,t)},w.prototype.setActiveUnionSubQuerySql=function(e,t){this.ActiveUnionSubQueryEditorComponent.setSql(e),this._setSql(e,2,t)},w.prototype._setSql=function(e,t,n){u.default.setSql({SessionID:this.SessionID,TargetQueryPart:t,SQL:e},n)},w.prototype._onTreeDoubleClick=function(e){this.CanvasComponent&&(e.fieldName?this._onAddTableFieldToCanvas(e):this._onAddTableToCanvas({object:e,isProc:e.isProc,isHelper:!0}))},w.prototype.switchToQueryRoot=function(e){u.default.switchToQueryRoot({SessionID:this.SessionID},e)},w.prototype._onTreeStructureClick=function(e){this._changeActiveSubQueryByPath(e.Path)},w.prototype._onBreadCrumbClick=function(e){this._changeActiveSubQueryByPath(e.Path)},w.prototype._changeActiveSubQueryByPath=function(e,t){var n={SessionID:this.SessionID,path:e};u.default.changeActiveSubQueryByPath(n,t)},w.prototype.changeActiveUnionSubQuery=function(e,t){if(this.ActiveUnionSubQuery!==e){var n={SessionID:this.SessionID,guid:e};u.default.changeActiveUnionSubQuery(n,t)}},w.prototype.changeActiveUnionSubQueryByIndex=function(e,t){var n={SessionID:this.SessionID,index:e};u.default.changeActiveUnionSubQueryByIndex(n,t)},w.prototype.addUnionSubQuery=function(e){var t={SessionID:this.SessionID};u.default.addUnionSubQuery(t,e)},w.prototype.addDerivedTable=function(e){var t={SessionID:this.SessionID};u.default.addDerivedTable(t,e)},w.prototype.addNewNamedSubQuery=function(e){var t={SessionID:this.SessionID};u.default.addNewNamedSubQuery(t,e)},w.prototype._addNamedSubQuery=function(e,t){var n={SessionID:this.SessionID,path:e.Path};u.default.addNamedSubQueryByPath(n,t)},w.prototype._removeActiveUnionSubQuery=function(e){var t={SessionID:this.SessionID};u.default.removeActiveUnionSubQuery(t,e)},w.prototype._removeUnionSubQuery=function(e,t){var n={SessionID:this.SessionID,guid:e};u.default.removeUnionSubQuery(n,t)},w.prototype._removeUnionSubQueryByIndex=function(e,t){var n={SessionID:this.SessionID,index:e};u.default.removeUnionSubQueryByIndex(n,t)},w.prototype.copyUnionSubQuery=function(e,t){var n={SessionID:this.SessionID,guid:e};u.default.copyUnionSubQuery(n,t)},w.prototype.copyUnionSubQueryByIndex=function(e,t){var n={SessionID:this.SessionID,index:e};u.default.copyUnionSubQueryByIndex(n,t)},w.prototype._encloseWithBrackets=function(e,t){var n={SessionID:this.SessionID,guid:e};u.default.encloseWithBrackets(n,t)},w.prototype._encloseWithBracketsByIndex=function(e,t){var n={SessionID:this.SessionID,index:e};u.default.encloseWithBracketsByIndex(n,t)},w.prototype._moveOutOfBrackets=function(e,t){var n={SessionID:this.SessionID,guid:e};u.default.moveOutOfBrackets(n,t)},w.prototype._moveOutOfBracketsByIndex=function(e,t){var n={SessionID:this.SessionID,index:e};u.default.moveOutOfBracketsByIndex(n,t)},w.prototype._moveUnionSubQueryToEnd=function(e,t,n){var i={SessionID:this.SessionID,guid:e,moveInfo:t};u.default.moveUnionSubQueryToEnd(i,n)},w.prototype._moveUnionSubQueryBeforeSubQuery=function(e,t,n){var i={SessionID:this.SessionID,guid:e,moveInfo:t};u.default.moveUnionSubQueryBeforeSubQuery(i,n)},w.prototype._changeUnionSubQueryOperator=function(e,t,n){var i={SessionID:this.SessionID,guid:e,operator:t};u.default.changeUnionSubQueryOperator(i,n)},w.prototype._changeUnionSubQueryOperatorByIndex=function(e,t,n){var i={SessionID:this.SessionID,index:e,operator:t};u.default.changeUnionSubQueryOperatorByIndex(i,n)},w.prototype._onCanvasContextMenuCommand=function(e){var t=e.action;if("new-union-sub-query"===t)this.addUnionSubQuery();else if("add-derived-table"===t)this.addDerivedTable();else if("remove"===t)this._removeActiveUnionSubQuery();else if("add-cte-new"===t)this.addNewNamedSubQuery();else if("add-cte-query"===t)this._addNamedSubQuery(e.cte);else if("copy-union-sub-query"===t)this.copyUnionSubQuery();else if("enclose-with-brackets"===t)this._encloseWithBrackets();else{var n=e.item||{};s.Core.ExchangeObject.ContextMenu.Action=t,s.Core.ExchangeObject.ContextMenu.Data=n.data||e.data||this.ActiveUnionSubQuery,s.Core.sendDataToServer(this)}},w.prototype._onNavBarAction=function(e){var t=e.Key,n=e.Guid,i=e.Data,o=e.Index;"NewUnionSubQuery"===t?this.addUnionSubQuery():"SelectUnionSubQuery"===t?this.changeActiveUnionSubQueryByIndex(o):"RemoveUnionSubQuery"===t?this._removeUnionSubQueryByIndex(o):"EncloseWithBrackets"===t?this._encloseWithBracketsByIndex(o):"MoveOutOfBrackets"===t?this._moveOutOfBracketsByIndex(o):"CopyToNewUnionSubQuery"===t?this.copyUnionSubQueryByIndex(o):"MoveUnionSubQueryToEnd"===t?this._moveUnionSubQueryToEnd(n,i):"MoveUnionSubQueryBeforeSubQuery"===t?this._moveUnionSubQueryBeforeSubQuery(n,i):"ChangeUnionSubQueryOperator"===t.split("-")[0]?this._changeUnionSubQueryOperator(n,t.split("-")[1]):(s.Core.ExchangeObject.UnionSubQueryActions.push(e),s.Core.sendDataToServer(this))},w.prototype._onGridRowChanged=function(e){function t(t,n){var i,r,s,u,d=n.dto();switch(d.AfterCustomEdit=e.afterCustomEdit,d.ChangedCellIndex=o,o){case this.MetaData.FieldParamType.selected:i=d.Expression,(0,c.isEmpty)(i)||-1===i.indexOf(".")||(r=i.substr(0,i.indexOf(".")),s=i.substr(i.indexOf(".")+1),null!==(u=this.CanvasComponent.findTableByName(r))&&u.checkFieldInternal(s,l)),t.push(d);break;case this.MetaData.FieldParamType.expression:var h=d.Select;(0,c.isEmpty)(a)&&a!==l&&(h=!0,d.Select=!0),i=a,(0,c.isEmpty)(i)||-1===i.indexOf(".")||(r=i.substr(0,i.indexOf(".")),s=i.substr(i.indexOf(".")+1),null!=(u=this.CanvasComponent.findTableByName(r))&&u.checkFieldInternal(s,!1)),i=l,h&&!(0,c.isEmpty)(i)&&-1!==i.indexOf(".")&&(r=i.substr(0,i.indexOf(".")),s=i.substr(i.indexOf(".")+1),null!=(u=this.CanvasComponent.findTableByName(r))&&u.checkFieldInternal(s,h)),t.push(d);break;case this.MetaData.FieldParamType.sorting:case this.MetaData.FieldParamType.sortingOrder:for(var p=this.GridComponent.getAllRows(),f=0;f<p.length;f++)t.push(p[f].dto());break;default:null==o?d.NewIndex=n.element.index():o>this.MetaData.FieldParamType.condition&&(d.ChangedCellIndex=this.MetaData.FieldParamType.condition),t.push(d)}}var n=this;this.emit(this.Events.GridOnRowChanging,e);var i=e.row,o=e.key,a=e.oldValue,l=e.newValue,u=[];t.call(this,u,i),e.markedRows&&r.default.each(e.markedRows,function(e,i){t.call(n,u,i)}),s.Core.updateGridRows(u),e.delayed?s.Core._sendDataToServerDelayed(this):s.Core.sendDataToServer(this),this.emit(this.Events.GridOnRowChanged,e)},w.prototype.refreshSql=function(e){this.SQLError=null,this.setSql(this.clientSQL,e),this.emit(this.Events.RefreshSQLClick)},w.prototype._refreshActiveSubQuerySql=function(e){this.SQLError=null;var t=this.ActiveSubQueryEditorComponent.getSql();this.setActiveSubQuerySql(t,e),this.emit(this.Events.RefreshSQLClick)},w.prototype._refreshActiveUnionSubQuerySql=function(e){this.SQLError=null;var t=this.ActiveUnionSubQueryEditorComponent.getSql();this.setActiveUnionSubQuerySql(t,e),this.emit(this.Events.RefreshSQLClick)},w.prototype.update=function(e){u.default.update({SessionID:this.SessionID},e)},w.prototype.fullUpdate=function(e){u.default.fullUpdate({SessionID:this.SessionID},e)},w.prototype.undo=function(){u.default.undo({SessionID:this.SessionID})},w.prototype.wrapToDerivedTable=function(){u.default.wrapToDerivedTable({SessionID:this.SessionID})},w.prototype._initControls=function(){this.initControls(),this.CanvasComponent&&this._initLinks(),(0,r.default)(".qb-ui-layout")&&(0,r.default)(".qb-ui-layout").prepend('<div class="qb-ui-overlay">')},w.prototype.initControls=function(){this.TreeViewComponent=this._initControl(g.default,_.default.treeViewSelector),this.NavBarComponent=this._initControl(b.default,_.default.navbarSelector),this.CanvasComponent=this._initControl(p.default,_.default.canvasSelector),this.GridComponent=this._initControl(m.default,_.default.gridSelector),this.StatusBarComponent=this._initControl(f.default,_.default.statusBarSelector),this.UserQueriesComponent=this._initControl(v.default,_.default.userQueriesSelector),this.EditorComponent=this._initEditorControl("Query"),this.ActiveSubQueryEditorComponent=this._initEditorControl("SubQuery"),this.ActiveUnionSubQueryEditorComponent=this._initEditorControl("UnionSubQuery"),this.CanvasComponent&&(this._propertiesForms=this.CanvasComponent.propertiesFormsContainer)},w.prototype._initControl=function(e,t){var n=(0,c.getControl)(t,this.SessionID);if(n)return new e(n,this)},w.prototype._initEditorControl=function(e){var t=(0,c.getEditorControl)(_.default.editorSelector,this.SessionID,e);if(t)return new y.default(t,this)},w.prototype._initLinks=function(){this.links=new a.default(this),this.links.on("centerButtonClick",function(e,t){this.CanvasComponent.selectLink(t),C.default.showForElement(t.graphics.line,e.clientX,e.clientY),e.preventDefault()}.bind(this)),this.links.on("lineClick",function(e,t){this.CanvasComponent.selectLink(t)}.bind(this))},w.prototype.resetLayout=function(){this.CanvasComponent&&(this.CanvasComponent._importObjects(),this.CanvasComponent._importLinks(),this.CanvasComponent.resetLayout()),this.GridComponent&&(this.GridComponent.updateExpression(this.getDataSources()),this.GridComponent.resetTable()),this.EditorComponent&&this.EditorComponent.reset(!1)},w.prototype.show=function(){var e=this;this.TreeViewComponent&&this.TreeViewComponent.show(),this.NavBarComponent&&this.NavBarComponent.show(),this.CanvasComponent&&this.CanvasComponent.show(),this.GridComponent&&this.GridComponent.show(),this.UserQueriesComponent&&this.UserQueriesComponent.show(),this.EditorComponent&&this.EditorComponent.show(),setTimeout(function(){return e.resetLayout()},0)},w.prototype.hide=function(){this.TreeViewComponent&&this.TreeViewComponent.hide(),this.NavBarComponent&&this.NavBarComponent.hide(),this.CanvasComponent&&this.CanvasComponent.hide(),this.StatusBarComponent&&this.StatusBarComponent.hide(),this.GridComponent&&this.GridComponent.hide(),this.UserQueriesComponent&&this.UserQueriesComponent.hide(),this.EditorComponent&&this.EditorComponent.hide()},w.prototype._versionToNumber=function(e){return Number(e.replace(/(\.|^)(\d)(?=\.|$)/g,"$10$2").replace(/(\d+)\.(?:(\d+)\.*)/,"$1.$2"))},w.prototype.droppableGetTopElement=function(){return this.d_topElement},w.prototype._droppableDetermineTopElement=function(){for(var e,t=0,n=0;n<this.d_hoveringOverElements.length;n++){var i=(0,r.default)('*[top-droppable-id=" + this.d_hoveringOverElements[i] + "]'),o=Number((0,r.default)(i).parents(".qb-ui-table:eq(0)").css("z-index"));o>t&&(t=o,e=i)}return e},w.prototype.droppableOver=function(e){this.d_hoveringOverElements.push(this.d_i),(0,r.default)(e).attr("top-droppable-id",this.d_i),this.d_i++,this.d_topElement=this._droppableDetermineTopElement()},w.prototype.droppableOut=function(e){var t=this.d_hoveringOverElements.indexOf(parseInt((0,r.default)(e).attr("top-droppable-id")));this.d_hoveringOverElements.splice(t,1),this.d_topElement=this._droppableDetermineTopElement()},w.prototype.droppableClear=function(){this.d_hoveringOverElements=[],this.d_topElement=null,this.d_i=0},w.prototype.setUserData=function(e){s.Core.setUserData(e),s.Core.sendDataToServer()},w.prototype.dispose=function(e){null==e||!0===e?u.default.dispose({SessionID:this.SessionID},this._dispose.bind(this)):this._dispose()},w.prototype._dispose=function(){AQB.Web.QueryBuilderContainer.remove(this.SessionID),this.element.empty();for(var e in this)this._disposeProperty(e)},w.prototype._disposeProperty=function(e){this[e]&&this[e].dispose&&this[e].dispose(),delete this[e]},w.prototype.setEditor=function(e){this.EditorComponent&&this.EditorComponent.setEditor(e)},w.prototype.showOverlay=function(e){(0,r.default)(".qb-ui-overlay__message").html(e),(0,r.default)(".qb-ui-overlay").show(),this.CanvasComponent&&this.CanvasComponent.element.css("overflow","hidden")},w.prototype.hideOverlay=function(){(0,r.default)(".qb-ui-overlay__message").empty(),(0,r.default)(".qb-ui-overlay").hide(),this.CanvasComponent&&this.CanvasComponent.element.css("overflow","auto")},w.prototype.validateExpression=function(e,t){u.default.validateExpression({expression:e},this.SessionID,t)},w.prototype.validateCondition=function(e,t){u.default.validateExpression({condition:e},this.SessionID,t)},w.prototype._importQueryStructure=function(e){this.QueryStructure=e,this.NavBarComponent&&(this.NavBarComponent.buildTree(this.QueryStructure),this.NavBarComponent.updateBreadcrumb(this.QueryStructure),this.NavBarComponent.updateCtes(this.QueryStructure.ContextItems))},w.prototype._importContextMenu=function(e){this.CanvasComponent&&this.CanvasComponent._updateContextMenu(e.Canvas,e.CanvasLink,e.Table,e.TableCTE),this.GridComponent&&this.GridComponent._updateContextMenu(e.Grid)},w.prototype._importSQLEError=function(e){if(this.SQLError=e,this.emit(this.Events.SqlError,this,e),null!=e&&!(0,c.isEmpty)(e.Message))switch(e.TargetQueryPart){case 0:this.EditorComponent&&this.EditorComponent.showError(e);break;case 1:this.ActiveSubQueryEditorComponent&&this.ActiveSubQueryEditorComponent.showError(e);break;case 2:this.ActiveUnionSubQueryEditorComponent&&this.ActiveUnionSubQueryEditorComponent.showError(e)}},w.prototype.clearSqlError=function(){this.EditorComponent&&this.EditorComponent.clearError(),this.ActiveSubQueryEditorComponent&&this.ActiveSubQueryEditorComponent.clearError(),this.ActiveUnionSubQueryEditorComponent&&this.ActiveUnionSubQueryEditorComponent.clearError()},w.prototype._onDataReceived=function(e){new Date;null!=e&&(e.SessionID!==this.SessionID||e.SQLEditorError||(null!=e.SQL&&this._importSQL(e.SQL),null!=e.ActiveSubQuerySQL&&this._importActiveSubQuerySQL(e.ActiveSubQuerySQL),null!=e.ActiveUnionSubQuery&&this._importActiveUnionSubQuery(e.ActiveUnionSubQuery),e.TreeView&&this.TreeViewComponent&&this.TreeViewComponent.importData(e.TreeView),null!=e.SyntaxProviderData&&this._importSyntaxProviderData(e),e.NavBar&&this.NavBarComponent&&this.NavBarComponent.updateUnions(e.NavBar.Items),e.QueryStructure&&this._importQueryStructure(e.QueryStructure),e.Canvas&&this.CanvasComponent&&this._importCanvas(e.Canvas),e.Grid&&this.GridComponent&&this._importGrid(e.Grid),null!=e.QueryParams&&(this.queryParams=e.QueryParams),e.PropertiesForms&&this.CanvasComponent&&this._propertiesForms.fill(e.PropertiesForms),e.UserQueries&&this.UserQueriesComponent&&this.UserQueriesComponent.fill(e.UserQueries),this.StatusBarComponent&&(e.Message?this.StatusBarComponent.messageText(e.Message.Text,e.Message.Class):this.StatusBarComponent.hide()),this.UserObjectsSQL=e.UserObjectsSQL,this.hideOverlay()))},w.prototype._importCanvas=function(e){this.CanvasComponent.importData(e)},w.prototype._importGrid=function(e){var t=this;this.GridComponent.importDto(e),setTimeout(function(){return t.GridComponent.updateExpression(t.getDataSources())},4)},w.prototype._importSyntaxProviderData=function(e){this.SyntaxProviderData=e.SyntaxProviderData,this.NavBarComponent.enableUnions(e.SyntaxProviderData.IsSupportUnions),this.NavBarComponent.enableCte(e.SyntaxProviderData.IsSupportCTE),this.GridComponent&&this.GridComponent.updateAggregateColumn()},w.prototype._importSQL=function(e){this.EditorComponent&&this.EditorComponent.setSql(e),this.SQL!==e&&this.emit(this.Events.SqlChanged,this),this.SQL=this.lastGoodSQL=e,this.clearSqlError()},w.prototype._importActiveSubQuerySQL=function(e){this.activeSubQuerySQL=e,this.ActiveSubQueryEditorComponent&&this.ActiveSubQueryEditorComponent.setSql(e)},w.prototype._importActiveUnionSubQuery=function(e){this.activeUnionSubQuerySQL=e.SQL,this.ActiveUnionSubQueryEditorComponent&&this.ActiveUnionSubQueryEditorComponent.setSql(e.SQL),this.ActiveUnionSubQuery!==e.Guid&&(this.ActiveUnionSubQuery=e.Guid,this.emit(this.Events.ActiveUnionSubQueryChanged,e.SQL))},w.prototype.startPing=function(){var e=this;setTimeout(function t(){u.default.ping(function(n){!0===n&&++e._pingCount<3&&setTimeout(t,3e5)})},3e5)},w.prototype.getDataSources=function(){if(this.CanvasComponent)return this.CanvasComponent.getDataSources()},w.prototype.getLinks=function(){return this.links.links},w.prototype.getQueryColumnList=function(){if(this.GridComponent)return this.GridComponent.getAllRows()},w.prototype._reinit=function(e){this.showOverlay(this.Localizer.Strings.SessionRestored),this._events[this.Events.SessionExpired]?this.emit(this.Events.SessionExpired,this.SessionID,e):e()},w.prototype._calcUseDefaultTheme=function(e){var t=e.hasAttr("useDefaultTheme");return t||(0,r.default)(".qb-widget-header").removeClass("qb-widget-header"),t},w.prototype._waitAndLoadFormForActiveUnion=function(){var e=function(){this._propertiesForms.loadActiveUnionSubQuery(),s.Core.removeListener(s.Core.Events.SyncFinished,e)}.bind(this);s.Core.on(s.Core.Events.SyncFinished,e)},w.Events={SqlChanged:"SqlChanged",SqlError:"SqlError",SQLTextChanged:"SQLTextChanged",RefreshSQLClick:"RefreshSQLClick",GridOnRowChanging:"GridOnRowChanging",GridOnRowChanged:"GridOnRowChanged",GridOnRowAdding:"GridOnRowChanged",GridOnRowAdded:"GridOnRowChanged",GridOnRowRemoved:"GridOnRowChanged",SessionExpired:"SessionExpired",ActiveUnionSubQueryChanged:"ActiveUnionSubQueryChanged"},t.default=w},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=(n(3),i(n(15))),s=n(4),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._app=e,n.links=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),t}();t.default=a,a.prototype.createLink=function(e){var t=this,n=new r.default(e,this._app);return n._onCenterClick=function(e){return t.emit("centerButtonClick",e,n)},n._onLineClick=function(e){return t.emit("lineClick",e,n)},this.push(n),n},a.prototype.updateLink=function(e,t){e.dto(t)},a.prototype.draw=function(){setTimeout(function(){o.default.each(this.links,function(e,t){t.draw()})}.bind(this),50)},a.prototype.push=function(e){this.links.push(e)},a.prototype.getByDto=function(e,t){for(var n=this.links.length-1;n>=0;n--){var i=this.links[n];if(this._compareLinkWithDto(i,e,t))return i}return null},a.prototype._compareLinkWithDto=function(e,t,n){return!(!e.Left||!e.Right)&&(e.Left.dataSource.mdo.NameInQuery===t.DataSourceName&&(e.Right.dataSource.mdo.NameInQuery===n.DataSourceName&&(e.Left.FieldName===t.FieldName&&e.Right.FieldName===n.FieldName)))},a.prototype.disposeByDataSource=function(e){for(var t=this.links.length-1;t>=0;t--){var n=this.links[t];n.Left.getDataSource()!==e&&n.Right.getDataSource()!==e||this.disposeByIndex(t)}},a.prototype.disposeByTableIndex=function(e){for(var t=this.links.length-1;t>=0;t--){var n=this.links[t];null!=n.Left&&null!=n.Right&&(n.Left.DataSourceIndex!=e&&n.Right.DataSourceIndex!=e||this.disposeByIndex(t))}},a.prototype.clear=function(){for(var e=this.links.length-1;e>=0;e--)this.disposeByIndex(e)},a.prototype.disposeAllMarked=function(){for(var e=this.links.length-1;e>=0;e--)this.links[e].ToDelete&&this.disposeByIndex(e)},a.prototype.disposeByIndex=function(e){this.links[e].dispose(),this._disposeFromArray(e)},a.prototype.disposeLink=function(e){e.dispose(),this._disposeFromArray(this.links.indexOf(e))},a.prototype._disposeFromArray=function(e){this.links.splice(e,1)},a.prototype.findByTableIndex=function(e){for(var t=[],n=this.links.length-1;n>=0;n--){var i=this.links[n];i.Left.DataSourceIndex!=e&&i.Right.DataSourceIndex!=e||t.push(i)}return t},a.prototype.findByDataSource=function(e){for(var t=[],n=this.links.length-1;n>=0;n--){var i=this.links[n];i.Left.getDataSource()!==e&&i.Right.getDataSource()!=e||t.push(i)}return t},a.prototype.markAllForDelete=function(){for(var e=this.links.length-1;e>=0;e--)this.links[e].ToDelete=!0}},function(e,t,n){function i(e){this._app=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(1),r=n(3);i.prototype.dto=function(e){if(null==e){var t=new r.Dto.DataSourceLinkPartDto;return t.DataSourceIndex=this.DataSourceIndex,o.Utils.CopyInner(this,t),t}null==this.dataSource&&(this.dataSource=this._app.CanvasComponent.findTableByIndex(e.DataSourceIndex)),o.Utils.Copy(e,this)},i.prototype.getElement=function(){var e=this.getDataSource(),t=e?e.getFieldByName(this.FieldName):this.field;return t&&t.element.is(":visible")?t.element:e?e.titleBar.element:this.field},i.prototype.getDataSource=function(){return this.dataSource}},function(e,t,n){function i(e,t){this.leftType=t.leftType,this.rightType=t.rightType,this.thin=t.thin||3,this.thinBg=t.thinBg||15,this.displayKeyCardinality=t.displayKeyCardinality,this.leftCardinality=t.leftCardinality,this.rightCardinality=t.rightCardinality,this._app=e;var n=e.CanvasComponent;this._renderer=n.r,this.displayKeyCardinality=n.displayKeyCardinality,this.style=n.linksStyle,this.line=this._renderer.line(this.thin,t.onClick),this.style==o.Enum.LinkStyle.MSAccess?this._configMSAccessStyle():this.style==o.Enum.LinkStyle.MSSQL&&this._configMSSQLStyle(t.centerOnClick),this.displayKeyCardinality&&this._configKeyCardinality()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(3);i.prototype.update=function(e,t,n){var i=this._calculateBox(e),o=this._calculateBox(t),r=this._getLineCoord(i,o),s=r.x1<r.x2?1:-1,a=r.x4<r.x3?1:-1;this.line&&(n&&this._renderer.updateLineThin(this.line,n),this._renderer.updateLinePath(this.line,r,8,s,a)),this.start?(this.leftType=e.Type,this.rightType=t.Type,this.start=this._configEnds(this.start,this.rightType,r.x1,r.y1,s),this.end=this._configEnds(this.end,this.leftType,r.x4,r.y4,a)):this.centerButton&&this._updateMSSQLStyle(8,e,t),this.startSymbol&&this.endSymbol&&(this.startSymbol=this._configSymbol(this.startSymbol,this.leftCardinality,r.x1,r.y1,s),this.endSymbol=this._configSymbol(this.endSymbol,this.rightCardinality,r.x4,r.y4,a)),this._renderer},i.prototype._configMSSQLStyle=function(e){this.centerButton=this._renderer.centerButton(e),this.leftButton=this._renderer.crescentButton(e),this.rightButton=this._renderer.crescentButton(e)},i.prototype._updateMSSQLStyle=function(e,t,n){var i=this.line.getCenter(),o=this._renderer.circleRadius,r=i.x+o/2-e/2,s=i.y+o/2-e/2;this._renderer.updateCenterButton(this.centerButton,r,s),this._renderer.updateLeftCrescentButton(this.leftButton,r,s,t.Type),this._renderer.updateRightCrescentButton(this.rightButton,r,s,n.Type)},i.prototype._configMSAccessStyle=function(){this.start=this._configEnds(null,this.leftType),this.end=this._configEnds(null,this.rightType)},i.prototype._configKeyCardinality=function(){this.startSymbol=this._configSymbol(null,this.leftCardinality),this.endSymbol=this._configSymbol(null,this.rightCardinality)},i.prototype._configSymbol=function(e,t,n,i,r){n=n||0,i=i||0,r=r||1;var s="1",a="14px";return t===o.Enum.LinkCardinality.Many&&(s="\u221e",a="22px"),e?(this._renderer.updateText(e,n,i,r),e):this._renderer.text(s,a)},i.prototype._configEnds=function(e,t,n,i,o){n=n||0,i=i||0,o=o||1;var r=!1;if(null!=e)switch(t){case this._app.MetaData.JoinType.Inner:r="circle"!==e.nodeName&&"CanvasCircle"!=e.constructor.name;break;case this._app.MetaData.JoinType.Outer:r="path"!=e.nodeName&&"CanvasArrow"!=e.constructor.name}switch(r&&(this._renderer.removeObj(e),e=null),t){case this._app.MetaData.JoinType.Inner:e=e||this._renderer.circleEnd(),this._renderer.updateCircleEnd(e,n,i);break;case this._app.MetaData.JoinType.Outer:e=e||this._renderer.arrowEnd(),this._renderer.updateArrowEnd(e,n,i,o)}return e},i.prototype._calculateBox=function(e){var t=this._renderer.getParent(),n=this._getBBox(e,t),i=e.getDataSource();if(i){var o=this._getBoxToParent(i.element[0],t);n.x=o.x-1,n.width=o.width+2,n.y<o.y?n.y=o.y+17:n.y>o.y+o.height-n.height&&(n.y=o.y+o.height-n.height)}return n},i.prototype._getBBox=function(e,t){var n=e.getElement();return n.length?this._getBoxToParent(n[0],t):{x:0,y:0,width:0,height:0}},i.prototype._getBoxToParent=function(e,t){for(var n={x:0,y:0,width:e.clientWidth,height:e.clientHeight};e&&e!==t;)n.x+=e.offsetLeft-e.scrollLeft+e.clientLeft,n.y+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return n},i.prototype._getLineCoord=function(e,t){function n(e){return[{x:e.x,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2}]}function i(e){return Math.round(1e3*e)/1e3}for(var o=n(e),r=n(t),s=[],a=[],l=0;l<o.length;l++)for(var u=0;u<r.length;u++){var c=Math.abs(o[l].x-r[u].x),d=Math.abs(o[l].y-r[u].y),h=c*c+d*d;a.push(h),s.push({i1:l,i2:u})}for(var p={i1:0,i2:0},f=-1,m=-1,g=0;g<a.length;g++)(-1==m||a[g]<m)&&(m=a[g],f=g);f>0&&(p=s[f]);var b=o[p.i1].x,v=o[p.i1].y,y=r[p.i2].x,_=r[p.i2].y,C=v,x=_,w=[b-(c=Math.max(Math.abs(b-y)/2,15)),b+c][p.i1],k=[y-c,y+c][p.i2];return{x1:i(b),y1:i(v),x2:i(w),y2:i(C),x3:i(k),y3:i(x),x4:i(y),y4:i(_)}},i.prototype.dispose=function(){this._renderer.removeObj(this.line),this._renderer.removeObj(this.line._bg),this._renderer.removeObj(this.start),this._renderer.removeObj(this.end),this._renderer.removeObj(this.startSymbol),this._renderer.removeObj(this.endSymbol),this._renderer.removeObj(this.centerButton),this._renderer.removeObj(this.leftButton),this._renderer.removeObj(this.rightButton)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=this;this.ObjectType={Database:0,Schema:1,Table:2,View:3,Procedure:4,Synonym:5,Link:6,Field:7},this.MetadataType={getKeyName:function(t){var n={1:e.Strings.Root,2:e.Strings.Server,4:e.Strings.Database,8:e.Strings.Schema,16:e.Strings.Package,30:e.Strings.Namespaces,32:e.Strings.Table,64:e.Strings.View,128:e.Strings.Procedure,256:e.Strings.Synonym,480:e.Strings.Objects,512:e.Strings.Aggregate,1024:e.Strings.Parameter,2048:e.Strings.Field,4096:e.Strings.ForeignKey,7168:e.Strings.ObjectMetadata,8192:e.Strings.UserQuery};for(var i in n)if(t==i)return n[i];return null}},this.FieldParamType={action:-1,deleting:0,selected:1,expression:2,alias:3,sorting:4,sortingOrder:5,aggregate:6,grouping:7,groupingCriterion:8,condition:9,conditionOr1:10,each:function(e,t){for(n=-1;n<=9;n++)e(n,this.getKeyName(n));for(var n=0;n<t.orColumnCount;n++)e(10+n,"conditionOr"+(n+1))},getKeyName:function(e){for(var t in this)if(this[t]==e)return t;return null}},this.SQL={Sorting:{None:0,Ascending:1,Descending:2,each:function(e){for(var t=0;t<=2;t++)e(t,this.getKeyName(t))},getKeyName:function(e){for(var t in this)if(e==this[t])return t;return null}},Aggregate:[" ","COUNT","FIRST","LAST","MAX","MIN","SUM"],GroupingCriterion:{forValues:"Where",forGroup:"Having",each:function(e){e(this.forValues,this.getKeyName(this.forValues)),e(this.forGroup,this.getKeyName(this.forGroup))},getKeyName:function(t){return t==this.forValues?e.Strings.ConditionTypeWhere.replace("&nbsp;"," "):e.Strings.ConditionTypeHaving.replace("&nbsp;"," ")}}},this.JoinType={Inner:0,Outer:1,toggle:function(e){return e==t.JoinType.Inner?t.JoinType.Outer:t.JoinType.Inner}}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=i(n(16)),s=i(n(70)),a=n(1),l=n(3),u=i(n(71)),c=i(n(6)),d=i(n(10)),h=i(n(5)),p=n(4),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));i._app=n,i._objectBorder=15,i._tmpLinksIfNotVisible=null,i._tmpDSIfNotVisible=null,i.objects=[],i.links=[],i.RightToLeft=!1,i.HideColumnDescription=!1,i.HideColumnName=!1,i.HideColumnType=!1,i.HideColumnMark=!1,i.element=(0,o.default)(e).attr("tabindex",a.Utils.getUTabIndex()),i.objectsContainer=(0,o.default)('<div class="qb-ui-canvas-objects">'),i.element.append(i.objectsContainer),i.RightToLeft=i.element.hasClass("RightToLeft"),i.HideColumnDescription=i.element.hasClass("HideColumnDescription"),i.HideColumnName=i.element.hasClass("HideColumnName"),i.HideColumnType=i.element.hasClass("HideColumnType"),i.HideColumnMark=i.element.hasClass("HideColumnMark"),i.linksStyle=Number(i.element.attr("linkstyle")),i.displayKeyCardinality=i.element.hasAttr("displaykeycardinality"),i._createRenderer();var s=i.element.attr("defaultWidth");isNaN(s)||(s=Number(s)),(0,a.isEmpty)(s)||r.default.setDefaultWidth(s);var l=i.element.attr("defaultHeight");return isNaN(l)||(l=Number(l)),(0,a.isEmpty)(l)||r.default.setDefaultHeight(l),r.default.setInitialZindex(0),i.propertiesFormsContainer=new u.default(i._app,{link:i.element.hasAttr("DisableLinkProperties"),query:i.element.hasAttr("DisableQueryProperties"),datasource:i.element.hasAttr("DisableDatasourceProperties")}),i.element.prepend(i.propertiesFormsContainer.element),i._initEvents(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p),t}();f.prototype._initEvents=function(){var e=this;this.element.droppable({hoverClass:"qb-ui-canvas-hover",accept:a.Utils.canvasDroppableSelector,tolerance:"pointer",drop:function(t,n){var i=a.Utils.getRec(n.helper[0],a.Utils.getRec(e.element[0]));i.top+=e.element.scrollTop(),i.left<0&&(i.left=0),i.top<0&&(i.top=0),n.helper.hasClass("qb-ui-tree-field-helper")?e._dropDataSourceField(n.helper,i):n.helper.hasClass("qb-ui-user-queries__item")?e._dropUserQuery(n.helper,i):e._dropDataSource(n.helper,i)}}),this.element.click(function(t){"svg"!==t.target.tagName&&"CANVAS"!==t.target.tagName||(e.emit(f.Events.CanvasOnClick),e._highlightLink(null),e._highlightTableObject(null),e.propertiesFormsContainer.loadActiveUnionSubQuery())}),this.element.on("resizestop",this.resize.bind(this)),this.objectsContainer.on("scroll",this.resize.bind(this)),this._makeResizable(),d.default.addElement(this),(0,o.default)(window).keydown(this._keyUpHandler.bind(this))},f.prototype.importData=function(e){this._importObjects(e.DataSources),this._importLinks(e.Links),this.setLayout(e.Layout.DataSources)},f.prototype._importObjects=function(e){if(null==e){if(!this._tmpDSIfNotVisible)return;e=this._tmpDSIfNotVisible,this._tmpDSIfNotVisible=null}else if(!this.isVisible())return void(this._tmpDSIfNotVisible=e);this._tmpDSIfNotVisible=null;for(var t=e.slice(),n=[],i=[],r=[],s=0;s<this.objects.length;s++){var a=this.objects[s],l=a.getData("object"),u=this._findCanvasDataSource(l,t);if(-1===u&&(u=this._findCanvasDataSourceSimilar(l,t)),-1===u)n.push(a);else{var c=t[u];t.remove(u),i.push({dto:c,existingObject:a})}}var d=this;o.default.each(t,function(e,t){r.push(t)}),o.default.each(i,function(e,t){d.updateObject({object:t.dto},t.existingObject,!0)}),o.default.each(n,function(e,t){t.dispose()}),o.default.each(r,function(e,t){d._addObject({object:t})})},f.prototype._importLinks=function(e){if(null==e){if(!this._tmpLinksIfNotVisible)return;e=this._tmpLinksIfNotVisible,this._tmpLinksIfNotVisible=null}else if(!this.isVisible())return void(this._tmpLinksIfNotVisible=e);this._tmpLinksIfNotVisible=null,this._app.links.markAllForDelete();for(var t=0;t<e.length;t++){var n=e[t],i=null;null!=n.Left&&null!=n.Right&&(i=this._app.links.getByDto(n.Left,n.Right)),null==i?this._app.links.createLink(n):(i.ToDelete=!1,this._app.links.updateLink(i,n))}this._app.links.disposeAllMarked()},f.prototype._addObject=function(e){var t=this.addObject(e);return this._initDataSourceEvents(t),t},f.prototype._initDataSourceEvents=function(e){e.on(r.default.Events.TableObjectOnDestroy,this._onObjectDestroy.bind(this,{obj:e})),e.on(r.default.Events.TableObjectOnClose,this._onObjectClose.bind(this,{obj:e})),e.on(r.default.Events.TableObjectOnTrash,this._onObjectTrash.bind(this,{obj:e})),e.on(r.default.Events.TableObjectOnMoved,this._onObjectMove.bind(this,{obj:e})),e.on(r.default.Events.TableObjectOnResized,this._onObjectMove.bind(this,{obj:e})),e.on(r.default.Events.TableObjectOnCheckField,this._app._onCheckFieldInTable.bind(this._app)),e.on(r.default.Events.TableObjectOnCheckAllFields,this._app._onCheckAllFieldsInTable.bind(this._app)),e.on(r.default.Events.TableObjectOnDblClickField,this._app._onDblClickFieldInTable.bind(this._app)),e.on(r.default.Events.TableObjectOnLinkCreate,this._app._onLinkCreate.bind(this._app)),e.on(r.default.Events.TableObjectOnLinkedObjectSelected,this._app._onLinkedObjectSelected.bind(this._app)),e.on(r.default.Events.TableObjectOnSubqueryClick,this._app._onDataSourceSubQueryClick.bind(this._app)),e.on(r.default.Events.TableObjectOnCTEClick,this._app._onDataSourceSubQueryClick.bind(this._app)),e.on(r.default.Events.TableObjectOnAddUserField,this._app._onAddUserField.bind(this._app)),e.on(r.default.Events.TableObjectOnEditUserField,this._app._onEditUserField.bind(this._app)),e.on(r.default.Events.TableObjectOnRemoveUserField,this._app._onRemoveUserField.bind(this._app))},f.prototype._findCanvasDataSource=function(e,t){for(var n=t.length-1;n>=0;n--){var i=t[n];if(this.dtoIsEqual(e,i))return n}return-1},f.prototype._findCanvasDataSourceSimilar=function(e,t){for(var n=t.length-1;n>=0;n--){var i=t[n];if(this.dtoIsSimilar(e,i))return n}return-1},f.prototype._makeResizable=function(){this.element.parents(".qb-ui-layout__right").length&&this.element.resizable({handles:"s"})},f.prototype.focus=function(){this.element.focus()},f.prototype.selectLink=function(e){this._highlightLink(e),this.propertiesFormsContainer.loadByLink(e)},f.prototype.selectDataSource=function(e){this._highlightTableObject(e),this._activeTable=e,this.propertiesFormsContainer.loadByDataSource(e.metaDataObject)},f.prototype._highlightLink=function(e){e&&(e.draw(3.5),this._highlightTableObject(null)),o.default.each(this._app.links.links,function(t,n){n!==e&&n.draw(1.5)})},f.prototype._highlightTableObject=function(e){e?(e.element.addClass("qb-ui-table--focused"),this.element.find(".qb-ui-table").not(e.element).removeClass("qb-ui-table--focused"),this._highlightLink(null)):this.element.find(".qb-ui-table").removeClass("qb-ui-table--focused")},f.prototype._keyUpHandler=function(e){if(17!==e.keyCode&&18!==e.keyCode&&(this.element.is(e.target)||0!==this.element.has(e.target).length))if(e.ctrlKey)switch(e.keyCode){case 90:this._undo();break;case 70:e.preventDefault(),this._toggleActiveTableToolbar();break;case 68:e.preventDefault(),this._wrapToDerivedTable();break;case 37:this._selectNextDataSource();break;case 39:this._selectPrevDataSource();break;case 32:this._showActiveTableMenu()}else if(e.altKey)switch(e.keyCode){case 13:this.propertiesFormsContainer.show(),this.propertiesFormsContainer.focus()}},f.prototype._createRenderer=function(){var e=this.element.attr("linkcolor")||"#000000";this.r=new s.default(this.objectsContainer.get(0),e),this.redrawT=o.default.throttle(this.redraw,5,this),this.resizeT=o.default.throttle(this.resize,1e3,this)},f.prototype._getActiveTable=function(){return this._activeTable?this._activeTable:this.objects.length?this.objects[0].getData("me"):void 0},f.prototype._toggleActiveTableToolbar=function(e){var t=this._getActiveTable();t&&t.toggleToolbar()},f.prototype._wrapToDerivedTable=function(e){this._app.wrapToDerivedTable()},f.prototype._undo=function(e){this._app.undo()},f.prototype._showActiveTableMenu=function(e){var t=this._getActiveTable();t&&t.showMenu()},f.prototype._getActiveIndex=function(e){var t=this._getActiveTable();if(!t)return-1;for(var n=this.objects.length,i=0;i<n;i++)if(this.objects[i].element.is(t.element))return i;return-1},f.prototype._selectNextDataSource=function(e){var t=this._getActiveIndex();if(-1!==t){var n=0===t?this.objects.length-1:t-1;this.objects[n].getData("me").select()}},f.prototype._selectPrevDataSource=function(e){var t=this._getActiveIndex();if(-1!==t){var n=t===this.objects.length-1?0:t+1;this.objects[n].getData("me").select()}},f.prototype.findTableByFullName=function(e){return this._findTableBy(function(t){return t.getData("metaDataObject").NameFull===e})},f.prototype.findTablesByFullName=function(e){return this._findTablesBy(function(t){return t.getData("metaDataObject").NameFull===e})},f.prototype.findTableByIndex=function(e){return this._findTableBy(function(t){return t.getData("object").Index===e})},f.prototype.findTableByName=function(e){return this._findTableBy(function(t){var n=t.getData("object");return(0,a.strcmp)(n.Alias,e)||(0,a.strcmp)(n.Name,e)||(0,a.strcmp)(n.NameNotQuoted,e)||(0,a.strcmp)(n.NameInQuery,e)||(0,a.strcmp)(n.NameFull,e)})},f.prototype._findTableBy=function(e){for(var t=0;t<this.objects.length;t++){var n=this.objects[t];if(e(n))return n}return null},f.prototype._findTablesBy=function(e){for(var t=[],n=0;n<this.objects.length;n++){var i=this.objects[n];e(i)&&t.push(i)}return t},f.prototype.dtoIsEqual=function(e,t){return e.isUserQuery&&e.IsNew?e.Name===t.Name:!(!e.IsNew&&!t.IsNew||e.TempId!=t.TempId)||e.NameFull===t.NameFull&&(e.NameInQuery===t.NameInQuery||void 0)},f.prototype.dtoIsSimilar=function(e,t){return e.Caption==t.Caption},f.prototype.updateObject=function(e,t,n){e.skipEvents=n,t.reCreate(e)},f.prototype.isVisible=function(){return this.element.is(":visible")},f.prototype.addObject=function(e){e.app=this._app;var t=new r.default(e);if(!e.position&&!e.coordinates){var n=this._getEmptyPlaceCoord(t);t.offsetLeft=n[0],t.offsetTop=n[1],t.setPosition(n)}return this.objects.push(t),this.objectsContainer.append(t.element),t},f.prototype._onObjectDestroy=function(e){var t=e.obj;this._app.links.disposeByDataSource(t),this.objects.remove(t)},f.prototype._onObjectClose=function(e){this.emit(f.Events.CanvasOnRemoveTable,e.obj)},f.prototype._onObjectTrash=function(e){this.emit(f.Events.CanvasOnTrashTable,e.obj)},f.prototype._onObjectMove=function(e){this.emit(f.Events.CanvasOnMoveTable,e.obj)},f.prototype.getLayout=function(){for(var e=[],t=0;t<this.objects.length;t++){var n=this.getLayoutDto(this.objects[t]);null!=n&&e.push(n)}return e},f.prototype.getLayoutDto=function(e){var t=e.getData("object");if(null!=t){var n=new l.Dto.DataSourceLayoutDto;return t.Fields&&(n.FieldCount=t.Fields.length),n.Caption=t.Caption,n.X=e.element[0].offsetLeft,n.Y=e.element[0].offsetTop,n.Width=this._getLayoutDtoWidth(e),n.Height=this._getLayoutDtoHeight(e),n.DefaultHeight=r.default.getDefaultHeight(),n.DefaultWidth=r.default.getDefaultWidth(),n}},f.prototype._getLayoutDtoWidth=function(e){return this._getLayoutDtoAttr(e,"width")},f.prototype._getLayoutDtoHeight=function(e){return this._getLayoutDtoAttr(e,"height")},f.prototype._getLayoutDtoAttr=function(e,t){var n=e.getOption(t);return"auto"==n?null:Math.round(n)},f.prototype.resetLayout=function(){this._layout&&this.setLayout(this._layout)},f.prototype.setLayout=function(e){this._layout=e,o.default.each(this.objects,function(t,n){if(!n.disposed){var i=n.getData("object");if(null==i)return!0;for(var o=null,t=0;t<e.length;t++){var r=e[t];if(r.Index==i.Index){o=r;break}}null!=o&&(0==o.X||(0,a.isEmpty)(o.X)||0==o.Y||(0,a.isEmpty)(o.Y)||n.setPosition([o.X,o.Y]),0==o.Width||(0,a.isEmpty)(o.Width)||n.setWidth(o.Width),0==o.Height||(0,a.isEmpty)(o.Height)||n.setHeight(o.Height))}}),this.redraw()},f.prototype._getEmptyPlaceCoord=function(e){var t=this.element.width();t<200&&(t=1024);var n=[0,t],i=[0,32e3],o=[],r=e.getWidth(),s=e.getHeight();0==r&&(r=200),0==s&&(s=150);var a=r+2*this._objectBorder,l=s+2*this._objectBorder;return this._getNextEmptyPlaceRoutine_Fill(n,i,o,e),this.RightToLeft?this._getNextEmptyPlaceRoutine_Find_RTL(n,i,o,a,l):this._getNextEmptyPlaceRoutine_Find(n,i,o,a,l)},f.prototype._getNextEmptyPlaceRoutine_Find=function(e,t,n,i,o){for(var r=0;r<t.length;r++)for(var s=0;s<e.length;s++)if(0==n[s][r]&&this._getNextEmptyPlaceRoutine_Test(e,t,n,s,r,i,o))return[e[s]+this._objectBorder,t[r]+this._objectBorder];return[this._objectBorder,this._objectBorder]},f.prototype._getNextEmptyPlaceRoutine_Find_RTL=function(e,t,n,i,o){for(var r=0;r<t.length;r++)for(var s=e.length-1;s>=0;s--)if(0==n[s][r]&&this._getNextEmptyPlaceRoutine_Test(e,t,n,s,r,i,o)&&s+1<e.length)return[e[s+1]+this._objectBorder-i,t[r]+this._objectBorder];return[this._objectBorder,this._objectBorder]},f.prototype._getNextEmptyPlaceRoutine_Fill=function(e,t,n,i){var r=this;o.default.each(this.objects,function(){if(this==i)return!0;var n=this.element[0];e.push(n.offsetLeft-r._objectBorder),t.push(n.offsetTop-r._objectBorder);var o=n.offsetWidth,s=n.offsetHeight;0==o&&(o=200),0==s&&(s=150),e.push(n.offsetLeft+o+r._objectBorder),t.push(n.offsetTop+s+r._objectBorder)}),e.sort(function(e,t){return e-t}),t.sort(function(e,t){return e-t});for(var s=0;s<e.length;s++){for(var a=[],l=0;l<t.length;l++)a.push(s==e.length-1||l==t.length-1?1:0);n.push(a)}o.default.each(this.objects,function(){var i=this.element[0],o=i.offsetLeft,r=i.offsetTop,s=i.offsetWidth,a=i.offsetHeight;0==s&&(s=200),0==a&&(a=150);for(var l=i.offsetLeft+s,u=i.offsetTop+a,c=0,d=0,h=0;h<e.length;h++)if(e[h]<=o&&(c=h),l<=e[h]){d=h;break}for(var p=0,f=0,m=0;m<t.length;m++)if(t[m]<=r&&(p=m),u<=t[m]){f=m;break}for(h=c;h<d;h++)for(m=p;m<f;m++)n[h][m]=1})},f.prototype.resize=function(){var e=this.objectsContainer[0],t=e.scrollLeft+e.clientWidth,n=e.scrollTop+e.clientHeight,i=0;this._setRendererSize(t-12,n-5),this.propertiesFormsContainer.collapsed()&&e.clientHeight<e.scrollHeight&&(i=15),this.propertiesFormsContainer.element.css("right",i)},f.prototype._setRendererSize=function(e,t){e<0&&(e=0),t<0&&(t=0),this.r.setSize(e,t)},f.prototype._getNextEmptyPlaceRoutine_Test=function(e,t,n,i,o,r,s){if(1==n[i][o])return!1;for(var a=o;a<=t.length&&!(t[a]-t[o]>=s);a++)for(var l=i;l<e.length&&!(e[l]-e[i]>=r);l++)if(1==n[l][a])return!1;return!0},f.prototype.redraw=function(){this._app.CanvasComponent.isVisible()&&(this._app.links.draw(),void 0!==a.Utils.globalTempLink&&this.resizeT())},f.prototype._menuCallback=function(e,t,n){this.emit(f.Events.CanvasContextMenuCommand,{action:e,item:t})},f.prototype._updateContextMenuItems=function(e){return a.Utils.updateContextMenuItems(e)},f.prototype._updateContextMenu=function(e,t,n,i){this._updateUnionContextMenu(e),this._updateLinkContextMenu(t),this._updateTableContextMenu(n,i)},f.prototype._updateUnionContextMenu=function(e){var t=this;if(!(0,a.isEmpty)(e)&&0!=e.Items.length){var n=this._updateContextMenuItems(e.Items);c.default.right({selector:h.default.canvasSelector,app:this._app,mergeSelector:!0,callback:function(e,n){var i=n.$selected.data().contextMenu.items[e],o={top:n.y-t.element.offset().top,left:n.x-t.element.offset().left};t._menuCallback(e,i,n,{position:o})},items:n})}},f.prototype._updateLinkContextMenu=function(e){if(!(0,a.isEmpty)(e)&&0!=e.Items.length){var t=this._updateContextMenuItems(e.Items);c.default.right({selector:h.default.canvasSelector+" svg path",app:this._app,mergeSelector:!0,build:function(e,n){var i=e[0].link;if(void 0!==i){var o=t["all-from"],r=i.Left.getDataSource(),s=i.Right.getDataSource(),a=i._app.Localizer.Strings.SelectAllRowsFrom;return o&&(o.name=a.replace("{0}","<strong>"+r.mdo.Caption+"</strong>"),i.Left.Type==i._app.MetaData.JoinType.Inner?o.icon=o.key:o.icon=o.key+" checked"),(o=t["all-to"])&&(o.name=a.replace("{0}","<strong>"+s.mdo.Caption+"</strong>"),i.Right.Type==i._app.MetaData.JoinType.Inner?o.icon=o.key:o.icon=o.key+" checked"),{items:t}}},callback:function(e){this[0].link._menuCallback(e)}})}},f.prototype._updateTableContextMenu=function(e,t){var n=this;if(!(0,a.isEmpty)(e)&&0!=e.Items.length){var i=this._updateContextMenuItems(e.Items),o=this._updateContextMenuItems(t.Items);c.default.right({selector:".qb-ui-table",app:this._app,build:function(e,t){return n._buildTableContextMenu(e,t,o,i),{}},callback:function(e,t){var n=this.data("me");n&&n._menuCallback(e,t.userField)},items:i})}},f.prototype._buildTableContextMenu=function(e,t,n,i){var r=e.data("me");if(r&&r.metaDataObject&&r.metaDataObject.IsCTE)return t.data.items=n;t.data.items=(0,a.mergeObj)({},i),r.fieldsContainer.sortedFields?delete t.data.items.sort:delete t.data.items.revertSort,r.fieldsContainer.needToShowUnchecked?delete t.data.items.show:delete t.data.items.hide,r.toolbar?r.toolbar.element.is(":visible")?t.data.items.filter.icon="filtered":t.data.items.filter.icon="filter":delete t.data.items.filter,r.metaDataObject.DataSourceType==l.Enum.DataSourceType.SubQuery&&delete t.data.items.addUserField;var s=(0,o.default)(t.target).closest(".qb-ui-table-field--user");1!==s.length?(delete t.data.items.editUserField,delete t.data.items.removeUserField):t.data.userField=(0,o.default)(s).data("object")},f.prototype._dropDataSourceField=function(e,t){var n=e.data("nameFull"),i=e.data("parentNameFull"),o=e.data("object"),r=e.data("isProc"),s=new l.Dto.DataSourceDto;s.IsNew=!0,s.Caption=i,s.Name=i;var a={table:s,field:o,tableName:i,fieldName:n,coordinates:[t.left,t.top],isProc:r};this.emit(f.Events.CanvasOnAddTableField,a)},f.prototype._dropDataSource=function(e,t){var n=e.data("object");null==n&&((n=new l.Dto.DataSourceDto).IsNew=!0,n.Caption=e.data("nameFull"),n.Name=e.data("nameFull"));var i={object:n,coordinates:[t.left,t.top],isProc:n.isProc,isHelper:!0,delayed:!1};this.emit(f.Events.CanvasOnAddTable,i)},f.prototype._dropUserQuery=function(e,t){var n=new l.Dto.DataSourceDto;n.Caption=n.Name=e.object.Name,n.isUserQuery=!0,n.IsNew=!0;var i={query:e.object,object:n,coordinates:[t.left,t.top],width:r.default.getDefaultWidth(),height:r.default.getDefaultHeight()};this.emit(f.Events.CanvasOnAddUserQuery,i)},f.prototype.getDataSources=function(){return this.objects},f.prototype.dispose=function(){this.element.empty()},f.prototype.show=function(){this.element.show()},f.prototype.hide=function(){this.element.hide()},f.Events={CanvasOnAddTable:"CanvasOnAddTable",MetadataObjectAdded:"MetadataObjectAdded",CanvasOnAddUserField:"CanvasOnAddUserField",CanvasOnEditUserField:"CanvasOnEditUserField",CanvasOnRemoveTable:"CanvasOnRemoveTable",CanvasOnMoveTable:"CanvasOnMoveTable",CanvasOnTrashTable:"CanvasOnTrashTable",CanvasOnDropObject:"CanvasOnDropObject",CanvasOnAddTableField:"CanvasOnAddTableField",CanvasOnAddUserQuery:"CanvasOnAddUserQuery",CanvasContextMenuCommand:"CanvasContextMenuCommand",CanvasOnClick:"CanvasOnClick"},f.prototype.Events=f.Events,t.default=f},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e){this._table=e,this._app=e._app,this.element=(0,r.default)("<div>"),this.text=(0,r.default)('<span class="qb-ui-table-titlebar-text">'),this.rightButtons=(0,r.default)('<span class="qb-ui-table-titlebar__button-container qb-ui-table-titlebar__button-container--right">'),this.leftButtons=(0,r.default)('<span class="qb-ui-table-titlebar__button-container qb-ui-table-titlebar__button-container--left">'),this.element.append(this.text).append(this.rightButtons).append(this.leftButtons).addClass("qb-ui-table-titlebar").addClass("ui-widget-header").addClass("ui-corner-all").addClass("ui-helper-clearfix").addClass("format-table").addClass("qb-ui-table-field-title").data("collapsed",!1),this._app._useDefaultTheme&&this.element.addClass("qb-widget-header"),this._initEvents()}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),s=i(n(9));o.prototype.setText=function(e,t){this.text.attr("title",t),this.text.html(e)},o.prototype.createSandwichButton=function(e){var t=this._createTitleButton(s.default.sandwich,"Open menu").click(e);this.leftButtons.append(t)},o.prototype.createSubQueryButton=function(e){var t=this._createTitleButton(s.default.pencilSmall,"Switch to subquery").click(e);this.rightButtons.append(t)},o.prototype.createCTEButton=function(e){var t=this._createTitleButton(s.default.pencilSmall,"Switch to cte").click(e);this.rightButtons.append(t)},o.prototype.createCloseButton=function(e){var t=this._createTitleButton(s.default.delete16,"Close").click(e);this.rightButtons.append(t)},o.prototype._createTitleButton=function(e,t){return(0,r.default)("<span>").html(e).addClass("ui-corner-all titlebar-button").uiHoverable().mousedown(function(e){e.stopPropagation()}).attr("aria-label",t).attr("title",t).attr("tabindex",-1)},o.prototype._initEvents=function(){this.element.bind("dblclick",function(){this.onDblclick()}.bind(this))},o.prototype.blink=function(){function e(){var e={backgroundColor:t.element.css("backgroundColor")};t.element.css({backgroundImage:"none",backgroundColor:"#ffff99"}).animate(e,{queue:!1,duration:n,complete:function(){this.style=""}})}var t=this,n=200;e(),setTimeout(function(){e()},n+50)},t.default=o},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),s=n(1),a=n(3),l=i(n(68)),u=i(n(16)),c=i(n(6)),d=i(n(5)),h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._parent=t,this._app=t._app,this.filterText="",this.needToShowUnchecked=!0,this.element=(0,r.default)('<div class="qb-ui-table-field-container ui-widget-content">'),this._app._useDefaultTheme&&this.element.addClass("qb-widget-content"),this._initEvents()}return o(e,[{key:"mdo",get:function(){return this._parent.metaDataObject}}]),e}();h.prototype._initEvents=function(){this.element.click(function(){return!1}),this.element.scroll(function(){var e=this._app.links.findByDataSource(this.dataSource);r.default.each(e,function(e,t){t.draw()})}.bind(this));var e=this.element.get(0);this._scrollPreventer=s.scrollPreventer.bind(e),e.addEventListener("mousewheel",this._scrollPreventer)},h.prototype.generateLoadingFields=function(){var e=(0,r.default)('<span class="loading"></span><span class="qb-ui-table-field-name">'+this._app.Localizer.Strings.Loading+"</span>"),t=this._createRow("qb-ui-table-field",e);this.element.append(t)},h.prototype.generateFields=function(){var e=this;this.clear(),this.linkedObjects=this.mdo.LinkedObjects;var t=this.mdo.DataSourceOptions||this.mdo.FieldListOptions||{},n=t.KeyFieldsFirst?"NotPrimaryKey":"";switch(t.SortType){case a.Enum.FieldListSortType.Name:this.mdo.Fields.sortBy(n,"NameStr");break;case a.Enum.FieldListSortType.Description:this.mdo.Fields.sortBy(n,t.DescriptionColumnOptions.UseLongDescription?"LongDescription":"ShortDescription")}this.fields=[];var i=this._getLinkedMenuItems(1);s.Utils.asyncArrayTask(this.mdo.Fields,10,function(n){return e._createFields(n,t,i)}),this._toggleHiddenFieldsCounter()},h.prototype._createField=function(e,t,n){var i={fk:{}};e.PrimaryKey&&(i.pk=this._getLinkedMenuItems(0));for(var o in n)-1!==n[o].rightFields.indexOf(e.NameStr)&&(i.fk[o]=n[o]);var r=new l.default(e,this,t,i);return r.element.on(u.default.Events.TableObjectOnLinkedObjectSelected,this.onLinkedObjectSelected),this._toggleFieldByFilter(r),r},h.prototype._createFields=function(e,t,n){for(var i=e.length,o=0;o<i;o++){var r=e[o],s=this._createField(r,t,n);this.fields.push(s),this.element.append(s.element)}},h.prototype._appendFields=function(e){var t=this;s.Utils.asyncArrayTask(e,10,function(e){return t._appendFieldsPart(buffer)})},h.prototype._appendFieldsPart=function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];this.element.append(i.element)}},h.prototype._toggleHiddenFieldsCounter=function(){if(!this.hiddenFieldsCounter){this.hiddenFieldsCounter=this._createRow("hidden-fields-counter-row",'<span class="counter"></span><span>fields hidden</span>'),this.hiddenFieldsCounter.click(this.showAll.bind(this)),this.element.append(this.hiddenFieldsCounter)}var e=this.element.find(".ui-draggable").not(":visible").length;this.hiddenFieldsCounter.find(".counter").text(e),e?this.hiddenFieldsCounter.show():this.hiddenFieldsCounter.hide()},h.prototype._createRow=function(e,t){return(0,r.default)("<div>").addClass(e).append(t)},h.prototype.createLinkObjectsMenu=function(e,t){if(null!=this.mdo){var n=this;e.mousedown(function(){var e=n._getLinkedMenuItems(t);if(1===Object.keys(e).length)return n.onLinkedObjectSelected(null,e[Object.keys(e)[0]].data);n._updateContextMenu(e);var i='[sessionid="'+n._app.SessionID+'"] '+d.default.pkButtonSelector,o=c.default.show(i);o&&o.position({my:"left top",at:"left bottom",of:this})})}},h.prototype._getLinkedMenuItems=function(e){for(var t={},n=0;n<this.linkedObjects.length;n++){var i=this.linkedObjects[n];e===i.Direction&&(t[i.Caption]={leftFields:i.LeftFields,rightFields:i.RightFields,name:i.Caption,icon:"linked-object-direction-"+i.Direction,data:i,className:i.Disabled?"highlight":""})}return t},h.prototype.getFields=function(e){var t=this.fields||[];return e?t:t.filter(function(e){return!0!==e.asterisk})},h.prototype.getFieldsElems=function(e){return this.getFields(e).map(function(e){return e.element})},h.prototype.setFilter=function(e){this.filterText=e,this._toggleFieldsByFilter()},h.prototype.showUnchecked=function(){this.needToShowUnchecked=!0,this._toggleFieldsByFilter()},h.prototype.showAll=function(){this.filterText="",this.needToShowUnchecked=!0,this._toggleFieldsByFilter(),this._parent.toolbar.filter.val("")},h.prototype.hideUnchecked=function(){this.needToShowUnchecked=!1,this._toggleFieldsByFilter()},h.prototype.sortByName=function(){if(this.sortedFields)return this.clearSorting();this.sortedFields=this.fields.slice(),this.sortedFields.sort(this._fieldNameComparer),this._appendFields(this.sortedFields)},h.prototype.clearSorting=function(){delete this.sortedFields,this._appendFields(this.fields)},h.prototype._toggleFieldsByFilter=function(){r.default.each(this.fields,function(e,t){this._toggleFieldByFilter(t)}.bind(this)),this._toggleHiddenFieldsCounter()},h.prototype._toggleFieldByFilter=function(e){var t=this._app.links.findByDataSource(this.dataSource),n=e.object.NameStr.toLowerCase();this._needToShow(n,this.filterText,e.checked,this.needToShowUnchecked)?e.show():e.hide(),t.forEach(function(e){return e.draw()})},h.prototype._needToShow=function(e,t,n,i){return-1!==e.indexOf(t)&&(""!==t||(!!i||n))},h.prototype._updateContextMenu=function(e){var t=this;return c.default.right({selector:d.default.pkButtonSelector,app:this._app,callback:function(n){var i={link:e[n].data,dataSource:t.dataSource};t.element.trigger(u.default.Events.TableObjectOnLinkedObjectSelected,i)},items:e}),!0},h.prototype._updateContextMenuField=function(){},h.prototype._fieldNameComparer=function(e,t){return"*"===e.object.NameStr?-1:"*"===t.object.NameStr?1:"+"===e.object.NameStr?1:"+"===t.object.NameStr?-1:e.object.NameStr.toLowerCase()>t.object.NameStr.toLowerCase()?1:-1},h.prototype.dispose=function(){this.element.get(0).removeEventListener("mousewheel",this._scrollPreventer),delete this._scrollPreventer,this.element.remove()},h.prototype.clear=function(){var e=this.element.children();this.element[0].innerHTML="",setTimeout(function(){e.remove()},4)},t.default=h},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=n(1),s=i(n(16)),a=n(13),l=i(n(5)),u=function e(t,n,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=this;this.object=t,this.table=n,this._app=n._app,this.checked=t.IsSelected,this.element=this._createElement(t),this._domelement=this.element[0],this.fieldCheckbox=this._createCheckbox(t.IsSelected);var l=i.MarkColumnOptions,u=i.NameColumnOptions,c=i.TypeColumnOptions,d=i.DescriptionColumnOptions,h=t.NameStrNotQuoted;(0,r.isEmpty)(h)&&(h=t.NameStr);var p=(0,r.isEmpty)(t.SizeStr)?"":'<span class="qb-ui-table-field-type-size">('+t.SizeStr+")</span>",f="*"!==t.NameStr&&null!=t.FieldTypeName&&"null"!==t.FieldTypeName?c.Prefix+t.FieldTypeName+p+i.TypeColumnOptions.Postfix:"",m=[];this.fieldIcon=(0,o.default)('<span class="qb-ui-table-field-icon"></span>'),m.push({control:this.fieldIcon,DrawOrder:-1,Visible:!0});var g=this._app.CanvasComponent;g&&!g.HideColumnMark&&(this.fieldSelect=(0,o.default)('<span class="qb-ui-table-field-select">'+l.Prefix+"</span>").append(this.fieldCheckbox),m.push({control:this.fieldSelect,DrawOrder:-2,Visible:l.Visible})),g&&!g.HideColumnName&&(this.fieldName=(0,o.default)('<span class="qb-ui-table-field-name">'+u.Prefix+(0,r.nbsp)(h)+u.Postfix+"</span>"),m.push({control:this.fieldName,DrawOrder:u.DrawOrder,Visible:u.Visible})),g&&!g.HideColumnType&&(this.fieldType=(0,o.default)('<span class="qb-ui-table-field-type">'+f+"</span>"),m.push({control:this.fieldType,DrawOrder:c.DrawOrder,Visible:c.Visible})),g&&!g.HideColumnDescription&&(this.fieldDescription=(0,o.default)('<span class="qb-ui-table-field-description">'+l.Prefix+(d.UseLongDescription?t.LongDescription:(0,r.nbsp)(t.ShortDescription))+i.DescriptionColumnOptions.Postfix+"</span>"),m.push({control:this.fieldDescription,DrawOrder:d.DrawOrder,Visible:d.Visible}));var b=Object.keys(s.fk);if(0!==b.length&&m.push({control:this._createFkKey(b,s),DrawOrder:-3,Visible:!0}),t.PrimaryKey){var v=Object.keys(s.pk);0!==v.length&&(m.push({control:this._createPkKey(v,n),DrawOrder:-4,Visible:!0}),this.fieldIcon.addClass("qb-ui-table-field-icon-pk"))}m.sort(function(e,t){return e.DrawOrder-t.DrawOrder});for(var y=0;y<m.length;y++){var _=m[y];a.element.append(_.control)}if(t.IsUserField){var C=this;if(this.fieldIcon.addClass("qb-ui-table-user-field-icon"),mdo.EnableUserFields){a.element.click(function(){return C.table.onEditUserField(C.object),!1});var x=(0,o.default)('<span class="qb-ui-table-user-field-delete" title="Delete user field">');x.click(function(){return C.element.remove(),C.table.onRemoveUserField(t)}),a.element.append(x)}}};u.prototype._createElement=function(e){var t=this,n=(0,o.default)("<div>").addClass("qb-ui-table-field").data("this",this).data("object",e).data("table",this.table).attr("title",e.ShortDescription||e.LongDescription);return r.Utils.AriaLabel(n,this._app.Localizer.Strings.Field+" "+e.NameStr),e.IsUserField&&(n.addClass("qb-ui-table-field--user"),n.attr("expression",e.Expression),e.FieldTypeName=""),"*"===e.NameStr&&(this.asterisk=!0,n.addClass("qb-ui-table-field-asterisk")),n.keydown(function(e){13!==e.keyCode&&32!==e.keyCode||(this.fieldCheckbox.trigger("click"),e.preventDefault())}.bind(this)),n.dblclick(function(){var e={Criteria:[],Expression:this.table.mdo.Name+"."+this.object.NameStr,IsNew:!0,Select:!1};t.table.onFieldDblClick(e)}.bind(this)),n},u.prototype._createFkKey=function(e,t){return(0,o.default)('<span class="links links--fk"></span>').attr("title",e[0]).mousedown(function(n){if(0===n.button){var i=t.fk[e[0]].data;this.element.trigger(s.default.Events.TableObjectOnLinkedObjectSelected,i)}}.bind(this))},u.prototype._createPkKey=function(e,t){var n=(0,o.default)('<span class="links '+l.default.pkButtonClass+'"></span>').attr("title","<- "+e.reduce(function(e,t){return t+"\n<- "+e}));return t.createLinkObjectsMenu(n,0),n},u.prototype._createCheckbox=function(e){var t=e?" checked":"";return(0,o.default)('<input type="checkbox" '+t+"/>").click(this._onCheck.bind(this))},u.prototype._onCheck=function(e){function t(){n._app.CanvasComponent.propertiesFormsContainer.loadByUserField(n.object,!0),a.Core.removeListener(a.Core.Events.SyncFinished,t)}e.stopPropagation(),e.preventDefault();var n=this;this.table.onFieldCheck(n,!this.checked),this.object.IsUserField&&a.Core.on(a.Core.Events.SyncFinished,t)},u.prototype.check=function(e){this.fieldCheckbox[0].checked=this.object.IsSelected=this.checked=e},u.prototype.show=function(){this._domelement.style.display=""},u.prototype.hide=function(){this._domelement.style.display="none"},u.Events={TableObjectFieldOnCheckField:"TableObjectFieldOnCheckField",TableObjectFieldOnDblclick:"TableObjectFieldOnDblclick"},t.default=u},function(e,t,n){function i(){this.filter=(0,o.default)('<input type="text" class="toolbar__filter" placeholder="Filter" />'),this.clearFilter=(0,o.default)('<span class="toolbar__button toolbar__button--clear">');var e=(0,o.default)('<span class="toolbar__button toolbar__button--icon">');this.element=(0,o.default)('<div class="toolbar">').append(e).append(this.filter).append(this.clearFilter),this._initEvents()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));i.prototype._initEvents=function(){var e=this;this.element.click(function(){return!1}),this.filter.keydown(function(e){if(13===e.keyCode)return!1}),this.filter.keyup(function(){var t=e.filter.val();e.onFilterChanged(t)}),this.clearFilter.click(function(){e.filter.val(""),e.onFilterChanged(""),e.hide()})},i.prototype.show=function(){this.element.show()},i.prototype.hide=function(){this.element.hide()},t.default=i},function(e,t,n){function i(e,t){this._parent=e,this.color=t,this.circleRadius=8,this._canvas=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._parent.appendChild(this._canvas)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));i.prototype.setSize=function(e,t){this._canvas.setAttribute("width",e),this._canvas.setAttribute("height",t)},i.prototype.line=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path"),i=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("fill","none"),n.setAttribute("stroke",this.color),n.setAttribute("stroke-width",e),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-linejoin","round"),n.getCenter=function(){return n.getPointAtLength(.5*n.getTotalLength())},i.setAttribute("fill","none"),i.setAttribute("stroke","transparent"),i.setAttribute("stroke-width",5),(0,o.default)(i).click(t),this._canvas.appendChild(n),this._canvas.appendChild(i),n._bg=i,n},i.prototype.updateLineThin=function(e,t){e.setAttribute("stroke-width",t)},i.prototype.updateLinePath=function(e,t,n,i,o){var r=this._createPath(t,n,i,o);this._updatePath(e,r),this._updatePath(e._bg,r)},i.prototype._createPath=function(e,t,n,i){return["M",e.x1,e.y1,"L",e.x1+t*n,e.y1,"C",e.x2,e.y2,e.x3,e.y3,e.x4+t*i,e.y4,"L",e.x4,e.y4].join(" ")},i.prototype._updatePath=function(e,t){e.setAttribute("d",t)},i.prototype.circleEnd=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","circle");return e.setAttribute("fill",this.color),e.setAttribute("stroke-width",0),e.setAttribute("r",this.circleRadius-3),this._canvas.appendChild(e),e},i.prototype.updateCircleEnd=function(e,t,n){this._updateCircle(e,t,n,this.circleRadius-3)},i.prototype._updateCircle=function(e,t,n,i){e.setAttribute("cx",t),e.setAttribute("cy",n),e.setAttribute("r",i)},i.prototype.arrowEnd=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("fill",this.color),e.setAttribute("stroke-width",0),this._canvas.appendChild(e),e},i.prototype.updateArrowEnd=function(e,t,n,i){var o=["M",t,n,"L",t,n+1,t+8*i,n+5,t+8*i,n-5,t,n-1,"Z"].join(" ");e.setAttribute("d",o)},i.prototype.text=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","text");return n.setAttribute("fill",this.color),n.setAttribute("font-size",t),n.setAttribute("text-anchor","middle"),n.setAttribute("font-family","Arial"),n.textContent=e,this._canvas.appendChild(n),n},i.prototype.centerButton=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","circle");return t.setAttribute("fill","white"),t.setAttribute("stroke",this.color),t.setAttribute("stroke-width",1),(0,o.default)(t).click(e),this._canvas.appendChild(t),t},i.prototype.updateCenterButton=function(e,t,n){this._updateCircle(e,t,n,this.circleRadius)},i.prototype.crescentButton=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("stroke-width",0),(0,o.default)(t).click(e),this._canvas.appendChild(t),t},i.prototype.updateLeftCrescentButton=function(e,t,n,i){var o=this.circleRadius,r="M"+t+" "+Number(n+o)+" C "+Number(t-o-2)+" "+Number(n+o)+", "+Number(t-o-2)+" "+Number(n-o)+", "+t+" "+Number(n-o)+" z";this._updateCrescentButton(e,r,i)},i.prototype.updateRightCrescentButton=function(e,t,n,i){var o=this.circleRadius,r="M"+t+" "+Number(n+o)+" C "+Number(t+o+2)+" "+Number(n+o)+", "+Number(t+o+2)+" "+Number(n-o)+", "+t+" "+Number(n-o)+" z";this._updateCrescentButton(e,r,i)},i.prototype._updateCrescentButton=function(e,t,n){this._updatePath(e,t),e.setAttribute("fill",n?this.color:"transparent")},i.prototype.updateText=function(e,t,n,i){e.setAttribute("x",t+9*i),e.setAttribute("y",n-12)},i.prototype.getParent=function(){return this._parent},i.prototype.removeObj=function(e){e&&e.remove()},i.prototype.redraw=function(){}},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){this._app=e,this.forms=[],this.disables=t,this._render()}function r(e){this._container=e,this._editors=Object.create(null),this._render()}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),a=i(n(8)),l=n(1);o.prototype._render=function(){var e=l.Utils.getUTabIndex();this.element=(0,s.default)("<div>").addClass("properties properties--collapsed ui-widget ui-widget-content ui-corner-all").attr("tabindex",e),this._root=(0,s.default)('<div class="properties__root">'),this.title=(0,s.default)('<div class="properties__title ui-widget-header ui-corner-all"><span><span></div>'),this.dock=(0,s.default)('<i class="properties__dock">'),this.overlay=(0,s.default)('<div class="qb-ui-overlay"></div>'),this._app._useDefaultTheme&&(this.title.addClass("qb-widget-header"),this.element.addClass("qb-widget-content")),this.element.append(this.title).append(this._root).append(this.overlay),this._initEvents(),this._changeTitleText()},o.prototype._initEvents=function(){this.element.keydown(function(e){if(e.altKey&&13===e.keyCode)return this.hide(),this._app.CanvasComponent.focus(),!1}.bind(this)),this.title.click(function(e){this.dock.is(e.target)?this.toggle():this.show()}.bind(this)),this.element.focus(this.show.bind(this)),this.element.resizable({handles:"w"})},o.prototype.collapsed=function(){return this.element.hasClass("properties--collapsed")},o.prototype.toggle=function(){this.collapsed()?this.show():this.hide()},o.prototype.show=function(){this.dock.addClass("properties__dock--fix"),this.title.addClass("ui-corner-top").removeClass("ui-corner-all"),this.element.removeClass("properties--collapsed").addClass("ui-corner-top").removeClass("ui-corner-all"),this._changeTitleText(),this._app.CanvasComponent.resize()},o.prototype.hide=function(){this.dock.removeClass("properties__dock--fix"),this.title.removeClass("ui-corner-top").addClass("ui-corner-all"),this.element.addClass("properties--collapsed").removeClass("ui-corner-top").addClass("ui-corner-all"),this._changeTitleText(),this._app.CanvasComponent.resize()},o.prototype.focus=function(){this.forms.length&&this.forms[0].focus()},o.prototype.fill=function(e){this._process(e),s.default.each(this.forms,function(e,t){this._tryToDisableForm(t)}.bind(this)),this._updateUserField(e[0])},o.prototype._process=function(e){var t;if(this._firstFormName=e[0].Name,this.element.hasClass("properties--collapsed")?this._animateElement(this._changeTitleText.bind(this)):this._changeTitleText(),0!==this.forms.length){if(2===this.forms.length&&1===e.length)return this.forms[0].element.remove(),this.forms[1].element.remove(),this.forms=[],void this._createFormElement(e[0]);if(1!==this.forms.length||2!==e.length){if(this.forms.length===e.length)for(t=0;t<e.length;t++)e[t].Name!==this.forms[t].getName()?this.forms[t].fill(e[t]):this.forms[t].repaint(e[t].PropertiesEditors)}else for(this.forms[0].element.remove(),this.forms=[],t=0;t<e.length;t++)this._createFormElement(e[t])}else for(t=0;t<e.length;t++)this._createFormElement(e[t])},o.prototype._getPropertiesForms=function(e,t){e.SessionID=this._app.SessionID,a.default.getPropertiesForms(e,t)},o.prototype._sendPropertiesForm=function(e,t){e.SessionID=this._app.SessionID,a.default.sendPropertiesForm(e,t)},o.prototype.loadByDataSource=function(e,t){e&&(this._currentObj!==e||t)&&(this.setCurrentObj(e),this._getPropertiesForms({dataSourceIndex:e.Index},this.fill.bind(this)))},o.prototype.loadActiveUnionSubQuery=function(){o.activeUnionSubQuery||(this.setCurrentObj(null),o.activeUnionSubQuery=!0,this._getPropertiesForms({},this.fill.bind(this)))},o.prototype.loadByLink=function(e,t){(this._currentObj!==e||t)&&(this.setCurrentObj(e),this._getPropertiesForms({link:this._createLinkDto(e)},this.fill.bind(this)))},o.prototype.loadByUserField=function(e,t){null!=e&&(null!=this._currentObj&&!t&&this._currentObj.field&&this._currentObj.field.MetadataFullName===e.MetadataFullName||(this.setCurrentObj({field:e}),this._getPropertiesForms({metadataFullName:e.MetadataFullName},this.fill.bind(this))))},o.prototype.setCurrentObj=function(e){o.activeUnionSubQuery=!1,this._currentObj=e},o.prototype.getCurrentObj=function(){return"string"==typeof this._currentObj?this._currentObj:s.default.extend({},this._currentObj)},o.prototype.clear=function(){s.default.each(this.forms,function(e,t){t.clear()})},o.prototype._createFormElement=function(e){var t=new r(this);this.forms.push(t),this._root.append(t.element),t.fill(e)},o.prototype._tryToDisableForm=function(e){return void 0===this._currentObj&&this.disables.query?e.disable():"string"==typeof this._currentObj&&this.disables.datasource?e.disable():void(this.disables.link&&e.disable())},o.prototype._createLinkDto=function(e){return{left:{DataSourceIndex:e.Left.DataSourceIndex,FieldName:e.Left.FieldName},right:{DataSourceIndex:e.Right.DataSourceIndex,FieldName:e.Right.FieldName},LinkExpression:e.LinkExpression}},o.prototype._onChange=function(e,t,n){var i={formName:e};void 0===this._currentObj||o.activeUnionSubQuery||(this._currentObj.hasOwnProperty("Caption")?i.dataSourceIndex=this._currentObj.Index:this._currentObj.hasOwnProperty("field")?i.metadataFullName=this._currentObj.field.MetadataFullName:i.link=this._createLinkDto(this._currentObj)),i.editedField=t,i.editedValue=n.getValue(),this._sendPropertiesForm(i,function(){n.setValue(n.lastValue)})},o.prototype._changeTitleText=function(){var e=this.title.children("span"),t=function(){return this._firstFormName&&this.element.hasClass("properties--collapsed")?this._firstFormName:this._app.Localizer.Strings.Properties}.bind(this)();e.text(t),e.append(this.dock)},o.prototype._animateElement=function(e){function t(){r+=a?1:-1,n.style.left=r+"px",r>i&&a&&(a=!1,e()),r!==o?window.requestAnimationFrame(t):n.style.left=null}var n=this.title.children("span")[0],i=(0,s.default)(n).outerHeight()/2,o=parseInt((0,s.default)(n).css("left")),r=o,a=!0;window.requestAnimationFrame(t)},o.prototype._updateUserField=function(e){if(null!=this._currentObj&&this._currentObj.hasOwnProperty("field")){var t=e.PropertiesEditors.FieldName.Value;if(null!=t){var n=this._currentObj.field.MetadataFullName,i=n.lastIndexOf(".");this._currentObj.field.MetadataFullName=n.substr(0,i+1)+t}}},r.prototype.clear=function(){this._setFormName(""),this._editors=Object.create(null),this._primaryContainer.empty(),this._advancedContainer.empty().show()},r.prototype.fill=function(e){this.clear(),this._setFormName(e.Name);var t=[];for(var n in e.PropertiesEditors)t.push(e.PropertiesEditors[n]);t.sort(function(e,t){return e.Index-t.Index});var i=t.filter(function(e){return e.IsPrimary}),o=t.filter(function(e){return!e.IsPrimary});this._currentContainer=this._primaryContainer,this._renderProperties(i),this._currentContainer=this._advancedContainer,this._renderProperties(o),this._updateAdvanced()},r.prototype.repaint=function(e){for(var t in this._editors){var n=this._editors[t],i=e[t];null!=i&&(n.setValue(i.Value),this._disableEditor(n,i.ReadOnly))}},r.prototype._setFormName=function(e){e?this._formName.html(e).show():this._formName.hide(),this.getName=function(){return e}},r.prototype._renderProperties=function(e){var t=this;this._currentGroup=this._currentContainer,s.default.each(e,function(e,n){var i={name:n.Name,value:n.Value,label:n.Label,readonly:n.ReadOnly};switch(n.Type){case"String":t._renderProperty(t._stringEditor.bind(t),i,n);break;case"Int":t._renderProperty(t._numberEditor.bind(t),i,n);break;case"Bool":t._renderProperty(t._boolEditor.bind(t),i,n);break;case"Sql":t._renderProperty(t._sqlEditor.bind(t),i,n);break;case"Memo":t._renderProperty(t._memoEditor.bind(t),i,n);break;case"EnumRadioGroup":i.values=n.Values,t._renderProperty(t._radioGroupEditor.bind(t),i,n);break;case"EnumComboBox":i.values=n.Values,t._renderProperty(t._comboBoxEditor.bind(t),i,n);break;default:throw new Error(n.Type+" type is not defined")}})},r.prototype._updateAdvanced=function(){var e=this._advancedContainer;if(0===e.find(".properties__item").length)return e.hide();var t=this._container._app.Localizer.Strings.AdvancedDividerCaption;this._createToggler((0,s.default)("<h4>"+t+"</h4>"),e).click()},r.prototype._render=function(){this._formName=(0,s.default)('<div class="properties__name ui-state-active ui-corner-bottom">'),this._primaryContainer=(0,s.default)('<div class="properties__container properties__container--primary">'),this._advancedContainer=(0,s.default)('<div class="properties__container properties__container--advanced">'),this.element=(0,s.default)('<div class="ui-widget-content"></div>'),this.element.append(this._formName).append(this._primaryContainer).append(this._advancedContainer),this._container._app._useDefaultTheme&&this.element.addClass("qb-widget-content")},r.prototype._renderProperty=function(e,t,n){var i=this._createProperty(e,t);if(n.Group){if(n.Group!==this._currentGroup.children("h4").text()){var o=(0,s.default)('<div class="properties__group properties__group--'+n.Group.replace(" ","-")+'"></div>');this._currentContainer.append(o),this._currentGroup=o,n.TabPage===n.Group?this._createToggler((0,s.default)("<h4>"+n.Group+"</h4>"),o):o.prepend((0,s.default)('<h4 class="properties__group-name">'+n.Group+"</h4>"))}}else this._currentGroup=this._currentContainer;if(n.Divider){var r=(0,s.default)('<div class="properties__divider"><span>'+n.Divider+"</span></div>");this._currentGroup.append(r)}this._currentGroup.append(i)},r.prototype._createProperty=function(e,t){var n=(0,s.default)('<div class="properties__item clearfix">');null==t.value&&(t.value="");var i=e(t);return this._editors[t.name]=i.editor,i.editor.change(function(){this._container._onChange(this.getName(),t.name,i.editor)}.bind(this)),i.editor.focusin(function(){i.editor.lastValue=i.editor.getValue()}),this._disableEditor(i.editor,t.readonly),i.revert?n.append(i.editor).append(i.label):n.append(i.label).append(i.editor)},r.prototype.disable=function(){for(var e in this._editors)Object.hasOwnProperty.call(this._editors,e)&&this._disableEditor(this._editors[e],!0)},r.prototype.focus=function(){s.default.each(this._editors,function(e,t){t.prop("disabled")||t.focus()})},r.prototype._stringEditor=function(e){return e.type="text",this._simpleEditor(e)},r.prototype._numberEditor=function(e){return e.type="number",this._simpleEditor(e)},r.prototype._simpleEditor=function(e){var t=(0,s.default)('<span class="properties__label">'+e.label+"</span>"),n=(0,s.default)('<input type="'+e.type+'" class="properties__editor" value="'+e.value+'">');return n.keydown(function(e){13===e.keyCode&&(0,s.default)(this).blur()}),n.getValue=function(){return this.val()},n.setValue=function(e){this.val(e)},{label:t,editor:n}},r.prototype._boolEditor=function(e){var t=(0,s.default)('<span class="properties__label properties__label--checkbox">'+e.label+"</span>"),n=(0,s.default)('<input type="checkbox" class="properties__editor properties__editor--checkbox">');return n.prop("checked",e.value),n.getValue=function(){return this.prop("checked")},n.setValue=function(e){this.prop("checked",e)},{label:t,editor:n,revert:!0}},r.prototype._sqlEditor=function(e){return this._textareaEditor(e.label,e.value)},r.prototype._memoEditor=function(e){return this._textareaEditor(e.label,e.value)},r.prototype._textareaEditor=function(e,t){var e=(0,s.default)('<span class="properties__label properties__label--full">'+e+"</span>"),n=(0,s.default)('<textarea class="properties__editor properties__editor--full">'+t+"</textarea>");return n.getValue=function(){return this.val()},n.setValue=function(e){this.val(e)},{label:e,editor:n}},r.prototype._radioGroupEditor=function(e){var t=(0,s.default)('<span class="properties__label properties__label--full">'+e.label+"</span>"),n=(0,s.default)('<div class="properties__editor properties__editor--full">');return s.default.each(e.values,function(t,i){var o=(0,s.default)('<input type="radio" name="'+e.name+'" value="'+t+'" class="" /><span>'+i+"</span><br />");o.prop("checked",+t===e.value),n.append(o)}),n.getValue=function(){return this.children("input").filter(":checked").val()},n.setValue=function(e){this.children("input").eq(e).prop("checked",!0)},{label:t,editor:n}},r.prototype._comboBoxEditor=function(e){var t=(0,s.default)('<span class="properties__label">'+e.label+"</span>"),n=(0,s.default)('<select class="properties__editor">');return s.default.each(e.values,function(e,t){var i=(0,s.default)('<option value="'+e+'">'+t+"</option>");n.append(i)}),n.val(e.value),n.getValue=function(){return this.val()},n.setValue=function(e){this.val(e)},{label:t,editor:n}},r.prototype._createToggler=function(e,t){return e.addClass("properties__group-toggler"),e.click(function(){this._toggle(t,e)}.bind(this)),t.prepend(e),e},r.prototype._toggle=function(e,t){e.children("div").toggle(),t.toggleClass("properties__group-toggler--toggle")},r.prototype._disableEditor=function(e,t){e.prop("disabled",t),e.children("input").prop("disabled",t)},t.default=o},function(e,t,n){function i(e,t){this._app=t,this.parent=(0,o.default)(e).addClass("slideup"),this.element=(0,o.default)('<div class="qb-ui-editor-statusbar-message">'),this.parent.append(this.element)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(1);i.prototype.show=function(){this.parent.addClass("slidedown").removeClass("slideup")},i.prototype.hide=function(){this.parent.removeClass("slidedown").addClass("slideup")},i.prototype.messageInfo=function(e){this.element.removeClass("warning error"),this.element.addClass("information"),this.messageText(e)},i.prototype.messageWarning=function(e){this.element.removeClass("error information"),this.element.addClass("warning"),this.messageText(e)},i.prototype.messageError=function(e){this.element.removeClass("warning information"),this.element.addClass("error"),this.messageText(e)},i.prototype.messageText=function(e,t){(0,r.isEmpty)(e)||" "==e?(this.parent.hasClass("slidedown")?this.hide():(this.parent.removeClass("warning error information"),this.element.text("")),setTimeout(function(){this.parent.removeClass("warning error information"),this.element.text("")}.bind(this),1e3)):(void 0!==t&&(this.element.removeClass("warning error information"),this.element.addClass(t)),-1!==e.indexOf("&nbsp")?this.element.html(e):this.element.text(e),this.show())},i.prototype.dispose=function(){this.element.empty()},t.default=i},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=n(21),s=n(3),a=i(n(6)),l=n(1),u=i(n(25)),c=i(n(8)),d=i(n(10)),h=n(4),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.element=(0,o.default)(e),i._app=n,i.rows=[],i.orColumnCount=2,i.quickFilterInExpressionMatchFromBeginning=!1,i.currentEdit=null,i.inFocus=!1,i.updateCount=0,i.rowsHeaders=[],i.disabled=!1,i.blockFocus=0,i.nullOrderingInOrderBy=!1,i.staticEditControls=[],i.customEditButtons=null,i.staticControlKeys=[i._app.MetaData.FieldParamType.expression,i._app.MetaData.FieldParamType.sorting,i._app.MetaData.FieldParamType.sortingOrder,i._app.MetaData.FieldParamType.aggregate,i._app.MetaData.FieldParamType.groupingCriterion],i._init(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h),t}();p.prototype._init=function(){var e=this;this.useCustomExpressionBuilder=this.element.attr("UseCustomExpressionBuilder"),this.nullOrderingInOrderBy="true"==this.element.attr("NullOrderingInOrderBy"),this.hiddenBlock=(0,o.default)('<div class="qb-hidden"></div>').appendTo(this.element);var t=this.element.attr("orColumnCount");null==t||""==t||isNaN(t)||(this.orColumnCount=Number(t)),this.quickFilterInExpressionMatchFromBeginning="true"==this.element.attr("QuickFilterInExpressionMatchFromBeginning"),this.element.addClass("ui-widget").addClass("qb-ui-grid-container").addClass("sticky-wrap").droppable({hoverClass:"qb-ui-grid-hover",accept:l.Utils.gridDroppableSelector,tolerance:"pointer",drop:this._dropHandler.bind(this)});var n=this.element.get(0);n.addEventListener("mousewheel",l.scrollPreventer.bind(n)),this.table=(0,o.default)('<table cellspacing="0" cellpadding="0" border="0" />').addClass("ui-qb-grid__table").addClass("ui-widget-content").addClass("disable-selection").addClass("sticky-enabled").addClass("overflow-y").appendTo(this.element).mouseleave(this._mouseleaveHandler.bind(this)),this._app._useDefaultTheme&&this.table.addClass("qb-widget-content"),this.stickyTable=(0,o.default)('<table class="sticky-thead" />').appendTo(this.element),this._generateHeaders().appendTo(this.stickyTable),this.tableBody=(0,o.default)("<tbody/>").appendTo(this.table),this._tryAddEmptyRow(),this.element.focus(function(t){e.inFocus=!1}),this.element.attr("tabindex",0),this.element.keydown(function(t){switch(t.keyCode){case 13:if(e.inFocus)return;e.inFocus=!0,e.element.find("[tabindex]:visible:first").focus(),t.preventDefault();break;case 9:e.inFocus||t.preventDefault()}}),this.table.table({scrollable:!0,columns:{resizable:!0}}),this._tableDragConfig(),d.default.addElement(this)},p.prototype.focus=function(){},p.prototype._dropHandler=function(e,t){if(t.helper.hasClass("qb-ui-tree-field-helper")){var n=t.helper.data("nameFull"),i=t.helper.data("parentNameFull"),o=new s.Dto.DataSourceDto;o.IsNew=!0,o.Caption=i,o.Name=i,this.emit(p.Events.GridOnAddTableField,{table:o,tableName:i,fieldName:n})}else{var r=t.helper.data("object");r.AllFieldsSelected=!0,this.emit(p.Events.GridOnAddTable,{object:r})}},p.prototype._tableDragConfig=function(){var e=this;e.table.tableDnD({onDrop:function(t,n){e.tableBody.children(".row-drop-allowing").removeClass("row-drop-allowing");var i=(0,o.default)(n).data("object"),r=n,s=o.default.each(e._markedRows,function(e,t){t.element.show(),t.element.is(t)||(t.element.insertAfter(r),r=t.element)}).filter(function(e){return!e.element.is(n)}).map(function(e){return(0,o.default)(e.element).data("object")});i.isEmpty()||e.emit(p.Events.GridOnRowChanged,{row:i,markedRows:s}),delete this._markedRows},onDragStart:function(t,n){e._markedRows=e._getMarkedRows(),e._markedRows.length>1&&o.default.each(e._markedRows,function(e,t){t.element.hide()})},onAllowDrop:function(t,n){return e._markedRows.length>1&&(e.tableBody.children(".row-drop-allowing").removeClass("row-drop-allowing"),(0,o.default)(n).addClass("row-drop-allowing")),!0},dragHandle:"ui-qb-grid-row-action"})},p.prototype._mouseleaveHandler=function(){o.default.each(this.rows,function(e,t){t.marked&&t.clearMark()}.bind(this))},p.prototype._getMarkedRows=function(){return this.rows.filter(function(e){return e.marked})},p.prototype._tryAddEmptyRow=function(){var e=!1;o.default.each(this.rows,function(t,n){if(n.isEmpty())return e=!0,!1}),e||this.addOrUpdateRow(null,null,null,!0)},p.prototype._updateContextMenu=function(e){var t=this;if(!(0,l.isEmpty)(e)&&0!=e.Items.length){var n=l.Utils.updateContextMenuItems(e.Items);a.default.right({selector:".ui-qb-grid-row",app:this._app,build:function(e,t){var i=e.data("me");if(void 0===i)return{items:n};var r={},s=null;if((0,o.default)(t.target).parents().hasClass("ui-qb-grid-row-expression")){s=i.ExpressionSubQueries;var a=i;a&&(0,l.isEmpty)(a.getExpression())&&(r[(d={name:i._app.Localizer.Strings.InsertSubQuery,icon:"goto-subquery",data:null,key:"insert-subquery"}).key]=d)}if((0,o.default)(t.target).parents().hasClass("ui-qb-grid-row-condition")&&(s=i.ConditionSubQueries),s&&s.length)for(var u=0;u<s.length;u++){var c=s[u],d={name:i._app.Localizer.Strings.GotoSubquery+" "+c.Caption,icon:"goto-subquery",key:"goto-subquery-"+u};r[d.key]=d}return{items:r}},callback:function(e,n){var i=this.data("me");t._menuCallback(e,i,n.items[e])},items:n})}},p.prototype._menuCallback=function(e,t,n){var i=this,o=t.element;if(0==e.indexOf("goto-subquery"))return this._changeActiveUnionSubQuery(t);switch(e){case"insert-subquery":(r=new s.Dto.GridRowDto).Expression="(select *)",this.addRow(r);break;case"row-insert":var r=new s.Dto.GridRowDto;r.Expression="",i.addRow(r);break;case"move-up":o.next().length&&(o.insertBefore(o.prev()),t.isEmpty()||i.emit(p.Events.GridOnRowChanged,{row:t}));break;case"move-down":var a=o.next();a.length&&a.next().length&&(o.insertAfter(a),t.isEmpty()||i.emit(p.Events.GridOnRowChanged,{row:t}));break;case"row-delete":if(i.rows.length>1)t.delete();else{if(t.isEmpty())return;t.delete()}i._tryAddEmptyRow(t)}},p.prototype._changeActiveUnionSubQuery=function(e){var t=e.ExpressionSubQueries[0];t&&this._app.changeActiveUnionSubQuery(t.UnionSubQuery)},p.prototype.resetTable=function(){var e=this.table.table("instance");e&&(e.resetTable(),e.syncTable())},p.prototype.addOrUpdateRow=function(e,t,n,i){var o=this.findRowByDto(e);return null!=o?o.isEmpty()?(o.getExpressionCell().setValue(null),this.addRow(e,o,n,i)):(this.updateRow(o,e,n,i),o):this.addRow(e,t,n,i)},p.prototype.addRow=function(e,t,n,i){var r=new u.default(e,this);if(r.on(u.default.Events.GridRowOnChanged,this._onRowChanged.bind(this)),r.on(u.default.Events.GridRowOnRemove,this._onGridRowRemoved.bind(this)),r.on(u.default.Events.BeforeCustomEditCell,this._beforeCustomEditCell.bind(this)),r.on(u.default.Events.AfterMarkRow,this._onAfterMarkRow.bind(this)),null!=r&&!r.isEmpty()&&(0,l.isEmpty)(t)&&(t=this.getEmptyRow().element),0!==n&&(0,l.isEmpty)(n))null!=t&&t.length?(r.element.insertBefore(t),this.element.scrollTop(r.element.offset().top)):r.element.appendTo(this.tableBody);else{n=Number(n);var s=(0,o.default)("tr:not(.ui-qb-grid-row-header)",this.tableBody).eq(n);s.length?s.before(r.element):r.element.appendTo(this.tableBody)}return i||this.emit(p.Events.GridOnAddRow,r),this.rows.push(r),r},p.prototype.updateRow=function(e,t,n,i){if(0===n||!(0,l.isEmpty)(n)){if((n=Number(n))!=e.element[0].rowIndex){var r=(0,o.default)("tr:not(.ui-qb-grid-row-header)",this.tableBody).eq(n);r.length&&r.before(e.element)}}var s=e.update(t);return!i&&s&&this.emit(p.Events.GridOnRowChanged,{row:e}),s},p.prototype.getAllRows=function(){return this.rows.filter(function(e){return!e.isEmpty()})},p.prototype.getEmptyRow=function(){return this.rows.filter(function(e){return e.isEmpty()})[0]},p.prototype.removeRow=function(e){e.delete()},p.prototype.findRowByDto=function(e){var t=this.findRowsByDto(e);return t.length>0?t[0]:null},p.prototype.findRowsByDto=function(e){var t=[];if(null==e||e.IsNew)return[];if(null!=e.TempId)return[this._findByTempId(e.TempId)];for(var n=0;n<this.rows.length;n++){var i=this.rows[n];i.equal(e.Expression,e.Aggregate,e.Alias)&&t.push(i)}return t},p.prototype._findByTempId=function(e){for(var t=0;t<this.rows.length;t++){var n=this.rows[t];if(n.TempId===e)return n}},p.prototype.findRowByExpression=function(e){var t=this.findRowsByExpression(e);if(t.length>0)return t[0]},p.prototype.findRowsByExpression=function(e){var t=[];return o.default.each(this.rows,function(n,i){i.equal(e)&&t.push(i)}),t.length>0?t:(o.default.each(this.rows,function(n,i){i.equalSimilar(e)&&t.push(i)}),t)},p.prototype.importDto=function(e){var t=this,n=[];l.Utils.asyncArrayTask(e.Rows,20,function(e,i){for(var o=e.length,r=0;r<o;r++){var s=e[r],a=t.addOrUpdateRow(s,null,i+r,!0);n.push(a)}},function(){l.Utils.asyncArrayTask(t.getAllRows(),50,function(e){for(var i=e.length,r=0;r<i;r++)!function(i){var r=!1,s=e[i];o.default.each(n,function(e,t){if(t===s)return r=!0,!1}),r||(t.rows.remove(s),s.remove())}(r)},function(){t._toggleGroupColumn(),t._updateGroupingAllCheckbox()})})},p.prototype._updateGroupingAllCheckbox=function(){function e(e,t){this.groupingAll.prop("disabled",e),this.groupingAll.get(0).checked=t}if(this.rows.length<2)e.call(this,!0,!1);else{var t=0!==this.rows.filter(function(e){return e.getGrouping()}).length,n=0===this.rows.filter(function(e){return e.isChecked()}).length&&!t;e.call(this,n,t)}},p.prototype.updateExpression=function(e){var t=[];if(e.length)for(var n=0;n<e.length;n++){var i=e[n].getData("object"),s=(0,l.isEmpty)(i.NameInQuery)?i.Name:i.NameInQuery,a=s+".*";t.push({selected:!1,text:a,value:a,cssClass:"table"}),(0,o.default)(i.Fields).each(function(){var e=s+"."+this.NameStr,n=this.NameStr;t.push({selected:!1,text:n,value:e,cssClass:"field"})})}r.EditableSelectStatic.UpdateWrapper("grid-expression",t)},p.prototype._beforeCustomEditCell=function(e){e.row=e.dto,e.columnType=e.column,delete e.dto,delete e.column,this.emit(p.Events.GridBeforeCustomEditCell,e)},p.prototype._afterCustomEditCell=function(){},p.prototype._onRowChanged=function(e){var t=e.row;if(e)var n=e.key,i=e.newValue,o=e.oldValue;return this._rowChanged(t,n,o,i,e.afterCustomEdit)},p.prototype._onGridRowRemoved=function(e){this.emit(this.Events.GridOnRemoveRow,e)},p.prototype._rowChanged=function(e,t,n,i,o){this._tryAddEmptyRow(e),this.emit(p.Events.GridOnRowChanged,{row:e,key:t,newValue:i,oldValue:n,customEdit:o})},p.prototype._onAfterMarkRow=function(e){},p.prototype._updateSortingOrderColumn=function(){for(var e=[],t=0;t<this.rows.length;t++){var n=this.rows[t],i=n.getSorting();null!=i&&i>0&&e.push({row:n,sortingOrder:n.getValue(this._app.MetaData.FieldParamType.sortingOrder)})}e.sort(this._rowSorter);var o=[];for(t=0;t<e.length;t++)o.push({selected:!1,text:String(t+1),value:String(t+1),cssClass:"sortingOrder"}),(n=e[t].row).setValue(this._app.MetaData.FieldParamType.sortingOrder,t+1,!0),n.updateRowControl(this._app.MetaData.FieldParamType.sortingOrder);o.push({selected:!1,text:String(t+1),value:String(t+1),cssClass:"sortingOrder"}),r.EditableSelectStatic.UpdateWrapper("grid-sortingOrder",o)},p.prototype.updateAggregateColumn=function(){for(var e=0;e<this.rows.length;e++)this.rows[e].reCreateEditBlock(this._app.MetaData.FieldParamType.aggregate)},p.prototype._rowSorter=function(e,t){var n=t.sortingOrder,i=e.sortingOrder;return(0,l.isEmpty)(i)||i<0?1:(0,l.isEmpty)(n)||n<0?-1:(i=Number(i),n=Number(n),i-n)},p.prototype._toggleGroupColumn=function(){for(var e=!1,t=0;t<this.rows.length;t++)if(this.rows[t].getGrouping()){e=!0;break}(0,o.default)(".ui-qb-grid-row-groupingCriterion",this.element).css("display",e?"":"none")},p.prototype._generateHeaders=function(){var e=this,t=(0,o.default)("<thead />"),n=(0,o.default)("<tr />").addClass("ui-qb-grid-row-header").addClass("ui-widget-header").appendTo(t);return this._app._useDefaultTheme&&n.addClass("qb-widget-header"),o.default.each(this._getRowHeaderList(),function(t,i){var o=e._createHeaderCell(i);n.append(o)}),t},p.prototype._createHeaderCell=function(e){var t=(0,o.default)("<span>"+e.header+"</span>"),n=(0,o.default)('<th class="ui-qb-grid-row-'+e.name+'">');return"selected"===e.name?n.attr("colspan",3):n.addClass("allow-resize"),"grouping"===e.name&&(this.groupingAll=(0,o.default)('<input type="checkbox" />').click(this.toggleGrouping.bind(this)),n.prepend(this.groupingAll)),n.append(t)},p.prototype.toggleGrouping=function(){c.default.toggleGrouping({SessionID:this._app.SessionID})},p.prototype._getRowHeaderList=function(){var e=this._app.Localizer.Strings,t=this._app.MetaData.FieldParamType,n={};n[t.selected]={order:1,name:"selected",header:e.Criteria.Output,type:"checkbox"},n[t.expression]={order:2,name:"expression",header:e.Criteria.Expression,type:"expression"},n[t.alias]={order:3,name:"alias",header:e.Criteria.Alias,type:"text"},n[t.sorting]={order:4,name:"sorting",header:e.Criteria.SortType,type:"select"},n[t.sortingOrder]={order:5,name:"sortingOrder",header:e.Criteria.SortOrder,type:"select"},n[t.aggregate]={order:6,name:"aggregate",header:e.Criteria.Aggregate,type:"select"},n[t.grouping]={order:7,name:"grouping",header:e.Criteria.Grouping,type:"checkbox"},n[t.groupingCriterion]={order:8,name:"groupingCriterion",header:e.Criteria.CriteriaType,type:"select"},n[t.condition]={order:9,name:"condition",header:e.Criteria.CriteriaItem,type:"text"};for(var i=0;i<this.orColumnCount;i++)n[t.conditionOr1+i]={order:10+i,name:"conditionOr",header:e.Criteria.CriteriaOr,type:"text"};return n},p.prototype.dispose=function(){this.table.remove(),this.element.unbind(".QBGrid").empty()},p.prototype.show=function(){this.element.show()},p.prototype.hide=function(){this.element.hide()},p.Events={GridOnAddRow:"onAddRow",GridOnRemoveRow:"onRemoveRow",GridOnRowChanged:"onGridRowChanged",GridOnAddTable:"GridOnAddTable",GridOnAddTableField:"GridOnAddTableField",GridBeforeCustomEditCell:"GridBeforeCustomEditCell"},p.prototype.Events=p.Events,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(26),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=t.MetaData.FieldParamType}return i(e,[{key:"create",value:function(e,t){switch(e){case this.types.action:return new o.ActionCell(t,e);case this.types.deleting:return new o.DeletingCell(t,e);case this.types.selected:return new o.SelectedCell(t,e);case this.types.expression:return new o.ExpressionCell(t,e);case this.types.alias:return new o.AliasCell(t,e);case this.types.sorting:return new o.SortingCell(t,e);case this.types.sortingOrder:return new o.SortingOrderCell(t,e);case this.types.aggregate:return new o.AggregateCell(t,e);case this.types.grouping:return new o.GroupingCell(t,e);case this.types.groupingCriterion:return new o.GroupingCriterionCell(t,e);case this.types.condition:return new o.ConditionCell(t,e);default:return new o.ConditionOrCell(t,e)}}},{key:"createEmpty",value:function(e,t){return e===this.types.expression?new o.ExpressionCell(t,e):new o.EmptyCell(t,e)}}]),e}();t.default=r},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=n(1),s=i(n(5)),a=n(3),l=i(n(8)),u=i(n(10)),c=i(n(76)),d=i(n(77)),h=n(4),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._app=n,i.element=(0,o.default)(e),i._content=(0,o.default)('<div class="qb-ui-tree-item-block disable-selection">'),i._itemsElement=(0,o.default)('<div class="qb-ui-tree-items">').append('<ul><li><div class="node-expandable"></div><span class="tree-node loading">'+i._app.Localizer.Strings.Loading+"</span></li></ul>"),i._filter=new c.default(i._app),i._filteredItemsElement=(0,o.default)('<div class="qb-ui-tree-filtered-items"></div>'),i.element.append(i._filter.element),i._content.append(i._itemsElement).append(i._filteredItemsElement),i.element.append(i._content),i._showDescriptionInTooltip=i.element.hasClass("showDescriptionInTooltip"),i._defaultExpandMetadataType=Number(i.element.attr("DefaultExpandMetadataType")),i._filterChangeRoutineT=o.default.debounce(i._filterChangeRoutine,500,i),Object.defineProperty(i,"filter",{get:function(){return this._filter.value}}),i._initEvents(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h),t}();p.prototype._initEvents=function(){var e,t=this,n=!0;this.element.on("click",".tree-node.is-expandable",function(i){n?(n=!1,e=setTimeout(function(){n=!0,t._expand(i)},200)):(clearTimeout(e),n=!0)}),this._itemsElement.on("click",".node-expandable",this._expand.bind(this)),this._filter.on("change",this._filterChangeRoutineT.bind(this)),this._content.on("dblclick",".qb-ui-tree-items span.qb-ui-object, .qb-ui-tree-filtered-items span.qb-ui-object",function(e){return function(e){var n=(0,o.default)(e),i=new a.Dto.DataSourceDto;i.IsNew=!0,i.Caption=n.attr("caption"),i.Name=n.attr("nameFull"),n.children("span").hasClass("qb-ui-object-procedure")&&(i.isProc=!0),t.emit(p.Events.TreeDoubleClickNode,i)}(e.currentTarget.parentNode),e.stopPropagation(),!1});var i=this._content.get(0);i.addEventListener("mousewheel",r.scrollPreventer.bind(i)),this._content.on("dblclick",".qb-ui-tree-items span.qb-ui-object-field",function(e){return function(e){var n=(0,o.default)(e),i=n.parent().parent(),r=new a.Dto.DataSourceDto;r.IsNew=!0,r.Caption=i.attr("caption"),r.Name=i.attr("nameFull");var s={table:r,field:void 0,tableName:i.attr("nameFull"),fieldName:n.attr("nameFull")};n.parent().parent().children("span").hasClass("qb-ui-object-procedure")&&(s.isProc=!0),t.emit(p.Events.TreeDoubleClickNode,s)}(e.currentTarget.parentNode),e.stopPropagation(),!1}),this._makeResizable(),u.default.addElement(this._filter),u.default.addElement(this)},p.prototype._makeResizable=function(){var e=this.element.parents(".qb-ui-layout__left");e.length&&e.resizable({handles:"e"})},p.prototype.focus=function(){this._content.addClass(s.default.focusClass)},p.prototype.blur=function(){this._content.removeClass(s.default.focusClass)},p.prototype._expand=function(e){var t=e.target,n=(0,o.default)(t).parent("li"),i=n.children("ul");i.length&&""!==i.html()?this._toggleNode(i,!1):(0,r.isEmpty)(n.attr("IsLoaded"))?this.filter?this._loadFilteredItems(n):this._loadChildItems(n):this._toggleNode(i,!1)},p.prototype._loadChildItems=function(e){if(e.attr("IsLoaded"))return!1;e.children(".tree-node").addClass("loading"),this._getTreeNode({Path:e.attr("path")},function(t){this._loadChildItemsCallback(e,t)}.bind(this))},p.prototype._loadFilteredItems=function(e){var t={Filter:this.filter};e&&(t.Path=e.attr("path")),this._getTreeNode(t,function(t){this._loadFilteredItemsCallback(e,t)}.bind(this))},p.prototype._getTreeNode=function(e,t){e.SessionID=this._app.SessionID,l.default.getTreeNode(e,t)},p.prototype._loadChildItemsCallback=function(e,t){this.importData(t),e&&(e.children(".tree-node").removeClass("loading"),e.attr("IsLoaded",!0))},p.prototype._loadFilteredItemsCallback=function(e,t){this._loadChildItemsCallback(e,t)},p.prototype.stopLoadingIndication=function(){(0,o.default)(".tree-node.loading").hide().removeClass("loading")},p.prototype.dispose=function(){this.element.empty()},p.prototype._importData=function(e){if(this._showTreePanel(),!e.Path)return this._rebuild(e);var t=this._getExpandedNodes(this._itemsElement),n=this._getNodeByPath(e.Path,this._itemsElement);this._buildItems(e,n,t)},p.prototype._rebuild=function(e){this._itemsElement.empty(),this.clearFilter(),this._buildItems(e,this._itemsElement,[])},p.prototype._importFilteredData=function(e){var t;this._showFilterPanel(e.Path);var n=this._getExpandedNodes(".qb-ui-tree-filtered-items");t=e.Path?this._filteredItemsElement.find('li[path="'+e.Path+'"]'):this._filteredItemsElement,this._buildItems(e,t,n)},p.prototype._getExpandedNodes=function(e){return(0,o.default)("li.node-expanded",e).map(function(){return(0,o.default)(this).attr("path")}).get()},p.prototype._showTreePanel=function(){this._filteredItemsElement.hide(),this._itemsElement.show()},p.prototype._showFilterPanel=function(e){this._itemsElement.hide(),this._filteredItemsElement.show(),e||this._filteredItemsElement.html("")},p.prototype.clearFilter=function(){this._filter.clear(),this._showTreePanel()},p.prototype.setFilter=function(e){this._filter.value=e},p.prototype._filterChangeRoutine=function(e){(0,r.isEmpty)(e)?this._showTreePanel():this._loadFilteredItems()},p.prototype._collapseNode=function(e,t){var n=e.parent("li");n.addClass("node-collapsed"),n.removeClass("node-expanded"),t?e.hide():e.slideUp(250)},p.prototype._expandNode=function(e,t){var n=e.parent("li");n.addClass("node-expanded"),n.removeClass("node-collapsed"),t?e.show():e.slideDown(250)},p.prototype._toggleNode=function(e,t){var n=e.parent("li");n.toggleClass("node-expanded"),n.toggleClass("node-collapsed"),t?e.toggle():e.slideToggle(250)},p.prototype.importData=function(e){null!=e&&(e.IsFiltered?this._importFilteredData(e):this._importData(e))},p.prototype._buildItems=function(e,t,n){var i=this,s=e.Items;if((0,r.isEmpty)(s)){var l=t.find(".loading");l.hasClass("is-expandable")||l.html(""),l.removeClass("loading")}else if(s.length>0){if(t.children(".tree-node").hasClass("loading")){var u=!0;t.children(".tree-node").removeClass("loading")}var c=t.children("ul");0===c.length?(c=(0,o.default)("<ul>").appendTo(t),this._filter.value?0==(e.Type&a.Enum.MetadataType.Objects)?this._expandNode(c,!0):this._collapseNode(c,!0):t.hasClass("node-expanded")||this._needToExpand(e.Type)?this._expandNode(c,!0):this._collapseNode(c,!0)):c.html(""),r.Utils.asyncArrayTask(s,30,function(e){for(var t=e.length,o=0;o<t;o++){var r=e[o],s=new d.default(r,i._filter.value,n,i._app);c.append(s.element),i._bindItemsEvents(c),u&&c.is(":hidden")&&i._expandNode(c),null!=r.Items&&r.Items.length>0&&i._buildItems(r,s.element,n)}})}},p.prototype._bindItemsEvents=function(e){var t=this;e.find(".qb-ui-object").draggable({opacity:.8,appendTo:"body",distance:10,revert:"invalid",scroll:!1,helper:function(e){var n=e.currentTarget.parentNode,i=(0,o.default)(n),s=new a.Dto.DataSourceDto;s.IsNew=!0,s.Caption=i.attr("caption"),s.Name=i.attr("nameFull"),s.isProc=(0,o.default)(this).hasClass("qb-ui-object-procedure");var l=(0,o.default)("<div>").addClass(r.Utils.canvasDroppableClass).qbtable({isHelper:!0,object:s,zIndex:7e3,app:t._app});return l[0]}}),e.find(".qb-ui-object-field").draggable({opacity:1,appendTo:"body",distance:10,revert:"invalid",scroll:!1,helper:function(e){var t=(0,o.default)(e.currentTarget.parentNode),n=t.parents("li"),i=t.attr("name"),s=(0,o.default)('<span class="qb-ui-tree-field-helper">'+i.replace(/ /g,"&nbsp;")+"</span>");return s.addClass(r.Utils.canvasDroppableClass),s.addClass(r.Utils.gridDroppableClass),s.data("nameFull",t.attr("nameFull")),s.data("parentNameFull",n.attr("nameFull")),s.data("isProc",n.children("span").hasClass("qb-ui-object-procedure")||n.children("span").hasClass("storedproc")),s[0]}})},p.prototype._needToExpand=function(e){return e!==this._defaultExpandMetadataType&&(this._defaultExpandMetadataType!==a.Enum.MetadataType.Root&&(0==(this._defaultExpandMetadataType&e)&&e<this._defaultExpandMetadataType))},p.prototype._getNodeByPath=function(e,t){if(!e)return t;for(var n=e.split("/"),i=1;i<n.length;i++){var o=n[i];if((0,r.isEmpty)(o))break;var s=t.children("ul").children("li:eq("+o+")");if(!s.length)return t;t=s}return t},p.prototype.show=function(){this.element.show()},p.prototype.hide=function(){this.element.hide()},p.Events={TreeSelectNode:"TreeSelectNode",TreeDoubleClickNode:"TreeDoubleClickNode"},t.default=p},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),s=i(n(5)),a=(n(1),n(4)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._app=e;var i=n._app.Localizer.Strings.Find;return n.element=(0,r.default)('<div class="qb-ui-tree-item-filter-block">'),n._input=(0,r.default)('<input class="qb-ui-tree-item-filter-input" placeholder="'+i+'" autocomplete="off" />'),n._clear=(0,r.default)('<span class="qb-ui-tree-item-filter-clear icon-cross">'),n.element.append('<span class="icon-filter">').append(n._input).append(n._clear),n._initEvents(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),o(t,[{key:"_initEvents",value:function(){this._input.keyup(this._change.bind(this)),this._input.keydown(this._changeStub.bind(this)),this._clear.click(this.clear.bind(this))}},{key:"_change",value:function(e){if(13===e.keyCode)return!1;this.emit("change",this.value)}},{key:"_changeStub",value:function(e){if(13===e.keyCode)return!1}},{key:"clear",value:function(){this.value=""}},{key:"focus",value:function(){this.element.addClass(s.default.focusClass),this._input.focus()}},{key:"blur",value:function(){this.element.removeClass(s.default.focusClass),this._input.blur()}},{key:"value",get:function(){return this._input.val()},set:function(e){this._input.val(e),this.emit("change",this.value)}}]),t}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(3),s=n(1),a=n(1),l=function(){function e(t,n,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=(0,o.default)("<li>"),this._app=s;var a=this._app.Localizer.Strings.DataSource+" "+t.Caption,l=t.Caption;n&&0!=(t.Type&r.Enum.MetadataType.Objects)&&(l=t.QualifiedName),n&&(l=this._highlightText(l,n));var u=t.IsExpandable,c=t.IsMetadataObject?"qb-ui-object ":"",d='<span class="'+(u?"node-expandable ":"node-nonexpandable ")+'"></span>',h="node-collapsed";i&&i.contains(t.Path)&&(h="node-expanded");var p=this._createTooltip(t),f=this._createSpan(l,a,t.TypeStr,c,u,p),m=this._createIcon(t);this.element.append(d),this.element.append(m),this.element.append(f),this.element.attr("class",h),this.element.attr("index",t.Index),this.element.attr("caption",t.Caption),this.element.attr("name",t.Name),this.element.attr("qualifiedName",t.QualifiedName),this.element.attr("path",t.Path),this.element.attr("nameFull",t.NameFull),t.IsLoaded&&this.element.attr("IsLoaded","true")}return i(e,[{key:"_createSpan",value:function(e,t,n,i,r,s){var l=(0,o.default)("<span>");return l.html(e),l.attr("tabindex","0"),l.attr("aria-label",t),l.addClass("tree-node"),l.addClass(a.Utils.canvasDroppableClass),l.addClass(a.Utils.gridDroppableClass),l.addClass("qb-ui-object-"+n),l.addClass(i),l.addClass(r?"is-expandable":""),s&&l.attr("title",s),l}},{key:"_createIcon",value:function(e){var t=(0,o.default)('<span class="tree-node-icon">');if(t.attr("db-type",e.TypeStr),e.Type===r.Enum.MetadataType.Field){var n="simple";e.IsPrimaryKey&&(n="pk"),t.attr("field-type",n)}return t}},{key:"_createTooltip",value:function(e){if("function"==typeof this.tooltipGetText)return this.tooltipGetText({caption:e.Caption,description:e.Description,name:e.Name,fullName:e.NameFull,type:e.Type,typeStr:e.TypeStr});var t=this._app.MetaData.MetadataType.getKeyName(e.Type,this._app.Localizer),n=(0,s.isEmpty)(t)?"":t+": ";return n+=void 0!==e.FullQualifiedName?e.FullQualifiedName:"",this._showDescriptionInTooltip&&(n+=(0,s.isEmpty)(e.Description)?"":"\n"+e.Description),n}},{key:"_highlightText",value:function(e,t){var n=new RegExp("("+t+")","ig");return e.replace(n,'<span class="qb-ui-tree-highlight">$1</span>')}}]),e}();t.default=l},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e){this._app=e,this.element=(0,r.default)('<div class="qb-ui-canvas-navbar-breadcrumb-container">'),this.breadcrumbsContainer=(0,r.default)('<div class="breadcrumbs">').hide(),this.subQueriesContainer=(0,r.default)('<div class="subquery-button-container">'),this.maxCaptionLength=20,this.element.append(this.breadcrumbsContainer).append(this.subQueriesContainer)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),s=i(n(9));o.prototype.build=function(e){var t=function(){for(var t=e.Items.slice(),n=0;n<t.length;n++)t[n].Parent=e;for(;0!==t.length;){var i=t.pop();if(i.Active)return i;for(var o=0;o<i.Items.length;o++)i.Items[o].Parent=i;t=t.concat(i.Items)}}();if(t)var n=function(e){for(var t=[e],n=e;;){if(!n.Parent)return t;t.unshift(n.Parent),n=n.Parent}}(t);this._buildBreadcrumbs(n||[e]),this._buildSubQueries(t||e)},o.prototype._buildBreadcrumbs=function(e){var t=e.length;this.breadcrumbsContainer.empty(),0===t?this.breadcrumbsContainer.hide():this.breadcrumbsContainer.show(),r.default.each(e,function(e,n){var i=this._createButton(n,e===t-1,!0);this.breadcrumbsContainer.append(i),this.breadcrumbsContainer.append((0,r.default)('<span class="breadcrumbs-arrow">'+s.default.arrow+"</span>"))}.bind(this))},o.prototype._buildSubQueries=function(e){this.subQueriesContainer.empty(),r.default.each(e.Items,function(e,t){var n=this._createButton(t,!1,!1);this.subQueriesContainer.append(n)}.bind(this))},o.prototype._createButton=function(e,t){var n="ui-icon-qb-"+e.Class,i='<span class="subquery__name">'+this._trimCaption(e.Caption)+"</span>",o=(0,r.default)('<div class="subquery">').html(i).data("GUID",e.Guid).data("UnionSubQuery",e.UnionSubQuery).uiHoverable().jQButton({disabled:t,icons:{primary:n}});return e.Active?o.addClass("ui-state-active"):o.addClass("ui-button-enabled"),t||(this._acces(o),o.click(function(){this.onClick(e)}.bind(this))),o.children(".ui-icon-qb-main").html(s.default.root),o.children(".ui-icon-qb-derived").html(s.default.tabDerrived),o.children(".ui-icon-qb-cte").html(s.default.tabCte),o.children(".ui-icon-qb-subquery").html(s.default.tabSubQuery),o},o.prototype._trimCaption=function(e){return null==e?e:e.length<=this.maxCaptionLength?e:e.substr(0,this.maxCaptionLength)+"&hellip;"},o.prototype._acces=function(e){e.attr("tabindex",0).keydown(function(e){32!==e.keyCode&&13!==e.keyCode||(0,r.default)(e.target).trigger("click")})},o.prototype._createChildMenu=function(e){var t=this,n=(0,r.default)("<ul/>");return r.default.each(e,function(e,i){var o="ui-icon-qb-"+i.Class,a=t._trimCaption(i.Caption),l=(0,r.default)("<span>"+a+"</span>").data("GUID",i.Guid).data("UnionSubQuery",i.UnionSubQuery).click(function(e){return n.hide(),t.onClick(i.UnionSubQuery),e.stopPropagation(),!1}).attr("title",a),u=(0,r.default)("<li>");u.append(l);var c="";"derived"===i.Class?c=s.default.tabDerrived:"cte"!==i.Class&&null!=i.Class||(c=s.default.tabCte),u.append('<span class="ui-icon '+o+'">'+c+"</span>"),n.append(u)}),n.menu({select:function(e,i){return n.hide(),t.onClick(e),e.stopPropagation(),!1}}),n},o.prototype.focus=function(){},t.default=o},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=n(1),s=i(n(9)),a=i(n(27)),l=i(n(6)),u=n(4),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._app=e,n.parentElement=(0,o.default)('<div class="qb-ui-canvas-navbar-union-panel">'),n.element=(0,o.default)('<div class="qb-ui-canvas-navbar-controls">'),n.parentElement.append(n.element),n._createDerivedTableButton(),n._createCteButtons(),n._createUnions();var i=(0,o.default)(".ui-widget-header").css("background-color");return(0,o.default)(".union-path",n.element).css("fill",i).css("stroke",i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),t}();c.prototype.enableUnions=function(e){this._unionsEnabled=e,e?this._unions.show():this._unions.hide()},c.prototype.enableCte=function(e){this._cteEnabled=e,e?(this._newCteButton.show(),this._existingCtes.show()):(this._newCteButton.hide(),this._existingCtes.hide())},c.prototype.show=function(){this.element[0].style.display=null,this.parentElement[0].style.display=null},c.prototype.hide=function(){this.element[0].style.display="none",this.parentElement[0].style.display="none"},c.prototype._createDerivedTableButton=function(){var e=(0,o.default)('<span class="new-derived-table-button">').click(function(){this._app._onCanvasContextMenuCommand({action:"add-derived-table"})}.bind(this));this.element.append(e)},c.prototype._createCteButtons=function(){this._newCteButton=(0,o.default)('<span class="new-cte-button">').click(function(e){this._app._onCanvasContextMenuCommand({action:"add-cte-new"})}.bind(this)),this._existingCtes=(0,o.default)('<span class="existing-ctes-button">').click(function(){this._showCtesContextMenu()}.bind(this)),this.element.append(this._newCteButton).append(this._existingCtes)},c.prototype.updateCtes=function(e){this._cteEnabled&&(this.ctes=e,0===e.length?this._existingCtes.hide():this._existingCtes.show())},c.prototype._createUnions=function(){this._unions=(0,o.default)('<div class="qb-ui-canvas-navbar-controls-pane">'),this.element.append(this._unions)},c.prototype.updateUnions=function(e){if(this._unionsEnabled){this._unions.empty();for(var t=e.length,n=[],i=0;i<t;i++){var o=e[i],r=this._createControl(i,o);n.push(r)}var s=this._grouping(n);this._unions.append(s)}},c.prototype._showCtesContextMenu=function(){this.ctes.forEach(function(e){e.name=e.Caption});var e=function(e,t){var n=this.ctes[e];this._app._onCanvasContextMenuCommand({action:"add-cte-query",cte:n})}.bind(this);l.default.right({selector:".existing-ctes-button",app:this._app,parent:this.element,items:this.ctes,callback:e}),l.default.show('[sessionid="'+this._app.SessionID+'"] .existing-ctes-button')},c.prototype._createControl=function(e,t){var n;switch(t.Type){case 0:n=this._createPlus(e,t),this._subscribeToClickButton(n);break;case 1:n=this._createQuery(e,t),this._subscribeToClickButton(n);break;case 2:n=this._createOperator(e,t),this._subscribeToClickOperator(n);break;case 3:n=this._createLeftBracket(e,t);break;case 4:n=this._createRightBracket(e,t)}return n.data("item",t),this._updateNavBarContextMenu(n,t.ContextMenu),n},c.prototype._createQuery=function(e,t){var n=this._createBaseControl(e,"Q","Q ui-state-default");return t.Active&&n.addClass("ui-state-active"),n},c.prototype._createOperator=function(e,t){return this._createBaseControl(e,"",t.CssClass)},c.prototype._createPlus=function(e){return this._createBaseControl(e,s.default.addUnion,"plus-button")},c.prototype._createLeftBracket=function(e){return this._createBaseControl(e,"(","left-bracket")},c.prototype._createRightBracket=function(e){return this._createBaseControl(e,")","right-bracket")},c.prototype._createBaseControl=function(e,t,n,i){var r="union-control-"+e;return(0,o.default)('<div class="control" id="'+r+'">').html(t).addClass(n).addClass(i)},c.prototype._grouping=function(e){for(var t,n,i,o,r=[],s=e.length,a=0;a<s;a++){switch(t=e[a],n=e[a-1],(o=t.data("item")).Type){case 0:i=this._createControlGroup(null,t),this._subscribeToDrop(i,o.Type);break;case 1:i=n&&2===n.data("item").Type?this._createControlGroup(n,t):this._createControlGroup(null,t),this._subscribeToDrag(i),this._subscribeToDrop(i,o.Type);break;case 3:i=this._createControlGroup(n,t),this._subscribeToDrop(i,o.Type);break;case 4:i=this._createControlGroup(null,t),this._subscribeToDrop(i,o.Type)}r.push(i)}return r},c.prototype._createControlGroup=function(e,t){return(0,o.default)('<span class="union-group">').append(e).append(t)},c.prototype._subscribeToClickButton=function(e){e.click(function(e){var t=(0,o.default)(e.currentTarget),n=t.data("item");t.data("fired.longclick")||n.Active||(this._app._onNavBarAction(n.Action),n&&n.Active&&t.addClass("ui-state-active"))}.bind(this))},c.prototype._subscribeToClickOperator=function(e){e.click(function(e){var t="#"+e.currentTarget.id;l.default.show(t)})},c.prototype._subscribeToDrop=function(e,t){var n=this;(0,o.default)(e).droppable({hoverClass:"Q--drop-hover",accept:".union-group",tolerance:"pointer",drop:function(e,i){var r,s,l=(0,o.default)(this);switch(t){case 0:r="MoveUnionSubQueryToEnd";break;case 1:r="MoveUnionSubQueryBeforeSubQuery",s=l.children(".Q").data("item").Action.Guid;break;case 3:r="MoveUnionSubQueryBeforeSubQuery",s=l.children(".left-bracket").data("item").Action.Guid;break;case 4:r="MoveUnionSubQueryToEnd",s=l.children(".right-bracket").data("item").Action.Guid}n.emit(a.default.Events.NavBarAction,{Key:r,Guid:i.draggable.children(".Q").data("item").Action.Guid,Data:s}),l.before(i.draggable)}})},c.prototype._subscribeToDrag=function(e){(0,o.default)(e).draggable({opacity:.2,appendTo:this.element,distance:10,revert:"invalid",helper:"clone",start:function(e,t){(0,o.default)(e.target).hide()},stop:function(e,t){(0,o.default)(e.target).show()}})},c.prototype._updateNavBarContextMenu=function(e,t){if(!(0,r.isEmpty)(t)&&0!==t.Items.length){var n=this._generateNavBarContextMenuItems(t.Items),i="#"+e[0].id,o=function(e,t){var n=t.items[e].data;this._contextMenuCallback(e,n)}.bind(this);l.default.right({selector:i,app:this._app,parent:this.parentElement,items:n,callback:o,position:function(e){e.$menu.position({my:"left top",at:"center bottom",of:e.$trigger})}})}},c.prototype._generateNavBarContextMenuItems=function(e){if(null==e||0===e.length)return null;for(var t,n={},i=0;i<e.length;i++){var o=(t=e[i]).Key;null!=t.Name&&"-"===t.Name.substr(0,1)?n[o]=t.Name:n[o]={name:t.Name,icon:o+(t.Checked?" checked":""),items:this._generateNavBarContextMenuItems(t.Items),data:t}}return n},c.prototype._contextMenuCallback=function(e,t){var n=null;null!=t&&void 0!==t.Action&&(n=t.Action),this.emit(a.default.Events.NavBarAction,n)},t.default=c},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e){this._app=e,this.element=(0,r.default)('<div class="qb-ui-query-structure"></div>'),this.container=this.createNode(),this.element.append(this.container)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),s=i(n(9));o.prototype.build=function(e){this.container.empty(),this._fillNode(this.container,[e])},o.prototype.createNode=function(){return(0,r.default)("<ul>")},o.prototype.createLeaf=function(e){var t=(0,r.default)("<li>"),n=(0,r.default)('<span class="qb-ui-query-structure__caption">'+e.Caption+"</span>"),i=this._createIcon(e);if(0!==e.Items.length)var o=this._createExpander(t,e);return t.append(o).append(i).append(n).click(function(t){this.hide(),this.onClick(e),t.stopPropagation()}.bind(this))},o.prototype._createIcon=function(e){var t=(0,r.default)("<i>");switch(e.Class){case"main":t.html(s.default.root);break;case"derived":t.html(s.default.tabDerrived);break;case"cte":t.html(s.default.tabCte);break;case"subquery":t.html(s.default.tabSubQuery)}return t},o.prototype._createExpander=function(e,t){var n=(0,r.default)('<span class="node-expandable node-collapsible"></span>');return n.click(function(){return e.children("ul").toggle(),n.toggleClass("node-collapsible"),!1}.bind(this)),n},o.prototype._fillNode=function(e,t){for(var n=0;n<t.length;n++){var i=t[n],o=this.createLeaf(i);e.append(o);if(0!==i.Items.length){var r=this.createNode();o.append(r),this._fillNode(r,i.Items)}}},o.prototype.show=function(){this.element.show()},o.prototype.hide=function(){this.element.hide()},o.prototype.focus=function(){this.show()},o.Events={TreeStructureSelectNode:"TreeStructureSelectNode"},t.default=o},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=(n(3),i(n(8))),s=n(1),a=n(4),l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._app=n,i.element=(0,o.default)(e),i._render(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),t}();l.prototype._render=function(){this.toolbar=this._renderToolbar(),this.content=(0,o.default)('<ul class="qb-ui-user-queries__folder qb-ui-user-queries__folder--root"></ul>'),this.content.mousedown(this.clearSelected.bind(this)),this.element.append(this.toolbar).append(this.content)},l.prototype._renderToolbar=function(){var e=(0,o.default)('<div class="qb-ui-user-queries__toolbar"></div>');return this.addButton=(0,o.default)('<i class="qb-ui-user-queries__button qb-ui-user-queries__button--add">').click(this._createQueryFolder.bind(this)),this.createButton=(0,o.default)('<i class="qb-ui-user-queries__button qb-ui-user-queries__button--create">').click(this._createUserQuery.bind(this)),this.saveButton=(0,o.default)('<i class="qb-ui-user-queries__button qb-ui-user-queries__button--save" disabled>').click(this._saveUserQuery.bind(this)),this.editButton=(0,o.default)('<i class="qb-ui-user-queries__button qb-ui-user-queries__button--edit" disabled>').click(this._editUserQuery.bind(this)),this.removeButton=(0,o.default)('<i class="qb-ui-user-queries__button qb-ui-user-queries__button--remove" disabled>').click(this._removeSelected.bind(this)),e.append(this.addButton).append(this.createButton).append(this.saveButton).append(this.editButton).append(this.removeButton)},l.prototype.fill=function(e){this.content.empty(),this._renderQueryFolder(e,this.content)},l.prototype._createQueryFolder=function(){var e=this._getActiveFolder(),t={abort:!1,name:this._app.Localizer.Strings.NewFolder,parentFolder:e};if(this.emit(l.Events.OnCreateFolder,t),!t.abort){var n={ParentFolderName:e.folder.Name,Name:t.name,SessionID:this._app.SessionID};r.default.createQueryFolder(n,function(t){t.ParentFolder=e.folder,e.element.slideDown(),this._renderQueryFolder(t,e.element)}.bind(this))}},l.prototype._getActiveFolder=function(){return void 0===this._selected?{folder:{},element:this.content}:"query"===this._selected.type?{folder:this._selected.object.ParentFolder,element:this._selected.element.parent()}:{folder:this._selected.object,element:this._selected.element.children("ul")}},l.prototype._renameObject=function(e,t,n){function i(){e.Name=t,n.text(t)}var o={abort:!1,element:n,object:e,newName:t};if(this.emit(l.Events.OnRename,o),!o.abort){var s={Name:e.Name,NewName:t,SessionID:this._app.SessionID};e.hasOwnProperty("Expression")?r.default.renameUserQuery(s,i):r.default.renameQueryFolder(s,i)}},l.prototype._moveObject=function(e,t,n,i){function o(){e.ParentFolder=n,i.append(t).slideDown()}var s={Name:e.Name,ParentFolderName:n.Name,SessionID:this._app.SessionID};"query"===this._selected.type?r.default.moveUserQuery(s,o):r.default.moveQueryFolder(s,o)},l.prototype._deleteQueryFolder=function(e,t){var n={Name:e.Name,SessionID:this._app.SessionID};r.default.deleteQueryFolder(n,function(){t.remove(),delete this._selected}.bind(this))},l.prototype._deleteUserQuery=function(e,t){var n={Name:e.Name,SessionID:this._app.SessionID};r.default.deleteUserQuery(n,function(){t.remove(),delete this._selected}.bind(this))},l.prototype._rename=function(e,t){var n=this,i=t.children("span"),r=(0,o.default)('<input type="text" value="'+e.Name+'" />').change(function(){n._renameObject(e,this.value,i)}).keyup(function(e){13===e.keyCode&&(0,o.default)(this).focusout()}).focusout(function(){i.show(),(0,o.default)(this).remove()});i.hide(),i.after(r),r.focus()},l.prototype._editUserQuery=function(){if(!this.editButton.attr("disabled")){var e={abort:!1,element:this._selected.element,query:this._selected.object};this.emit(l.Events.OnEdit,e),e.abort||this._app.setSql(this._selected.object.Expression)}},l.prototype._createUserQuery=function(){if(this._app.SQL){var e=this._getActiveFolder(),t={abort:!1,name:this._app.Localizer.Strings.NewUserQuery,expression:this._app.SQL,parentFolder:e};if(this.emit(l.Events.OnCreateUserQuery,t),!t.abort){var n={name:t.name,expression:t.expression,parentFolderName:e.folder.Name,SessionID:this._app.SessionID};r.default.createUserQuery(n,function(t){t.ParentFolder=e.folder,e.element.slideDown(),this._renderUserQuery(t,e.element)}.bind(this))}}},l.prototype._saveUserQuery=function(){if(!this.saveButton.attr("disabled")&&this._app.SQL){var e={abort:!1,expression:this._selected.object.Expression,newExpression:this._app.SQL};if(this.emit(l.Events.OnSaveUserQuery,e),!e.abort){var t={name:this._selected.object.Name,expression:e.newExpression,SessionID:this._app.SessionID};this.saveButton.attr("disabled","disabled"),r.default.saveUserQuery(t,function(){var e=(0,o.default)('<svg viewBox="0 0 130.2 130.2"><polyline class="path check" fill="none" stroke="#A7FFA7" stroke-width="16" stroke-linecap="round" stroke-miterlimit="10" points="100.2,40.2 51.5,88.8 29.8,67.5 "/></svg>');this.saveButton.after(e),this._selected.object.Expression=t.expression,setTimeout(function(){this.saveButton.removeAttr("disabled"),e.remove()}.bind(this),1e3)}.bind(this))}}},l.prototype._renderUserQuery=function(e,t){var n=(0,o.default)('<li class="qb-ui-user-queries__item '+s.Utils.canvasDroppableClass+'">'),i=(0,o.default)('<i class="qb-ui-user-queries__icon qb-ui-user-queries__icon--query">'),r=(0,o.default)('<span class="qb-ui-user-queries__name">'+e.Name+"</span>").dblclick(function(){this._rename(e,n)}.bind(this));n.append(i).append(r).attr("type","query").mousedown(function(t){this.saveButton.removeAttr("disabled"),this.editButton.removeAttr("disabled"),this.removeButton.removeAttr("disabled"),this.toggleSelected(n,{type:"query",object:e,element:n}),t.stopPropagation()}.bind(this)),this._subscribeToDrag(e,n),this._appendItem(t,n)},l.prototype._renderQueryFolder=function(e,t){var n,i;if(e.Name){n=(0,o.default)('<li class="qb-ui-user-queries__item node-collapsed">');var r=(0,o.default)('<i class="node-expandable">').click(function(){this._toggleQueryFolder(n)}.bind(this)),s=(0,o.default)('<i class="qb-ui-user-queries__icon qb-ui-user-queries__icon--folder">'),a=(0,o.default)('<span class="qb-ui-user-queries__name">'+e.Name+"</span>").dblclick(function(){this._rename(e,n)}.bind(this));i=(0,o.default)('<ul class="qb-ui-user-queries__folder"></ul>'),n.append(r).append(s).append(a).append(i).attr("type","folder").mousedown(function(t){this.saveButton.attr("disabled","disabled"),this.editButton.attr("disabled","disabled"),this.removeButton.removeAttr("disabled","disabled"),this.toggleSelected(n,{type:"folder",object:e,element:n}),t.stopPropagation()}.bind(this)),this._appendItem(t,n)}else i=t;e.Folders.forEach(function(t){t.ParentFolder=e,this._renderQueryFolder(t,i)}.bind(this)),e.Queries.forEach(function(t){t.ParentFolder=e,this._renderUserQuery(t,i)}.bind(this)),this._subscribeToDrop(n||i,function(t,n){this._moveObject(t,n,e,i)}.bind(this))},l.prototype._appendItem=function(e,t){if("query"===t.attr("type"))e.append(t);else{var n=e.children('[type="folder"]').last();0===n.length?e.prepend(t):n.after(t)}},l.prototype.clearSelected=function(){this._selected=void 0;var e="qb-ui-user-queries__item--selected";(0,o.default)("."+e,this.content).removeClass(e)},l.prototype.toggleSelected=function(e,t){this.clearSelected(),this._selected=t,e.addClass("qb-ui-user-queries__item--selected")},l.prototype.dispose=function(){this.element.empty()},l.prototype._removeSelected=function(){if(!this.removeButton.attr("disabled")){var e={abort:!1,element:this._selected.element,object:this._selected.object};this.emit(l.Events.OnRemove,e),e.abort||("query"===this._selected.type?this._deleteUserQuery(this._selected.object,this._selected.element):this._deleteQueryFolder(this._selected.object,this._selected.element))}},l.prototype._toggleQueryFolder=function(e){e.toggleClass("node-collapsed").toggleClass("node-expanded"),e.children("ul").slideToggle(300)},l.prototype._subscribeToDrag=function(e,t){t.draggable({opacity:.8,appendTo:"body",distance:10,revert:"invalid",helper:"clone",start:function(t,n){n.helper.object=e}})},l.prototype._subscribeToDrop=function(e,t){e.droppable({accept:".qb-ui-user-queries__item",tolerance:"pointer",greedy:!0,drop:function(n,i){var o=i.draggable.parent();e.is(o)||e.children("ul").is(o)||t(i.helper.object,i.draggable)}})},l.prototype.show=function(){this.element.show()},l.prototype.hide=function(){this.element.hide()},l.Events={OnCreateFolder:"OnCreateFolder",OnCreateUserQuery:"OnCreateUserQuery",OnSaveUserQuery:"OnSaveUserQuery",OnRemove:"OnRemove",OnEdit:"OnEdit",OnRename:"OnRename"},l.prototype.Events=l.Events,t.default=l},function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(83)),s=(n(3),i(n(10))),a=i(n(0)),l=n(4),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._app=n,i.element=(0,a.default)(e),i._createButtons(),i.element.append(i._buttonContainer),i._initEvents(),i.setEditor(new r.default),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),o(t,[{key:"_createButtons",value:function(){this._buttonContainer=(0,a.default)('<div class="qb-ui-editor-refresh-button-container ui-corner-all button-container">'),this._goToErrorBtn=(0,a.default)('<input type="button" class="ui-state-default" class="error-controls-go-to-position" value="Go to error position">'),this._clearBtn=(0,a.default)('<input type="button" class="ui-state-default" class="error-controls-clear" value="Clear query">'),this._getBackBtn=(0,a.default)('<input type="button" class="ui-state-default" class="error-controls-restore" value="Get back to the previous query.">'),this._createlabel(),this._refreshButton=(0,a.default)('<span class="qb-ui-editor-refresh-button">').append((0,a.default)('<div class="icon second-icon"></div>')).append((0,a.default)('<div class="icon first-icon"></div>')),this._buttonContainer.append(this._refreshButton).append(this._refreshLabel)}},{key:"_createlabel",value:function(){this._refreshLabel=(0,a.default)('<label class="qb-ui-editor-refresh-button-label">'),this._messageText=(0,a.default)('<div class="message">'),this._controls=(0,a.default)('<div class="controls"></div>').append(this._goToErrorBtn).append(this._clearBtn).append(this._getBackBtn);var e=(0,a.default)("<div>").append(this._messageText).append(this._controls);this._refreshLabel.append(e)}},{key:"_initEvents",value:function(){this._refreshButton.click(this._refreshButtonClick.bind(this)),this._refreshButton.mouseenter(this._refreshButtonHover.bind(this)),this._goToErrorBtn.click(this._clickErrorPos.bind(this)),this._clearBtn.click(this._clearSql.bind(this)),this._getBackBtn.click(this._restoreLastGoodSql.bind(this)),this.element.keydown(this._getKeyHandler())}},{key:"_getKeyHandler",value:function(){var e=this;return a.default.debounce(function(t){t.ctrlKey&&13===t.keyCode&&e._refreshButtonClick()},100)}},{key:"_refreshButtonClick",value:function(){this._refreshButton.addClass("spinning"),this.emit(t.Events.onRefresh)}},{key:"_refreshButtonHover",value:function(){this._buttonContainer.hasClass("error")&&this._buttonContainer.addClass("persistent")}},{key:"_clickErrorPos",value:function(){this.editor.setCursorPosition(this.pos.pos,this.pos.col,this.pos.line)}},{key:"_clearSql",value:function(){this.setSql(""),this.emit(t.Events.onClear),this.clearError()}},{key:"_restoreLastGoodSql",value:function(){this.emit(t.Events.onRestore),this.reset(),this.clearError()}},{key:"_onEditorChange",value:function(){this._afterReset?(this._afterReset=!1,this._buttonContainer.hide()):(this._buttonContainer.show(),this.emit(t.Events.onChange))}},{key:"setEditor",value:function(e){if(null==e.element)throw"Element is null";this.editor&&(e.setSql(this.getSql()),this._removeCurrentEditor()),this.editor=e,this.element.append(e.element),this.editor.onChange(this._onEditorChange.bind(this)),s.default.addElement(this)}},{key:"_removeCurrentEditor",value:function(){s.default.removeElement(this),this.editor.remove(),delete this.editor}},{key:"showError",value:function(e){var t=e.Message;this.pos=e.ErrorPos,this._controls.show(),-1!==this.pos.pos||-1!==this.pos.col||-1!==this.pos.line?this._goToErrorBtn.show():this._goToErrorBtn.hide(),this._messageText.html(t),this._refreshButton.removeClass("spinning"),this._buttonContainer.addClass("error").show()}},{key:"clearError",value:function(){this._sql=this.editor.getSql(),this._controls.hide(),this._refreshButton.removeClass("spinning"),this._buttonContainer.removeClass("error"),this._buttonContainer.hide(),this._messageText.html(this._app.Localizer.Strings.RefreshSQL)}},{key:"setSql",value:function(e){this.editor.setSql(e)}},{key:"reset",value:function(e){this._afterReset=null==e||!0===e,this.editor.setSql(this._sql)}},{key:"getSql",value:function(){return this.editor.getSql()}},{key:"show",value:function(){this.element.show()}},{key:"hide",value:function(){this.element.hide()}},{key:"focus",value:function(){this.editor.focus()}},{key:"dispose",value:function(){this._removeCurrentEditor(),this.element.remove()}}]),t}();t.default=u,u.Events={onGoToErrorPosition:"onGoToErrorPosition",onClear:"onClear",onRestore:"onRestore",onRefresh:"onRefresh",onChange:"onChange"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(4),r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.element=(0,i.default)('<textarea name="sql-code"></textarea>"').prop("readonly",e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),t}();r.prototype.getSql=function(){return this.element.val()},r.prototype.setSql=function(e){this.element.val(e)},r.prototype.setCursorPosition=function(e,t,n){this.focus(),this.element[0].setSelectionRange(e,e)},r.prototype.focus=function(){this.element.focus()},r.prototype.onChange=function(e){this.element.on("input propertychange",e),this.emit(r.Events.onChange,this)},r.prototype.remove=function(){this.element.unbind("input propertychange"),this.element.remove()},r.Events={onChange:"onChange"},t.default=r},function(e,t,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(34),r=n(28),s=Object.assign({},o.Web,r.Web);Object.defineProperties(s,{QueryBuilder:{enumerable:!0,get:function(){return o.Web.QueryBuilderContainer.first()}},CriteriaBuilder:{enumerable:!0,get:function(){return r.Web.CriteriaBuilderContainer.first()}}}),s.UI={QueryBuilder:function(e,t,n){n=Object.assign({},_,n),(t=(0,i.default)(t)).addClass("QueryBuilderControl"),t.attr("HandlersPath",n.host+"/ActiveQueryBuilder/Handler"),t.attr("reiniturl",n.reinitUrl),t.attr("DisableSessionKeeper",n.disableSessionKeeper),t.attr("language",n.language),t.attr("SessionID",e),n.useDefaultTheme&&t.attr("useDefaultTheme",n.useDefaultTheme)},ObjectTreeView:function(e,t,n){n=Object.assign({},f,n),(t=(0,i.default)(t)).addClass("qb-ui-tree-view"),t.addClass("disable-selection"),n.showDescriptionInTooltip&&t.addClass("showDescriptionInTooltip"),t.attr("DefaultExpandMetadataType",n.defaultExpandMetadataType),t.attr("SessionID",e)},SubQueryNavigationBar:function(e,t,n){n=Object.assign({},m,n),(t=(0,i.default)(t)).addClass("qb-ui-canvas-navbar"),t.attr("UnionNavBarVisible",n.unionNavBarVisible),t.attr("SessionID",e)},Canvas:function(e,t,n){n=Object.assign({},g,n),(t=(0,i.default)(t)).addClass("qb-ui-canvas"),n.descriptionColumnVisible||t.addClass("HideColumnDescription"),n.nameColumnVisible||t.addClass("HideColumnName"),n.typeColumnVisible||t.addClass("HideColumnType"),n.markColumnVisible||t.addClass("HideColumnMark"),n.displayKeyCardinality&&t.attr("displaykeycardinality",!0),t.attr("defaultWidth",n.defaultWidth),t.attr("defaultHeight",n.maxHeight),t.attr("linkcolor",n.linkColor),t.attr("linkstyle",n.linkStyle),t.attr("SessionID",e)},StatusBar:function(e,t){(t=(0,i.default)(t)).addClass("qb-ui-editor-statusbar"),t.attr("SessionID",e)},Grid:function(e,t,n){n=Object.assign({},b,n),(t=(0,i.default)(t)).addClass("ui-qb-grid"),t.attr("orColumnCount",n.orColumnCount),t.attr("QuickFilterInExpressionMatchFromBeginning",n.quickFilterInExpressionMatchFromBeginning),t.attr("NullOrderingInOrderBy",n.nullOrderingInOrderBy),t.attr("UseCustomExpressionBuilder",n.useCustomExpressionBuilder),t.attr("SessionID",e)},SqlEditor:function(e,t,n){n=Object.assign({},v,n),(t=(0,i.default)(t)).addClass("qb-ui-editor"),t.attr("readonly",n.readOnly),t.attr("type",n.targetQueryPart),t.attr("SessionID",e)},UserQueries:function(e,t){(t=(0,i.default)(t)).addClass("qb-ui-user-queries"),t.attr("SessionID",e)},CriteriaBuilder:function(e,t,n){n=Object.assign({},y,n),(t=(0,i.default)(t)).addClass("qb-ui-criteria-builder"),t.attr("HandlersPath","/ActiveQueryBuilder/Handler"),t.attr("RootJunctionPrefix",n.rootJunctionPrefix),t.attr("JunctionPostfix",n.junctionPostfix),t.attr("ShowPrefixes",n.showPrefixes),t.attr("AllowCustomLogicalSQLExpressions",n.allowCustomLogicalSQLExpressions),t.attr("SessionID",e),n._autoSubscribe&&t.attr("autoSubscribe","autoSubscribe"),n._notAutoLoad&&t.attr("notAutoLoad","notAutoLoad")},startApplication:function(){var e=this;if(arguments.length<2)return this._startAppById(arguments[0]);var t=arguments[1];i.default.ajax({type:"POST",url:arguments[0],data:{name:t},success:function(){return e._startAppById(t)}})},_startAppById:function(e){(0,o.startApplication)(e),(0,r.startApplication)(e)}};var a={None:0,ExpressionColumn:1,ConditionColumns:2,AllColumns:3},l={Name:0,TypeName:1,NameExceptFields:2,TypeNameExceptFields:3,None:4},u={Asc:0,Desc:1},c={MSAccess:0,MSSQL:1,Simple:2},d={NotSet:0,LeftToRight:1,RightToLeft:2},h={Root:1,Server:2,Database:4,Schema:8,Package:16,Namespaces:30,Table:32,View:64,Procedure:128,Synonym:256,Objects:480,Aggregate:512,Parameter:1024,Field:2048,ForeignKey:4096,ObjectMetadata:7168,UserQuery:8192,UserField:16384,All:32766},p={Query:"Query",SubQuery:"SubQuery",UnionSubQuery:"UnionSubQuery"},f={showFields:!0,showDescriptionInTooltip:!0,autoExpandSingleNode:!0,sortingType:l.NameExceptFields,sortOrder:u.Asc,defaultExpandMetadataType:h.Schema},m={unionNavBarVisible:!0},g={Direction:d.LeftToRight,defaultDatasourceWidth:250,defaultDatasourceHeight:160,markColumnVisible:!0,nameColumnVisible:!0,typeColumnVisible:!0,descriptionColumnVisible:!1,disableQueryProperties:!1,disableDatasourceProperties:!1,disableLinkProperties:!1,linkStyle:c.MSAccess,linkColor:"#000B9D",displayKeyCardinality:!0},b={nullOrderingInOrderBy:!1,orColumnCount:2,useCustomExpressionBuilder:a.None,quickFilterInExpressionMatchFromBeginning:!1},v={readOnly:!1,targetQueryPart:p.Query},y={rootJunctionPrefix:"Where",junctionPostfix:"of the following succeed",showPrefixes:!0,allowCustomLogicalSQLExpressions:!1,_autoSubscribe:!0,_notAutoLoad:!1},_={disableSessionKeeper:!1,useDefaultTheme:!0,language:"Auto",host:""};s.UI.Enums={AffectedColumns:a,ObjectsSortingType:l,SQLOrderByOrders:u,LinkStyle:c,ContentDirection:d,MetadataType:h,QueryPart:p},document.removeEventListener("DOMContentLoaded",o.startApplication),document.removeEventListener("DOMContentLoaded",r.startApplication),e.exports={Web:s}}])});